<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="description" content="The CDN for @tonejs/midi"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="timestamp" content="2022-10-02T14:40:36.565Z"/><link rel="shortcut icon" href="/favicon.ico"/><title>UNPKG - @tonejs/midi</title><script>window.Promise || document.write('\x3Cscript src="/es6-promise@4.2.5/dist/es6-promise.min.js">\x3C/script>\x3Cscript>ES6Promise.polyfill()\x3C/script>')</script><script>window.fetch || document.write('\x3Cscript src="/whatwg-fetch@3.0.0/dist/fetch.umd.js">\x3C/script>')</script><script>window.__DATA__ = {"packageName":"@tonejs/midi","packageVersion":"2.0.28","availableVersions":["1.0.0","1.0.1","1.0.2","1.0.3","1.0.4","1.0.5","1.0.6","1.1.0","1.2.0","1.2.1","1.2.2","1.2.3","2.0.0","2.0.1","2.0.2","2.0.3","2.0.4","2.0.5","2.0.6","2.0.7","2.0.8","2.0.9","2.0.10","2.0.11","2.0.12","2.0.13","2.0.14","2.0.15","2.0.16","2.0.17","2.0.18","2.0.19","2.0.20","2.0.21","2.0.22","2.0.23","2.0.24","2.0.25","2.0.26","2.0.27","2.0.28"],"filename":"/build/Midi.js.map","target":{"path":"/build/Midi.js.map","type":"file","details":{"contentType":"application/json","integrity":"sha384-nY83DWzVmg7sIhAOFgSNpj6mJeTHtH8tjLOGwyNiExlxrhEpHWcyjOEv1QWuzA+r","language":"Source Map (JSON)","size":104606,"uri":null,"highlights":["{<span class=\"code-attr\">\"version\"</span>:<span class=\"code-number\">3</span>,<span class=\"code-attr\">\"file\"</span>:<span class=\"code-string\">\"Midi.js\"</span>,<span class=\"code-attr\">\"mappings\"</span>:<span class=\"code-string\">\"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\"</span>,<span class=\"code-attr\">\"sources\"</span>:[<span class=\"code-string\">\"webpack://@tonejs/midi/webpack/universalModuleDefinition\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./node_modules/array-flatten/dist.es2015/index.js\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./node_modules/midi-file/index.js\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./node_modules/midi-file/lib/midi-parser.js\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./node_modules/midi-file/lib/midi-writer.js\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/BinarySearch.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/ControlChange.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/ControlChanges.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/Encode.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/Header.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/Instrument.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/InstrumentMaps.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/Midi.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/Note.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/PitchBend.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/./src/Track.ts\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/webpack/bootstrap\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/webpack/runtime/define property getters\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/webpack/runtime/hasOwnProperty shorthand\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/webpack/runtime/make namespace object\"</span>,<span class=\"code-string\">\"webpack://@tonejs/midi/webpack/startup\"</span>],<span class=\"code-attr\">\"sourcesContent\"</span>:[<span class=\"code-string\">\"(function webpackUniversalModuleDefinition(root, factory) {\\n\\tif(typeof exports === 'object' &amp;&amp; typeof module === 'object')\\n\\t\\tmodule.exports = factory();\\n\\telse if(typeof define === 'function' &amp;&amp; define.amd)\\n\\t\\tdefine([], factory);\\n\\telse {\\n\\t\\tvar a = factory();\\n\\t\\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\\n\\t}\\n})(typeof self !== 'undefined' ? self : this, function() {\\nreturn \"</span>,<span class=\"code-string\">\"/**\\n * Flatten an array indefinitely.\\n */\\nexport function flatten(array) {\\n    var result = [];\\n    $flatten(array, result);\\n    return result;\\n}\\n/**\\n * Internal flatten function recursively passes `result`.\\n */\\nfunction $flatten(array, result) {\\n    for (var i = 0; i &lt; array.length; i++) {\\n        var value = array[i];\\n        if (Array.isArray(value)) {\\n            $flatten(value, result);\\n        }\\n        else {\\n            result.push(value);\\n        }\\n    }\\n}\\n//# sourceMappingURL=index.js.map\"</span>,<span class=\"code-string\">\"exports.parseMidi = require('./lib/midi-parser')\\nexports.writeMidi = require('./lib/midi-writer')\\n\"</span>,<span class=\"code-string\">\"// data can be any array-like object.  It just needs to support .length, .slice, and an element getter []\\n\\nfunction parseMidi(data) {\\n  var p = new Parser(data)\\n\\n  var headerChunk = p.readChunk()\\n  if (headerChunk.id != 'MThd')\\n    throw \\\"Bad MIDI file.  Expected 'MHdr', got: '\\\" + headerChunk.id + \\\"'\\\"\\n  var header = parseHeader(headerChunk.data)\\n\\n  var tracks = []\\n  for (var i=0; !p.eof() &amp;&amp; i &lt; header.numTracks; i++) {\\n    var trackChunk = p.readChunk()\\n    if (trackChunk.id != 'MTrk')\\n      throw \\\"Bad MIDI file.  Expected 'MTrk', got: '\\\" + trackChunk.id + \\\"'\\\"\\n    var track = parseTrack(trackChunk.data)\\n    tracks.push(track)\\n  }\\n\\n  return {\\n    header: header,\\n    tracks: tracks\\n  }\\n}\\n\\n\\nfunction parseHeader(data) {\\n  var p = new Parser(data)\\n\\n  var format = p.readUInt16()\\n  var numTracks = p.readUInt16()\\n\\n  var result = {\\n    format: format,\\n    numTracks: numTracks\\n  }\\n\\n  var timeDivision = p.readUInt16()\\n  if (timeDivision &amp; 0x8000) {\\n    result.framesPerSecond = 0x100 - (timeDivision &gt;&gt; 8)\\n    result.ticksPerFrame = timeDivision &amp; 0xFF\\n  } else {\\n    result.ticksPerBeat = timeDivision\\n  }\\n\\n  return result\\n}\\n\\nfunction parseTrack(data) {\\n  var p = new Parser(data)\\n\\n  var events = []\\n  while (!p.eof()) {\\n    var event = readEvent()\\n    events.push(event)\\n  }\\n\\n  return events\\n\\n  var lastEventTypeByte = null\\n\\n  function readEvent() {\\n    var event = {}\\n    event.deltaTime = p.readVarInt()\\n\\n    var eventTypeByte = p.readUInt8()\\n\\n    if ((eventTypeByte &amp; 0xf0) === 0xf0) {\\n      // system / meta event\\n      if (eventTypeByte === 0xff) {\\n        // meta event\\n        event.meta = true\\n        var metatypeByte = p.readUInt8()\\n        var length = p.readVarInt()\\n        switch (metatypeByte) {\\n          case 0x00:\\n            event.type = 'sequenceNumber'\\n            if (length !== 2) throw \\\"Expected length for sequenceNumber event is 2, got \\\" + length\\n            event.number = p.readUInt16()\\n            return event\\n          case 0x01:\\n            event.type = 'text'\\n            event.text = p.readString(length)\\n            return event\\n          case 0x02:\\n            event.type = 'copyrightNotice'\\n            event.text = p.readString(length)\\n            return event\\n          case 0x03:\\n            event.type = 'trackName'\\n            event.text = p.readString(length)\\n            return event\\n          case 0x04:\\n            event.type = 'instrumentName'\\n            event.text = p.readString(length)\\n            return event\\n          case 0x05:\\n            event.type = 'lyrics'\\n            event.text = p.readString(length)\\n            return event\\n          case 0x06:\\n            event.type = 'marker'\\n            event.text = p.readString(length)\\n            return event\\n          case 0x07:\\n            event.type = 'cuePoint'\\n            event.text = p.readString(length)\\n            return event\\n          case 0x20:\\n            event.type = 'channelPrefix'\\n            if (length != 1) throw \\\"Expected length for channelPrefix event is 1, got \\\" + length\\n            event.channel = p.readUInt8()\\n            return event\\n          case 0x21:\\n            event.type = 'portPrefix'\\n            if (length != 1) throw \\\"Expected length for portPrefix event is 1, got \\\" + length\\n            event.port = p.readUInt8()\\n            return event\\n          case 0x2f:\\n            event.type = 'endOfTrack'\\n            if (length != 0) throw \\\"Expected length for endOfTrack event is 0, got \\\" + length\\n            return event\\n          case 0x51:\\n            event.type = 'setTempo';\\n            if (length != 3) throw \\\"Expected length for setTempo event is 3, got \\\" + length\\n            event.microsecondsPerBeat = p.readUInt24()\\n            return event\\n          case 0x54:\\n            event.type = 'smpteOffset';\\n            if (length != 5) throw \\\"Expected length for smpteOffset event is 5, got \\\" + length\\n            var hourByte = p.readUInt8()\\n            var FRAME_RATES = { 0x00: 24, 0x20: 25, 0x40: 29, 0x60: 30 }\\n            event.frameRate = FRAME_RATES[hourByte &amp; 0x60]\\n            event.hour = hourByte &amp; 0x1f\\n            event.min = p.readUInt8()\\n            event.sec = p.readUInt8()\\n            event.frame = p.readUInt8()\\n            event.subFrame = p.readUInt8()\\n            return event\\n          case 0x58:\\n            event.type = 'timeSignature'\\n            if (length != 4) throw \\\"Expected length for timeSignature event is 4, got \\\" + length\\n            event.numerator = p.readUInt8()\\n            event.denominator = (1 &lt;&lt; p.readUInt8())\\n            event.metronome = p.readUInt8()\\n            event.thirtyseconds = p.readUInt8()\\n            return event\\n          case 0x59:\\n            event.type = 'keySignature'\\n            if (length != 2) throw \\\"Expected length for keySignature event is 2, got \\\" + length\\n            event.key = p.readInt8()\\n            event.scale = p.readUInt8()\\n            return event\\n          case 0x7f:\\n            event.type = 'sequencerSpecific'\\n            event.data = p.readBytes(length)\\n            return event\\n          default:\\n            event.type = 'unknownMeta'\\n            event.data = p.readBytes(length)\\n            event.metatypeByte = metatypeByte\\n            return event\\n        }\\n      } else if (eventTypeByte == 0xf0) {\\n        event.type = 'sysEx'\\n        var length = p.readVarInt()\\n        event.data = p.readBytes(length)\\n        return event\\n      } else if (eventTypeByte == 0xf7) {\\n        event.type = 'endSysEx'\\n        var length = p.readVarInt()\\n        event.data = p.readBytes(length)\\n        return event\\n      } else {\\n        throw \\\"Unrecognised MIDI event type byte: \\\" + eventTypeByte\\n      }\\n    } else {\\n      // channel event\\n      var param1\\n      if ((eventTypeByte &amp; 0x80) === 0) {\\n        // running status - reuse lastEventTypeByte as the event type.\\n        // eventTypeByte is actually the first parameter\\n        if (lastEventTypeByte === null)\\n          throw \\\"Running status byte encountered before status byte\\\"\\n        param1 = eventTypeByte\\n        eventTypeByte = lastEventTypeByte\\n        event.running = true\\n      } else {\\n        param1 = p.readUInt8()\\n        lastEventTypeByte = eventTypeByte\\n      }\\n      var eventType = eventTypeByte &gt;&gt; 4\\n      event.channel = eventTypeByte &amp; 0x0f\\n      switch (eventType) {\\n        case 0x08:\\n          event.type = 'noteOff'\\n          event.noteNumber = param1\\n          event.velocity = p.readUInt8()\\n          return event\\n        case 0x09:\\n          var velocity = p.readUInt8()\\n          event.type = velocity === 0 ? 'noteOff' : 'noteOn'\\n          event.noteNumber = param1\\n          event.velocity = velocity\\n          if (velocity === 0) event.byte9 = true\\n          return event\\n        case 0x0a:\\n          event.type = 'noteAftertouch'\\n          event.noteNumber = param1\\n          event.amount = p.readUInt8()\\n          return event\\n        case 0x0b:\\n          event.type = 'controller'\\n          event.controllerType = param1\\n          event.value = p.readUInt8()\\n          return event\\n        case 0x0c:\\n          event.type = 'programChange'\\n          event.programNumber = param1\\n          return event\\n        case 0x0d:\\n          event.type = 'channelAftertouch'\\n          event.amount = param1\\n          return event\\n        case 0x0e:\\n          event.type = 'pitchBend'\\n          event.value = (param1 + (p.readUInt8() &lt;&lt; 7)) - 0x2000\\n          return event\\n        default:\\n          throw \\\"Unrecognised MIDI event type: \\\" + eventType\\n      }\\n    }\\n  }\\n}\\n\\nfunction Parser(data) {\\n  this.buffer = data\\n  this.bufferLen = this.buffer.length\\n  this.pos = 0\\n}\\n\\nParser.prototype.eof = function() {\\n  return this.pos &gt;= this.bufferLen\\n}\\n\\nParser.prototype.readUInt8 = function() {\\n  var result = this.buffer[this.pos]\\n  this.pos += 1\\n  return result\\n}\\n\\nParser.prototype.readInt8 = function() {\\n  var u = this.readUInt8()\\n  if (u &amp; 0x80)\\n    return u - 0x100\\n  else\\n    return u\\n}\\n\\nParser.prototype.readUInt16 = function() {\\n  var b0 = this.readUInt8(),\\n      b1 = this.readUInt8()\\n\\n    return (b0 &lt;&lt; 8) + b1\\n}\\n\\nParser.prototype.readInt16 = function() {\\n  var u = this.readUInt16()\\n  if (u &amp; 0x8000)\\n    return u - 0x10000\\n  else\\n    return u\\n}\\n\\nParser.prototype.readUInt24 = function() {\\n  var b0 = this.readUInt8(),\\n      b1 = this.readUInt8(),\\n      b2 = this.readUInt8()\\n\\n    return (b0 &lt;&lt; 16) + (b1 &lt;&lt; 8) + b2\\n}\\n\\nParser.prototype.readInt24 = function() {\\n  var u = this.readUInt24()\\n  if (u &amp; 0x800000)\\n    return u - 0x1000000\\n  else\\n    return u\\n}\\n\\nParser.prototype.readUInt32 = function() {\\n  var b0 = this.readUInt8(),\\n      b1 = this.readUInt8(),\\n      b2 = this.readUInt8(),\\n      b3 = this.readUInt8()\\n\\n    return (b0 &lt;&lt; 24) + (b1 &lt;&lt; 16) + (b2 &lt;&lt; 8) + b3\\n}\\n\\nParser.prototype.readBytes = function(len) {\\n  var bytes = this.buffer.slice(this.pos, this.pos + len)\\n  this.pos += len\\n  return bytes\\n}\\n\\nParser.prototype.readString = function(len) {\\n  var bytes = this.readBytes(len)\\n  return String.fromCharCode.apply(null, bytes)\\n}\\n\\nParser.prototype.readVarInt = function() {\\n  var result = 0\\n  while (!this.eof()) {\\n    var b = this.readUInt8()\\n    if (b &amp; 0x80) {\\n      result += (b &amp; 0x7f)\\n      result &lt;&lt;= 7\\n    } else {\\n      // b is last byte\\n      return result + b\\n    }\\n  }\\n  // premature eof\\n  return result\\n}\\n\\nParser.prototype.readChunk = function() {\\n  var id = this.readString(4)\\n  var length = this.readUInt32()\\n  var data = this.readBytes(length)\\n  return {\\n    id: id,\\n    length: length,\\n    data: data\\n  }\\n}\\n\\nmodule.exports = parseMidi\\n\"</span>,<span class=\"code-string\">\"// data should be the same type of format returned by parseMidi\\n// for maximum compatibililty, returns an array of byte values, suitable for conversion to Buffer, Uint8Array, etc.\\n\\n// opts:\\n// - running              reuse previous eventTypeByte when possible, to compress file\\n// - useByte9ForNoteOff   use 0x09 for noteOff when velocity is zero\\n\\nfunction writeMidi(data, opts) {\\n  if (typeof data !== 'object')\\n    throw 'Invalid MIDI data'\\n\\n  opts = opts || {}\\n\\n  var header = data.header || {}\\n  var tracks = data.tracks || []\\n  var i, len = tracks.length\\n\\n  var w = new Writer()\\n  writeHeader(w, header, len)\\n\\n  for (i=0; i &lt; len; i++) {\\n    writeTrack(w, tracks[i], opts)\\n  }\\n\\n  return w.buffer\\n}\\n\\nfunction writeHeader(w, header, numTracks) {\\n  var format = header.format == null ? 1 : header.format\\n\\n  var timeDivision = 128\\n  if (header.timeDivision) {\\n    timeDivision = header.timeDivision\\n  } else if (header.ticksPerFrame &amp;&amp; header.framesPerSecond) {\\n    timeDivision = (-(header.framesPerSecond &amp; 0xFF) &lt;&lt; 8) | (header.ticksPerFrame &amp; 0xFF)\\n  } else if (header.ticksPerBeat) {\\n    timeDivision = header.ticksPerBeat &amp; 0x7FFF\\n  }\\n\\n  var h = new Writer()\\n  h.writeUInt16(format)\\n  h.writeUInt16(numTracks)\\n  h.writeUInt16(timeDivision)\\n\\n  w.writeChunk('MThd', h.buffer)\\n}\\n\\nfunction writeTrack(w, track, opts) {\\n  var t = new Writer()\\n  var i, len = track.length\\n  var eventTypeByte = null\\n  for (i=0; i &lt; len; i++) {\\n    // Reuse last eventTypeByte when opts.running is set, or event.running is explicitly set on it.\\n    // parseMidi will set event.running for each event, so that we can get an exact copy by default.\\n    // Explicitly set opts.running to false, to override event.running and never reuse last eventTypeByte.\\n    if (opts.running === false || !opts.running &amp;&amp; !track[i].running) eventTypeByte = null\\n\\n    eventTypeByte = writeEvent(t, track[i], eventTypeByte, opts.useByte9ForNoteOff)\\n  }\\n  w.writeChunk('MTrk', t.buffer)\\n}\\n\\nfunction writeEvent(w, event, lastEventTypeByte, useByte9ForNoteOff) {\\n  var type = event.type\\n  var deltaTime = event.deltaTime\\n  var text = event.text || ''\\n  var data = event.data || []\\n  var eventTypeByte = null\\n  w.writeVarInt(deltaTime)\\n\\n  switch (type) {\\n    // meta events\\n    case 'sequenceNumber':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x00)\\n      w.writeVarInt(2)\\n      w.writeUInt16(event.number)\\n      break;\\n\\n    case 'text':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x01)\\n      w.writeVarInt(text.length)\\n      w.writeString(text)\\n      break;\\n\\n    case 'copyrightNotice':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x02)\\n      w.writeVarInt(text.length)\\n      w.writeString(text)\\n      break;\\n\\n    case 'trackName':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x03)\\n      w.writeVarInt(text.length)\\n      w.writeString(text)\\n      break;\\n\\n    case 'instrumentName':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x04)\\n      w.writeVarInt(text.length)\\n      w.writeString(text)\\n      break;\\n\\n    case 'lyrics':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x05)\\n      w.writeVarInt(text.length)\\n      w.writeString(text)\\n      break;\\n\\n    case 'marker':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x06)\\n      w.writeVarInt(text.length)\\n      w.writeString(text)\\n      break;\\n\\n    case 'cuePoint':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x07)\\n      w.writeVarInt(text.length)\\n      w.writeString(text)\\n      break;\\n\\n    case 'channelPrefix':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x20)\\n      w.writeVarInt(1)\\n      w.writeUInt8(event.channel)\\n      break;\\n\\n    case 'portPrefix':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x21)\\n      w.writeVarInt(1)\\n      w.writeUInt8(event.port)\\n      break;\\n\\n    case 'endOfTrack':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x2F)\\n      w.writeVarInt(0)\\n      break;\\n\\n    case 'setTempo':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x51)\\n      w.writeVarInt(3)\\n      w.writeUInt24(event.microsecondsPerBeat)\\n      break;\\n\\n    case 'smpteOffset':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x54)\\n      w.writeVarInt(5)\\n      var FRAME_RATES = { 24: 0x00, 25: 0x20, 29: 0x40, 30: 0x60 }\\n      var hourByte = (event.hour &amp; 0x1F) | FRAME_RATES[event.frameRate]\\n      w.writeUInt8(hourByte)\\n      w.writeUInt8(event.min)\\n      w.writeUInt8(event.sec)\\n      w.writeUInt8(event.frame)\\n      w.writeUInt8(event.subFrame)\\n      break;\\n\\n    case 'timeSignature':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x58)\\n      w.writeVarInt(4)\\n      w.writeUInt8(event.numerator)\\n      var denominator = Math.floor((Math.log(event.denominator) / Math.LN2)) &amp; 0xFF\\n      w.writeUInt8(denominator)\\n      w.writeUInt8(event.metronome)\\n      w.writeUInt8(event.thirtyseconds || 8)\\n      break;\\n\\n    case 'keySignature':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x59)\\n      w.writeVarInt(2)\\n      w.writeInt8(event.key)\\n      w.writeUInt8(event.scale)\\n      break;\\n\\n    case 'sequencerSpecific':\\n      w.writeUInt8(0xFF)\\n      w.writeUInt8(0x7F)\\n      w.writeVarInt(data.length)\\n      w.writeBytes(data)\\n      break;\\n\\n    case 'unknownMeta':\\n      if (event.metatypeByte != null) {\\n        w.writeUInt8(0xFF)\\n        w.writeUInt8(event.metatypeByte)\\n        w.writeVarInt(data.length)\\n        w.writeBytes(data)\\n      }\\n      break;\\n\\n    // system-exclusive\\n    case 'sysEx':\\n      w.writeUInt8(0xF0)\\n      w.writeVarInt(data.length)\\n      w.writeBytes(data)\\n      break;\\n\\n    case 'endSysEx':\\n      w.writeUInt8(0xF7)\\n      w.writeVarInt(data.length)\\n      w.writeBytes(data)\\n      break;\\n\\n    // channel events\\n    case 'noteOff':\\n      // Use 0x90 when opts.useByte9ForNoteOff is set and velocity is zero, or when event.byte9 is explicitly set on it.\\n      // parseMidi will set event.byte9 for each event, so that we can get an exact copy by default.\\n      // Explicitly set opts.useByte9ForNoteOff to false, to override event.byte9 and always use 0x80 for noteOff events.\\n      var noteByte = ((useByte9ForNoteOff !== false &amp;&amp; event.byte9) || (useByte9ForNoteOff &amp;&amp; event.velocity == 0)) ? 0x90 : 0x80\\n\\n      eventTypeByte = noteByte | event.channel\\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\\n      w.writeUInt8(event.noteNumber)\\n      w.writeUInt8(event.velocity)\\n      break;\\n\\n    case 'noteOn':\\n      eventTypeByte = 0x90 | event.channel\\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\\n      w.writeUInt8(event.noteNumber)\\n      w.writeUInt8(event.velocity)\\n      break;\\n\\n    case 'noteAftertouch':\\n      eventTypeByte = 0xA0 | event.channel\\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\\n      w.writeUInt8(event.noteNumber)\\n      w.writeUInt8(event.amount)\\n      break;\\n\\n    case 'controller':\\n      eventTypeByte = 0xB0 | event.channel\\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\\n      w.writeUInt8(event.controllerType)\\n      w.writeUInt8(event.value)\\n      break;\\n\\n    case 'programChange':\\n      eventTypeByte = 0xC0 | event.channel\\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\\n      w.writeUInt8(event.programNumber)\\n      break;\\n\\n    case 'channelAftertouch':\\n      eventTypeByte = 0xD0 | event.channel\\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\\n      w.writeUInt8(event.amount)\\n      break;\\n\\n    case 'pitchBend':\\n      eventTypeByte = 0xE0 | event.channel\\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\\n      var value14 = 0x2000 + event.value\\n      var lsb14 = (value14 &amp; 0x7F)\\n      var msb14 = (value14 &gt;&gt; 7) &amp; 0x7F\\n      w.writeUInt8(lsb14)\\n      w.writeUInt8(msb14)\\n    break;\\n\\n    default:\\n      throw 'Unrecognized event type: ' + type\\n  }\\n  return eventTypeByte\\n}\\n\\n\\nfunction Writer() {\\n  this.buffer = []\\n}\\n\\nWriter.prototype.writeUInt8 = function(v) {\\n  this.buffer.push(v &amp; 0xFF)\\n}\\nWriter.prototype.writeInt8 = Writer.prototype.writeUInt8\\n\\nWriter.prototype.writeUInt16 = function(v) {\\n  var b0 = (v &gt;&gt; 8) &amp; 0xFF,\\n      b1 = v &amp; 0xFF\\n\\n  this.writeUInt8(b0)\\n  this.writeUInt8(b1)\\n}\\nWriter.prototype.writeInt16 = Writer.prototype.writeUInt16\\n\\nWriter.prototype.writeUInt24 = function(v) {\\n  var b0 = (v &gt;&gt; 16) &amp; 0xFF,\\n      b1 = (v &gt;&gt; 8) &amp; 0xFF,\\n      b2 = v &amp; 0xFF\\n\\n  this.writeUInt8(b0)\\n  this.writeUInt8(b1)\\n  this.writeUInt8(b2)\\n}\\nWriter.prototype.writeInt24 = Writer.prototype.writeUInt24\\n\\nWriter.prototype.writeUInt32 = function(v) {\\n  var b0 = (v &gt;&gt; 24) &amp; 0xFF,\\n      b1 = (v &gt;&gt; 16) &amp; 0xFF,\\n      b2 = (v &gt;&gt; 8) &amp; 0xFF,\\n      b3 = v &amp; 0xFF\\n\\n  this.writeUInt8(b0)\\n  this.writeUInt8(b1)\\n  this.writeUInt8(b2)\\n  this.writeUInt8(b3)\\n}\\nWriter.prototype.writeInt32 = Writer.prototype.writeUInt32\\n\\n\\nWriter.prototype.writeBytes = function(arr) {\\n  this.buffer = this.buffer.concat(Array.prototype.slice.call(arr, 0))\\n}\\n\\nWriter.prototype.writeString = function(str) {\\n  var i, len = str.length, arr = []\\n  for (i=0; i &lt; len; i++) {\\n    arr.push(str.codePointAt(i))\\n  }\\n  this.writeBytes(arr)\\n}\\n\\nWriter.prototype.writeVarInt = function(v) {\\n  if (v &lt; 0) throw \\\"Cannot write negative variable-length integer\\\"\\n\\n  if (v &lt;= 0x7F) {\\n    this.writeUInt8(v)\\n  } else {\\n    var i = v\\n    var bytes = []\\n    bytes.push(i &amp; 0x7F)\\n    i &gt;&gt;= 7\\n    while (i) {\\n      var b = i &amp; 0x7F | 0x80\\n      bytes.push(b)\\n      i &gt;&gt;= 7\\n    }\\n    this.writeBytes(bytes.reverse())\\n  }\\n}\\n\\nWriter.prototype.writeChunk = function(id, data) {\\n  this.writeString(id)\\n  this.writeUInt32(data.length)\\n  this.writeBytes(data)\\n}\\n\\nmodule.exports = writeMidi\\n\"</span>,<span class=\"code-string\">\"/**\\n * Return the index of the element at or before the given property\\n * @hidden\\n */\\nexport function search(array: any[], value: any, prop = \\\"ticks\\\"): number {\\n\\tlet beginning = 0;\\n\\tconst len = array.length;\\n\\tlet end = len;\\n\\tif (len &gt; 0 &amp;&amp; array[len - 1][prop] &lt;= value) {\\n\\t\\treturn len - 1;\\n\\t}\\n\\twhile (beginning &lt; end) {\\n\\t\\t// calculate the midpoint for roughly equal partition\\n\\t\\tlet midPoint = Math.floor(beginning + (end - beginning) / 2);\\n\\t\\tconst event = array[midPoint];\\n\\t\\tconst nextEvent = array[midPoint + 1];\\n\\t\\tif (event[prop] === value) {\\n\\t\\t\\t// choose the last one that has the same value\\n\\t\\t\\tfor (let i = midPoint; i &lt; array.length; i++) {\\n\\t\\t\\t\\tconst testEvent = array[i];\\n\\t\\t\\t\\tif (testEvent[prop] === value) {\\n\\t\\t\\t\\t\\tmidPoint = i;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn midPoint;\\n\\t\\t} else if (event[prop] &lt; value &amp;&amp; nextEvent[prop] &gt; value) {\\n\\t\\t\\treturn midPoint;\\n\\t\\t} else if (event[prop] &gt; value) {\\n\\t\\t\\t// search lower\\n\\t\\t\\tend = midPoint;\\n\\t\\t} else if (event[prop] &lt; value) {\\n\\t\\t\\t// search upper\\n\\t\\t\\tbeginning = midPoint + 1;\\n\\t\\t}\\n\\t}\\n\\treturn -1;\\n}\\n\\n/**\\n * Does a binary search to insert the note\\n * in the correct spot in the array\\n * @hidden\\n */\\nexport function insert(array: any[], event: object, prop = \\\"ticks\\\"): void {\\n\\tif (array.length) {\\n\\t\\tconst index = search(array, event[prop], prop);\\n\\t\\tarray.splice(index + 1, 0, event);\\n\\t} else {\\n\\t\\tarray.push(event);\\n\\t}\\n}\\n\"</span>,<span class=\"code-string\">\"import type { MidiControllerEvent } from \\\"midi-file\\\";\\nimport { Header } from \\\"./Header\\\";\\n\\n/**\\n * @hidden\\n */\\nexport type ControlChangeName =\\n\\t| \\\"modulationWheel\\\"\\n\\t| \\\"breath\\\"\\n\\t| \\\"footController\\\"\\n\\t| \\\"portamentoTime\\\"\\n\\t| \\\"volume\\\"\\n\\t| \\\"balance\\\"\\n\\t| \\\"pan\\\"\\n\\t| \\\"sustain\\\"\\n\\t| \\\"portamentoTime\\\"\\n\\t| \\\"sostenuto\\\"\\n\\t| \\\"softPedal\\\"\\n\\t| \\\"legatoFootswitch\\\"\\n\\t| \\\"portamentoControl\\\";\\n\\ninterface ControlChangeMap {\\n\\t[key: number]: ControlChangeName;\\n}\\n/**\\n * A map of values to control change names\\n * @hidden\\n */\\nexport const controlChangeNames: ControlChangeMap = {\\n\\t1: \\\"modulationWheel\\\",\\n\\t2: \\\"breath\\\",\\n\\t4: \\\"footController\\\",\\n\\t5: \\\"portamentoTime\\\",\\n\\t7: \\\"volume\\\",\\n\\t8: \\\"balance\\\",\\n\\t10: \\\"pan\\\",\\n\\t64: \\\"sustain\\\",\\n\\t65: \\\"portamentoTime\\\",\\n\\t66: \\\"sostenuto\\\",\\n\\t67: \\\"softPedal\\\",\\n\\t68: \\\"legatoFootswitch\\\",\\n\\t84: \\\"portamentoControl\\\",\\n};\\n\\n/**\\n * swap the keys and values\\n * @hidden\\n */\\nexport const controlChangeIds = Object.keys(controlChangeNames).reduce((obj, key) =&gt; {\\n\\tobj[controlChangeNames[key]] = key;\\n\\treturn obj;\\n}, {});\\n\\nconst privateHeaderMap = new WeakMap&lt;ControlChange, Header&gt;();\\nconst privateCCNumberMap = new WeakMap&lt;ControlChange, number&gt;();\\n\\n/**\\n * Represents a control change event\\n */\\nexport class ControlChange implements ControlChangeInterface {\\n\\n\\t/**\\n\\t * The number value of the event\\n\\t */\\n\\tvalue: number;\\n\\n\\t/**\\n\\t * The tick time of the event\\n\\t */\\n\\tticks: number;\\n\\n\\t/**\\n\\t * @param event\\n\\t * @param header\\n\\t */\\n\\tconstructor(event: Partial&lt;MidiControllerEvent &amp; { absoluteTime: number }&gt;, header: Header) {\\n\\t\\tprivateHeaderMap.set(this, header);\\n\\t\\tprivateCCNumberMap.set(this, event.controllerType);\\n\\n\\t\\tthis.ticks = event.absoluteTime;\\n\\t\\tthis.value = event.value;\\n\\t}\\n\\n\\t/**\\n\\t * The controller number\\n\\t */\\n\\tget number(): number {\\n\\t\\treturn privateCCNumberMap.get(this);\\n\\t}\\n\\n\\t/**\\n\\t * return the common name of the control number if it exists\\n\\t */\\n\\tget name(): ControlChangeName {\\n\\t\\tif (controlChangeNames[this.number]) {\\n\\t\\t\\treturn controlChangeNames[this.number];\\n\\t\\t} else {\\n\\t\\t\\treturn null;\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * The time of the event in seconds\\n\\t */\\n\\tget time(): number {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\treturn header.ticksToSeconds(this.ticks);\\n\\t}\\n\\n\\tset time(t: number) {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\tthis.ticks = header.secondsToTicks(t);\\n\\t}\\n\\n\\ttoJSON(): ControlChangeJSON {\\n\\t\\treturn {\\n\\t\\t\\tnumber: this.number,\\n\\t\\t\\tticks: this.ticks,\\n\\t\\t\\ttime: this.time,\\n\\t\\t\\tvalue: this.value,\\n\\t\\t};\\n\\t}\\n}\\n\\nexport interface ControlChangeJSON {\\n\\tnumber: number;\\n\\tticks: number;\\n\\ttime: number;\\n\\tvalue: number;\\n}\\n\\nexport interface ControlChangeInterface {\\n\\tnumber: number;\\n\\tticks: number;\\n\\ttime: number;\\n\\tvalue: number;\\n}\\n\"</span>,<span class=\"code-string\">\"import { controlChangeIds } from \\\"./ControlChange\\\";\\nimport { ControlChange, ControlChangeJSON } from \\\"./ControlChange\\\";\\n\\nexport interface ControlChanges {\\n\\t[key: string]: ControlChange[];\\n\\t[key: number]: ControlChange[];\\n}\\n\\nexport interface ControlChangesJSON {\\n\\t[key: string]: ControlChangeJSON[];\\n\\t[key: number]: ControlChangeJSON[];\\n}\\n\\n/**\\n * Automatically creates an alias for named control values using Proxies\\n * @hidden\\n */\\nexport function createControlChanges(): ControlChanges {\\n\\treturn new Proxy({}, {\\n\\t\\t// tslint:disable-next-line: typedef\\n\\t\\tget(target, handler) {\\n\\t\\t\\tif (target[handler]) {\\n\\t\\t\\t\\treturn target[handler];\\n\\t\\t\\t} else if (controlChangeIds.hasOwnProperty(handler)) {\\n\\t\\t\\t\\treturn target[controlChangeIds[handler]];\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t// tslint:disable-next-line: typedef\\n\\t\\tset(target, handler, value) {\\n\\t\\t\\tif (controlChangeIds.hasOwnProperty(handler)) {\\n\\t\\t\\t\\ttarget[controlChangeIds[handler]] = value;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\ttarget[handler] = value;\\n\\t\\t\\t}\\n\\t\\t\\treturn true;\\n\\t\\t},\\n\\t});\\n}\\n\"</span>,<span class=\"code-string\">\"import { writeMidi } from \\\"midi-file\\\";\\n\\nimport type {\\n\\tMidiControllerEvent, MidiData, MidiEndOfTrackEvent,\\n\\tMidiEvent, MidiKeySignatureEvent,\\n\\tMidiNoteOffEvent, MidiNoteOnEvent, MidiPitchBendEvent,\\n\\tMidiProgramChangeEvent, MidiSetTempoEvent, MidiTextEvent,\\n\\tMidiTimeSignatureEvent, MidiTrackNameEvent\\n} from \\\"midi-file\\\";\\n\\nimport { KeySignatureEvent, keySignatureKeys, MetaEvent, TempoEvent, TimeSignatureEvent } from \\\"./Header\\\";\\nimport { ControlChange } from \\\"./ControlChange\\\";\\nimport { PitchBend } from \\\"./PitchBend\\\";\\nimport { Midi } from \\\"./Midi\\\";\\nimport { Note } from \\\"./Note\\\";\\nimport { Track } from \\\"./Track\\\";\\n\\nimport { flatten } from \\\"array-flatten\\\";\\n\\n/** Used to add `absoluteTime` property. */\\ntype WithAbsoluteTime = { absoluteTime: number };\\n\\nfunction encodeNote(note: Note, channel: number): [\\n\\t(MidiNoteOnEvent &amp; WithAbsoluteTime),\\n\\t(MidiNoteOffEvent &amp; WithAbsoluteTime)\\n] {\\n\\treturn [{\\n\\t\\tabsoluteTime: note.ticks,\\n\\t\\tchannel,\\n\\t\\tdeltaTime: 0,\\n\\t\\tnoteNumber: note.midi,\\n\\t\\ttype: \\\"noteOn\\\",\\n\\t\\tvelocity: Math.floor(note.velocity * 127),\\n\\t},\\n\\t{\\n\\t\\tabsoluteTime: note.ticks + note.durationTicks,\\n\\t\\tchannel,\\n\\t\\tdeltaTime: 0,\\n\\t\\tnoteNumber: note.midi,\\n\\t\\ttype: \\\"noteOff\\\",\\n\\t\\tvelocity: Math.floor(note.noteOffVelocity * 127),\\n\\t}];\\n}\\n\\nfunction encodeNotes(track: Track): Array&lt;MidiNoteOnEvent | MidiNoteOffEvent&gt; {\\n\\treturn flatten(track.notes.map(note =&gt; encodeNote(note, track.channel))) as unknown as Array&lt;MidiNoteOnEvent | MidiNoteOffEvent&gt;;\\n}\\n\\nfunction encodeControlChange(\\n\\tcc: ControlChange,\\n\\tchannel: number\\n): (MidiControllerEvent &amp; WithAbsoluteTime) {\\n\\treturn {\\n\\t\\tabsoluteTime: cc.ticks,\\n\\t\\tchannel,\\n\\t\\tcontrollerType: cc.number,\\n\\t\\tdeltaTime: 0,\\n\\t\\ttype: \\\"controller\\\",\\n\\t\\tvalue: Math.floor(cc.value * 127),\\n\\t};\\n}\\n\\nfunction encodeControlChanges(track: Track): MidiControllerEvent[] {\\n\\tconst controlChanges: MidiControllerEvent[] = [];\\n\\tfor (let i = 0; i &lt; 127; i++) {\\n\\t\\tif (track.controlChanges.hasOwnProperty(i)) {\\n\\t\\t\\ttrack.controlChanges[i].forEach((cc: ControlChange) =&gt; {\\n\\t\\t\\t\\tcontrolChanges.push(encodeControlChange(cc, track.channel));\\n\\t\\t\\t});\\n\\t\\t}\\n\\t}\\n\\treturn controlChanges;\\n}\\n\\nfunction encodePitchBend(\\n\\tpb: PitchBend,\\n\\tchannel: number\\n): (MidiPitchBendEvent &amp; WithAbsoluteTime) {\\n\\treturn {\\n\\t\\tabsoluteTime: pb.ticks,\\n\\t\\tchannel,\\n\\t\\tdeltaTime: 0,\\n\\t\\ttype: \\\"pitchBend\\\",\\n\\t\\tvalue: pb.value,\\n\\t};\\n}\\n\\nfunction encodePitchBends(track: Track): MidiPitchBendEvent[] {\\n\\tconst pitchBends: MidiPitchBendEvent[] = [];\\n\\ttrack.pitchBends.forEach((pb: PitchBend) =&gt; {\\n\\t\\tpitchBends.push(encodePitchBend(pb, track.channel));\\n\\t});\\t\\n\\treturn pitchBends;\\n}\\n\\nfunction encodeInstrument(track: Track): (MidiProgramChangeEvent &amp; WithAbsoluteTime) {\\n\\treturn {\\n\\t\\tabsoluteTime: 0,\\n\\t\\tchannel: track.channel,\\n\\t\\tdeltaTime: 0,\\n\\t\\tprogramNumber: track.instrument.number,\\n\\t\\ttype: \\\"programChange\\\",\\n\\t};\\n}\\n\\nfunction encodeTrackName(name: string): (MidiTrackNameEvent &amp; WithAbsoluteTime) {\\n\\treturn {\\n\\t\\tabsoluteTime: 0,\\n\\t\\tdeltaTime: 0,\\n\\t\\tmeta: true,\\n\\t\\ttext: name,\\n\\t\\ttype: \\\"trackName\\\",\\n\\t};\\n}\\n\\nfunction encodeTempo(tempo: TempoEvent): (MidiSetTempoEvent &amp; WithAbsoluteTime) {\\n\\treturn {\\n\\t\\tabsoluteTime: tempo.ticks,\\n\\t\\tdeltaTime: 0,\\n\\t\\tmeta: true,\\n\\t\\tmicrosecondsPerBeat: Math.floor(60000000 / tempo.bpm),\\n\\t\\ttype: \\\"setTempo\\\",\\n\\t};\\n}\\n\\nfunction encodeTimeSignature(timeSig: TimeSignatureEvent): (MidiTimeSignatureEvent &amp; WithAbsoluteTime) {\\n\\treturn {\\n\\t\\tabsoluteTime: timeSig.ticks,\\n\\t\\tdeltaTime: 0,\\n\\t\\tdenominator: timeSig.timeSignature[1],\\n\\t\\tmeta: true,\\n\\t\\tmetronome: 24,\\n\\t\\tnumerator: timeSig.timeSignature[0],\\n\\t\\tthirtyseconds: 8,\\n\\t\\ttype: \\\"timeSignature\\\",\\n\\t};\\n}\\n\\n// function encodeMeta(event: )\\n\\nfunction encodeKeySignature(keySig: KeySignatureEvent): (MidiKeySignatureEvent &amp; WithAbsoluteTime) {\\n\\tconst keyIndex = keySignatureKeys.indexOf(keySig.key);\\n\\treturn {\\n\\t\\tabsoluteTime: keySig.ticks,\\n\\t\\tdeltaTime: 0,\\n\\t\\tkey: keyIndex + 7,\\n\\t\\tmeta: true,\\n\\t\\tscale: keySig.scale === \\\"major\\\" ? 0 : 1,\\n\\t\\ttype: \\\"keySignature\\\",\\n\\t};\\n}\\n\\nfunction encodeText(\\n\\ttextEvent: (MetaEvent &amp; { ticks: number; })\\n): (MidiTextEvent &amp; WithAbsoluteTime) {\\n\\treturn {\\n\\t\\tabsoluteTime: textEvent.ticks,\\n\\t\\tdeltaTime: 0,\\n\\t\\tmeta: true,\\n\\t\\ttext: textEvent.text,\\n\\t\\ttype: textEvent.type,\\n\\t} as (MidiTextEvent &amp; WithAbsoluteTime);\\n}\\n\\n/**\\n * Convert the MIDI object to an array.\\n */\\nexport function encode(midi: Midi): Uint8Array {\\n\\tconst midiData: MidiData = {\\n\\t\\theader: {\\n\\t\\t\\tformat: 1,\\n\\t\\t\\tnumTracks: midi.tracks.length + 1,\\n\\t\\t\\tticksPerBeat: midi.header.ppq,\\n\\t\\t},\\n\\t\\ttracks: [\\n\\t\\t\\t[\\n\\t\\t\\t\\t// The name data.\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tabsoluteTime: 0,\\n\\t\\t\\t\\t\\tdeltaTime: 0,\\n\\t\\t\\t\\t\\tmeta: true,\\n\\t\\t\\t\\t\\ttext: midi.header.name,\\n\\t\\t\\t\\t\\ttype: \\\"trackName\\\",\\n\\t\\t\\t\\t} as MidiTrackNameEvent,\\n\\t\\t\\t\\t...midi.header.keySignatures.map(keySig =&gt; encodeKeySignature(keySig)),\\n\\t\\t\\t\\t// and all the meta events (cloned for safety)\\n\\t\\t\\t\\t...midi.header.meta.map(e =&gt; encodeText(e)),\\n\\t\\t\\t\\t// the first track is all the tempo data\\n\\t\\t\\t\\t...midi.header.tempos.map(tempo =&gt; encodeTempo(tempo)),\\n\\t\\t\\t\\t// and the time signature data.\\n\\t\\t\\t\\t...midi.header.timeSignatures.map(timeSig =&gt; encodeTimeSignature(timeSig)),\\n\\t\\t\\t],\\n\\t\\t\\t// The remaining tracks.\\n\\t\\t\\t...midi.tracks.map((track) =&gt; {\\n\\t\\t\\t\\treturn [\\n\\t\\t\\t\\t\\t// Add the name\\n\\t\\t\\t\\t\\tencodeTrackName(track.name),\\n\\t\\t\\t\\t\\t// the instrument\\n\\t\\t\\t\\t\\tencodeInstrument(track),\\n\\t\\t\\t\\t\\t// add the notes\\n\\t\\t\\t\\t\\t...encodeNotes(track),\\n\\t\\t\\t\\t\\t// and the control changes\\n\\t\\t\\t\\t\\t...encodeControlChanges(track),\\n\\t\\t\\t\\t\\t// and the pitch bends.\\n\\t\\t\\t\\t\\t...encodePitchBends(track)\\n\\t\\t\\t\\t];\\n\\t\\t\\t}),\\n\\t\\t],\\n\\t};\\n\\n\\t// Sort and set `deltaTime` of all of the tracks.\\n\\tmidiData.tracks = midiData.tracks.map((track: (MidiEvent &amp; WithAbsoluteTime)[]) =&gt; {\\n\\t\\ttrack = track.sort((a, b) =&gt; a.absoluteTime - b.absoluteTime);\\n\\t\\t\\n\\t\\tlet lastTime = 0;\\n\\t\\ttrack.forEach(note =&gt; {\\n\\t\\t\\tnote.deltaTime = note.absoluteTime - lastTime;\\n\\t\\t\\tlastTime = note.absoluteTime;\\n\\t\\t\\tdelete note.absoluteTime;\\n\\t\\t});\\n\\n\\t\\t// End of track.\\n\\t\\ttrack.push({\\n\\t\\t\\tdeltaTime: 0,\\n\\t\\t\\tmeta: true,\\n\\t\\t\\ttype: \\\"endOfTrack\\\",\\n\\t\\t} as (MidiEndOfTrackEvent &amp; WithAbsoluteTime));\\n\\t\\treturn track;\\n\\t});\\n\\n\\t// Rreturn `midiData`.\\n\\treturn new Uint8Array(writeMidi(midiData));\\n}\\n\"</span>,<span class=\"code-string\">\"import type { MidiData, MidiEvent } from \\\"midi-file\\\";\\nimport { search } from \\\"./BinarySearch\\\";\\n\\nconst privatePPQMap = new WeakMap&lt;Header, number&gt;();\\n\\nexport interface TempoEvent {\\n\\tticks: number;\\n\\tbpm: number;\\n\\ttime?: number;\\n}\\n\\nexport interface TimeSignatureEvent {\\n\\tticks: number;\\n\\ttimeSignature: number[];\\n\\tmeasures?: number;\\n}\\n\\nexport interface MetaEvent {\\n\\ttext: string;\\n\\ttype: string;\\n\\tticks: number;\\n}\\n\\nexport interface KeySignatureEvent {\\n\\tticks: number;\\n\\tkey: string;\\n\\tscale: string;\\n}\\n\\n/**\\n * @hidden\\n */\\nexport const keySignatureKeys = [\\n\\t\\\"Cb\\\",\\n\\t\\\"Gb\\\",\\n\\t\\\"Db\\\",\\n\\t\\\"Ab\\\",\\n\\t\\\"Eb\\\",\\n\\t\\\"Bb\\\",\\n\\t\\\"F\\\",\\n\\t\\\"C\\\",\\n\\t\\\"G\\\",\\n\\t\\\"D\\\",\\n\\t\\\"A\\\",\\n\\t\\\"E\\\",\\n\\t\\\"B\\\",\\n\\t\\\"F#\\\",\\n\\t\\\"C#\\\",\\n];\\n\\n/**\\n * The parsed MIDI file header.\\n */\\nexport class Header {\\n\\t/**\\n\\t * The array of all the tempo events.\\n\\t */\\n\\ttempos: TempoEvent[] = [];\\n\\n\\t/**\\n\\t * The time signatures.\\n\\t */\\n\\ttimeSignatures: TimeSignatureEvent[] = [];\\n\\n\\t/**\\n\\t * The time signatures.\\n\\t */\\n\\tkeySignatures: KeySignatureEvent[] = [];\\n\\n\\t/**\\n\\t * Additional meta events.\\n\\t */\\n\\tmeta: MetaEvent[] = [];\\n\\n\\t/**\\n\\t * The name of the MIDI file;\\n\\t */\\n\\tname = \\\"\\\";\\n\\n\\tconstructor(midiData?: MidiData) {\\n\\t\\t// Look through all the tracks for tempo changes.\\n\\t\\tprivatePPQMap.set(this, 480);\\n\\n\\t\\tif (midiData) {\\n\\t\\t\\tprivatePPQMap.set(this, midiData.header.ticksPerBeat);\\n\\t\\t\\t\\n\\t\\t\\t// Check time signature and tempo events from all of the tracks.\\n\\t\\t\\tmidiData.tracks.forEach(track =&gt; {\\n\\t\\t\\t\\ttrack.forEach((event: MidiEvent &amp; { absoluteTime: number; meta?: boolean; }) =&gt; {\\n\\t\\t\\t\\t\\tif (event.meta) {\\n\\t\\t\\t\\t\\t\\tif (event.type === \\\"timeSignature\\\") {\\n\\t\\t\\t\\t\\t\\t\\tthis.timeSignatures.push({\\n\\t\\t\\t\\t\\t\\t\\t\\tticks: event.absoluteTime,\\n\\t\\t\\t\\t\\t\\t\\t\\ttimeSignature: [\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tevent.numerator,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tevent.denominator,\\n\\t\\t\\t\\t\\t\\t\\t\\t],\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t} else if (event.type === \\\"setTempo\\\") {\\n\\t\\t\\t\\t\\t\\t\\tthis.tempos.push({\\n\\t\\t\\t\\t\\t\\t\\t\\tbpm: 60000000 / event.microsecondsPerBeat,\\n\\t\\t\\t\\t\\t\\t\\t\\tticks: event.absoluteTime,\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t} else if (event.type === \\\"keySignature\\\") {\\n\\t\\t\\t\\t\\t\\t\\tthis.keySignatures.push({\\n\\t\\t\\t\\t\\t\\t\\t\\tkey: keySignatureKeys[event.key + 7],\\n\\t\\t\\t\\t\\t\\t\\t\\tscale: event.scale === 0 ? \\\"major\\\" : \\\"minor\\\",\\n\\t\\t\\t\\t\\t\\t\\t\\tticks: event.absoluteTime,\\n\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Check the first track for other relevant data.\\n\\t\\t\\tlet firstTrackCurrentTicks = 0; // Used for absolute times.\\n\\t\\t\\tmidiData.tracks[0].forEach((event: MidiEvent &amp; { meta?: boolean; }) =&gt; {\\n\\t\\t\\t\\tfirstTrackCurrentTicks += event.deltaTime;\\n\\n\\t\\t\\t\\tif (event.meta) {\\n\\t\\t\\t\\t\\tif (event.type === \\\"trackName\\\") {\\n\\t\\t\\t\\t\\t\\tthis.name = event.text;\\n\\t\\t\\t\\t\\t} else if (\\n\\t\\t\\t\\t\\t\\tevent.type === \\\"text\\\" ||\\n\\t\\t\\t\\t\\t\\tevent.type === \\\"cuePoint\\\" ||\\n\\t\\t\\t\\t\\t\\tevent.type === \\\"marker\\\" ||\\n\\t\\t\\t\\t\\t\\tevent.type === \\\"lyrics\\\"\\n\\t\\t\\t\\t\\t) {\\n\\t\\t\\t\\t\\t\\tthis.meta.push({\\n\\t\\t\\t\\t\\t\\t\\ttext: event.text,\\n\\t\\t\\t\\t\\t\\t\\tticks: firstTrackCurrentTicks,\\n\\t\\t\\t\\t\\t\\t\\ttype: event.type,\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\n\\t\\t\\tthis.update();\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * This must be invoked after any changes are made to the tempo array\\n\\t * or the timeSignature array for the updated values to be reflected.\\n\\t */\\n\\tupdate(): void {\\n\\t\\tlet currentTime = 0;\\n\\t\\tlet lastEventBeats = 0;\\n\\n\\t\\t// Make sure it's sorted;\\n\\t\\tthis.tempos.sort((a, b) =&gt; a.ticks - b.ticks);\\n\\t\\tthis.tempos.forEach((event, index) =&gt; {\\n\\t\\t\\tconst lastBPM =\\n\\t\\t\\t\\tindex &gt; 0 ? this.tempos[index - 1].bpm : this.tempos[0].bpm;\\n\\t\\t\\tconst beats = event.ticks / this.ppq - lastEventBeats;\\n\\t\\t\\tconst elapsedSeconds = (60 / lastBPM) * beats;\\n\\n\\t\\t\\tevent.time = elapsedSeconds + currentTime;\\n\\t\\t\\tcurrentTime = event.time;\\n\\t\\t\\tlastEventBeats += beats;\\n\\t\\t});\\n\\n\\t\\tthis.timeSignatures.sort((a, b) =&gt; a.ticks - b.ticks);\\n\\t\\tthis.timeSignatures.forEach((event, index) =&gt; {\\n\\t\\t\\tconst lastEvent =\\n\\t\\t\\t\\tindex &gt; 0\\n\\t\\t\\t\\t\\t? this.timeSignatures[index - 1]\\n\\t\\t\\t\\t\\t: this.timeSignatures[0];\\n\\n\\t\\t\\tconst elapsedBeats = (event.ticks - lastEvent.ticks) / this.ppq;\\n\\t\\t\\tconst elapsedMeasures =\\n\\t\\t\\t\\telapsedBeats /\\n\\t\\t\\t\\tlastEvent.timeSignature[0] /\\n\\t\\t\\t\\t(lastEvent.timeSignature[1] / 4);\\n\\n\\t\\t\\tlastEvent.measures = lastEvent.measures || 0;\\n\\t\\t\\tevent.measures = elapsedMeasures + lastEvent.measures;\\n\\t\\t});\\n\\t}\\n\\n\\t/**\\n\\t * Convert ticks into seconds based on the tempo changes.\\n\\t */\\n\\tticksToSeconds(ticks: number): number {\\n\\t\\t// Find the relevant position.\\n\\t\\tconst index = search(this.tempos, ticks);\\n\\n\\t\\tif (index !== -1) {\\n\\t\\t\\tconst tempo = this.tempos[index];\\n\\t\\t\\tconst tempoTime = tempo.time;\\n\\t\\t\\tconst elapsedBeats = (ticks - tempo.ticks) / this.ppq;\\n\\n\\t\\t\\treturn tempoTime + (60 / tempo.bpm) * elapsedBeats;\\n\\t\\t} else {\\n\\t\\t\\t// Assume 120.\\n\\t\\t\\tconst beats = ticks / this.ppq;\\n\\t\\t\\treturn (60 / 120) * beats;\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * Convert ticks into measures based off of the time signatures.\\n\\t */\\n\\tticksToMeasures(ticks: number): number {\\n\\t\\tconst index = search(this.timeSignatures, ticks);\\n\\n\\t\\tif (index !== -1) {\\n\\t\\t\\tconst timeSigEvent = this.timeSignatures[index];\\n\\t\\t\\tconst elapsedBeats = (ticks - timeSigEvent.ticks) / this.ppq;\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttimeSigEvent.measures +\\n\\t\\t\\t\\telapsedBeats /\\n\\t\\t\\t\\t\\t(timeSigEvent.timeSignature[0] /\\n\\t\\t\\t\\t\\t\\ttimeSigEvent.timeSignature[1]) /\\n\\t\\t\\t\\t\\t4\\n\\t\\t\\t);\\n\\t\\t} else {\\n\\t\\t\\treturn ticks / this.ppq / 4;\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * The number of ticks per quarter note.\\n\\t */\\n\\tget ppq(): number {\\n\\t\\treturn privatePPQMap.get(this);\\n\\t}\\n\\n\\t/**\\n\\t * Convert seconds to ticks based on the tempo events.\\n\\t */\\n\\tsecondsToTicks(seconds: number): number {\\n\\t\\t// Find the relevant position.\\n\\t\\tconst index = search(this.tempos, seconds, \\\"time\\\");\\n\\n\\t\\tif (index !== -1) {\\n\\t\\t\\tconst tempo = this.tempos[index];\\n\\t\\t\\tconst tempoTime = tempo.time;\\n\\t\\t\\tconst elapsedTime = seconds - tempoTime;\\n\\t\\t\\tconst elapsedBeats = elapsedTime / (60 / tempo.bpm);\\n\\n\\t\\t\\treturn Math.round(tempo.ticks + elapsedBeats * this.ppq);\\n\\t\\t} else {\\n\\t\\t\\t// Assume 120.\\n\\t\\t\\tconst beats = seconds / (60 / 120);\\n\\t\\t\\treturn Math.round(beats * this.ppq);\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * Convert the header into an object.\\n\\t */\\n\\ttoJSON(): HeaderJSON {\\n\\t\\treturn {\\n\\t\\t\\tkeySignatures: this.keySignatures,\\n\\t\\t\\tmeta: this.meta,\\n\\t\\t\\tname: this.name,\\n\\t\\t\\tppq: this.ppq,\\n\\t\\t\\ttempos: this.tempos.map((t) =&gt; {\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\tbpm: t.bpm,\\n\\t\\t\\t\\t\\tticks: t.ticks,\\n\\t\\t\\t\\t};\\n\\t\\t\\t}),\\n\\t\\t\\ttimeSignatures: this.timeSignatures,\\n\\t\\t};\\n\\t}\\n\\n\\t/**\\n\\t * Parse a header json object.\\n\\t */\\n\\tfromJSON(json: HeaderJSON): void {\\n\\t\\tthis.name = json.name;\\n\\t\\t\\n\\t\\t// Clone all the attributes.\\n\\t\\tthis.tempos = json.tempos.map((t) =&gt; Object.assign({}, t));\\n\\t\\tthis.timeSignatures = json.timeSignatures.map((t) =&gt;\\n\\t\\t\\tObject.assign({}, t)\\n\\t\\t);\\n\\t\\tthis.keySignatures = json.keySignatures.map((t) =&gt;\\n\\t\\t\\tObject.assign({}, t)\\n\\t\\t);\\n\\t\\tthis.meta = json.meta.map((t) =&gt; Object.assign({}, t));\\n\\n\\t\\tprivatePPQMap.set(this, json.ppq);\\n\\t\\tthis.update();\\n\\t}\\n\\n\\t/**\\n\\t * Update the tempo of the midi to a single tempo. Will remove and replace\\n\\t * any other tempos currently set and update all of the event timing.\\n\\t * @param bpm The tempo in beats per second.\\n\\t */\\n\\tsetTempo(bpm: number): void {\\n\\t\\tthis.tempos = [\\n\\t\\t\\t{\\n\\t\\t\\t\\tbpm,\\n\\t\\t\\t\\tticks: 0,\\n\\t\\t\\t},\\n\\t\\t];\\n\\t\\tthis.update();\\n\\t}\\n}\\n\\nexport interface HeaderJSON {\\n\\tname: string;\\n\\tppq: number;\\n\\tmeta: MetaEvent[];\\n\\ttempos: TempoEvent[];\\n\\ttimeSignatures: TimeSignatureEvent[];\\n\\tkeySignatures: KeySignatureEvent[];\\n}\\n\"</span>,<span class=\"code-string\">\"import type {\\n\\tMidiEvent,\\n\\tMidiProgramChangeEvent\\n} from \\\"midi-file\\\";\\n\\nimport { DrumKitByPatchID, instrumentByPatchID, InstrumentFamilyByID } from \\\"./InstrumentMaps\\\";\\nimport { Track } from \\\"./Track\\\";\\n\\n/**\\n * @hidden\\n */\\nconst privateTrackMap = new WeakMap&lt;Instrument, Track&gt;();\\n\\n/**\\n * Describes the MIDI instrument of a track.\\n */\\nexport class Instrument {\\n\\n\\t/**\\n\\t * The instrument number. Defaults to 0.\\n\\t */\\n\\tnumber = 0;\\n\\n\\t/**\\n\\t * @param trackData\\n\\t * @param track \\n\\t */\\n\\tconstructor(trackData: MidiEvent[], track: Track) {\\n\\t\\tprivateTrackMap.set(this, track);\\n\\t\\tthis.number = 0;\\n\\n\\t\\tif (trackData) {\\n\\t\\t\\tconst programChange = trackData.find(\\n\\t\\t\\t\\te =&gt; e.type === \\\"programChange\\\"\\n\\t\\t\\t) as MidiProgramChangeEvent;\\n\\n\\t\\t\\t// Set 'number' from 'programNumber' if exists.\\n\\t\\t\\tif (programChange) {\\n\\t\\t\\t\\tthis.number = programChange.programNumber;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * The common name of the instrument.\\n\\t */\\n\\tget name(): string {\\n\\t\\tif (this.percussion) {\\n\\t\\t\\treturn DrumKitByPatchID[this.number];\\n\\t\\t} else {\\n\\t\\t\\treturn instrumentByPatchID[this.number];\\n\\t\\t}\\n\\t}\\n\\n\\tset name(n: string) {\\n\\t\\tconst patchNumber = instrumentByPatchID.indexOf(n);\\n\\t\\tif (patchNumber !== -1) {\\n\\t\\t\\tthis.number = patchNumber;\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * The instrument family, e.g. \\\"piano\\\".\\n\\t */\\n\\tget family(): string {\\n\\t\\tif (this.percussion) {\\n\\t\\t\\treturn \\\"drums\\\";\\n\\t\\t} else {\\n\\t\\t\\treturn InstrumentFamilyByID[Math.floor(this.number / 8)];\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * If the instrument is a percussion instrument.\\n\\t */\\n\\tget percussion(): boolean {\\n\\t\\tconst track = privateTrackMap.get(this);\\n\\t\\treturn track.channel === 9;\\n\\t}\\n\\n\\t/**\\n\\t * Convert it to JSON form.\\n\\t */\\n\\ttoJSON(): InstrumentJSON {\\n\\t\\treturn {\\n\\t\\t\\tfamily: this.family,\\n\\t\\t\\tnumber: this.number,\\n\\t\\t\\tname: this.name\\n\\t\\t};\\n\\t}\\n\\n\\t/**\\n\\t * Convert from JSON form.\\n\\t */\\n\\tfromJSON(json: InstrumentJSON): void {\\n\\t\\tthis.number = json.number;\\n\\t}\\n}\\n\\nexport interface InstrumentJSON {\\n\\tfamily: string;\\n\\tnumber: number;\\n\\tname: string;\\n}\\n\"</span>,<span class=\"code-string\">\"export const instrumentByPatchID = [\\n\\t\\\"acoustic grand piano\\\",\\n\\t\\\"bright acoustic piano\\\",\\n\\t\\\"electric grand piano\\\",\\n\\t\\\"honky-tonk piano\\\",\\n\\t\\\"electric piano 1\\\",\\n\\t\\\"electric piano 2\\\",\\n\\t\\\"harpsichord\\\",\\n\\t\\\"clavi\\\",\\n\\t\\\"celesta\\\",\\n\\t\\\"glockenspiel\\\",\\n\\t\\\"music box\\\",\\n\\t\\\"vibraphone\\\",\\n\\t\\\"marimba\\\",\\n\\t\\\"xylophone\\\",\\n\\t\\\"tubular bells\\\",\\n\\t\\\"dulcimer\\\",\\n\\t\\\"drawbar organ\\\",\\n\\t\\\"percussive organ\\\",\\n\\t\\\"rock organ\\\",\\n\\t\\\"church organ\\\",\\n\\t\\\"reed organ\\\",\\n\\t\\\"accordion\\\",\\n\\t\\\"harmonica\\\",\\n\\t\\\"tango accordion\\\",\\n\\t\\\"acoustic guitar (nylon)\\\",\\n\\t\\\"acoustic guitar (steel)\\\",\\n\\t\\\"electric guitar (jazz)\\\",\\n\\t\\\"electric guitar (clean)\\\",\\n\\t\\\"electric guitar (muted)\\\",\\n\\t\\\"overdriven guitar\\\",\\n\\t\\\"distortion guitar\\\",\\n\\t\\\"guitar harmonics\\\",\\n\\t\\\"acoustic bass\\\",\\n\\t\\\"electric bass (finger)\\\",\\n\\t\\\"electric bass (pick)\\\",\\n\\t\\\"fretless bass\\\",\\n\\t\\\"slap bass 1\\\",\\n\\t\\\"slap bass 2\\\",\\n\\t\\\"synth bass 1\\\",\\n\\t\\\"synth bass 2\\\",\\n\\t\\\"violin\\\",\\n\\t\\\"viola\\\",\\n\\t\\\"cello\\\",\\n\\t\\\"contrabass\\\",\\n\\t\\\"tremolo strings\\\",\\n\\t\\\"pizzicato strings\\\",\\n\\t\\\"orchestral harp\\\",\\n\\t\\\"timpani\\\",\\n\\t\\\"string ensemble 1\\\",\\n\\t\\\"string ensemble 2\\\",\\n\\t\\\"synthstrings 1\\\",\\n\\t\\\"synthstrings 2\\\",\\n\\t\\\"choir aahs\\\",\\n\\t\\\"voice oohs\\\",\\n\\t\\\"synth voice\\\",\\n\\t\\\"orchestra hit\\\",\\n\\t\\\"trumpet\\\",\\n\\t\\\"trombone\\\",\\n\\t\\\"tuba\\\",\\n\\t\\\"muted trumpet\\\",\\n\\t\\\"french horn\\\",\\n\\t\\\"brass section\\\",\\n\\t\\\"synthbrass 1\\\",\\n\\t\\\"synthbrass 2\\\",\\n\\t\\\"soprano sax\\\",\\n\\t\\\"alto sax\\\",\\n\\t\\\"tenor sax\\\",\\n\\t\\\"baritone sax\\\",\\n\\t\\\"oboe\\\",\\n\\t\\\"english horn\\\",\\n\\t\\\"bassoon\\\",\\n\\t\\\"clarinet\\\",\\n\\t\\\"piccolo\\\",\\n\\t\\\"flute\\\",\\n\\t\\\"recorder\\\",\\n\\t\\\"pan flute\\\",\\n\\t\\\"blown bottle\\\",\\n\\t\\\"shakuhachi\\\",\\n\\t\\\"whistle\\\",\\n\\t\\\"ocarina\\\",\\n\\t\\\"lead 1 (square)\\\",\\n\\t\\\"lead 2 (sawtooth)\\\",\\n\\t\\\"lead 3 (calliope)\\\",\\n\\t\\\"lead 4 (chiff)\\\",\\n\\t\\\"lead 5 (charang)\\\",\\n\\t\\\"lead 6 (voice)\\\",\\n\\t\\\"lead 7 (fifths)\\\",\\n\\t\\\"lead 8 (bass + lead)\\\",\\n\\t\\\"pad 1 (new age)\\\",\\n\\t\\\"pad 2 (warm)\\\",\\n\\t\\\"pad 3 (polysynth)\\\",\\n\\t\\\"pad 4 (choir)\\\",\\n\\t\\\"pad 5 (bowed)\\\",\\n\\t\\\"pad 6 (metallic)\\\",\\n\\t\\\"pad 7 (halo)\\\",\\n\\t\\\"pad 8 (sweep)\\\",\\n\\t\\\"fx 1 (rain)\\\",\\n\\t\\\"fx 2 (soundtrack)\\\",\\n\\t\\\"fx 3 (crystal)\\\",\\n\\t\\\"fx 4 (atmosphere)\\\",\\n\\t\\\"fx 5 (brightness)\\\",\\n\\t\\\"fx 6 (goblins)\\\",\\n\\t\\\"fx 7 (echoes)\\\",\\n\\t\\\"fx 8 (sci-fi)\\\",\\n\\t\\\"sitar\\\",\\n\\t\\\"banjo\\\",\\n\\t\\\"shamisen\\\",\\n\\t\\\"koto\\\",\\n\\t\\\"kalimba\\\",\\n\\t\\\"bag pipe\\\",\\n\\t\\\"fiddle\\\",\\n\\t\\\"shanai\\\",\\n\\t\\\"tinkle bell\\\",\\n\\t\\\"agogo\\\",\\n\\t\\\"steel drums\\\",\\n\\t\\\"woodblock\\\",\\n\\t\\\"taiko drum\\\",\\n\\t\\\"melodic tom\\\",\\n\\t\\\"synth drum\\\",\\n\\t\\\"reverse cymbal\\\",\\n\\t\\\"guitar fret noise\\\",\\n\\t\\\"breath noise\\\",\\n\\t\\\"seashore\\\",\\n\\t\\\"bird tweet\\\",\\n\\t\\\"telephone ring\\\",\\n\\t\\\"helicopter\\\",\\n\\t\\\"applause\\\",\\n\\t\\\"gunshot\\\",\\n];\\n\\nexport const InstrumentFamilyByID = [\\n\\t\\\"piano\\\",\\n\\t\\\"chromatic percussion\\\",\\n\\t\\\"organ\\\",\\n\\t\\\"guitar\\\",\\n\\t\\\"bass\\\",\\n\\t\\\"strings\\\",\\n\\t\\\"ensemble\\\",\\n\\t\\\"brass\\\",\\n\\t\\\"reed\\\",\\n\\t\\\"pipe\\\",\\n\\t\\\"synth lead\\\",\\n\\t\\\"synth pad\\\",\\n\\t\\\"synth effects\\\",\\n\\t\\\"world\\\",\\n\\t\\\"percussive\\\",\\n\\t\\\"sound effects\\\",\\n];\\n\\nexport const DrumKitByPatchID = {\\n\\t0: \\\"standard kit\\\",\\n\\t8: \\\"room kit\\\",\\n\\t16: \\\"power kit\\\",\\n\\t24: \\\"electronic kit\\\",\\n\\t25: \\\"tr-808 kit\\\",\\n\\t32: \\\"jazz kit\\\",\\n\\t40: \\\"brush kit\\\",\\n\\t48: \\\"orchestra kit\\\",\\n\\t56: \\\"sound fx kit\\\",\\n};\\n\"</span>,<span class=\"code-string\">\"import type {\\n\\tMidiData,\\n\\tMidiEvent\\n} from \\\"midi-file\\\";\\n\\nimport { parseMidi } from \\\"midi-file\\\";\\n\\nimport { Header, HeaderJSON } from \\\"./Header\\\";\\nimport { Track, TrackJSON } from \\\"./Track\\\";\\nimport { encode } from \\\"./Encode\\\";\\n\\n/**\\n * The main midi parsing class.\\n */\\nexport class Midi {\\n\\n\\t/**\\n\\t * Download and parse the MIDI file. Returns a promise\\n\\t * which resolves to the generated MIDI file.\\n\\t * @param url The URL to fetch.\\n\\t */\\n\\tstatic async fromUrl(url: string): Promise&lt;Midi&gt; {\\n\\t\\tconst response = await fetch(url);\\n\\t\\tif (response.ok) {\\n\\t\\t\\tconst arrayBuffer = await response.arrayBuffer();\\n\\t\\t\\treturn new Midi(arrayBuffer);\\n\\t\\t} else {\\n\\t\\t\\tthrow new Error(`Could not load '${url}'`);\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * The header information, includes things like tempo and meta events.\\n\\t */\\n\\theader: Header;\\n\\n\\t/**\\n\\t * The midi tracks.\\n\\t */\\n\\ttracks: Track[];\\n\\n\\t/**\\n\\t * Parse the midi data\\n\\t */\\n\\tconstructor(midiArray?: (ArrayLike&lt;number&gt; | ArrayBuffer)) {\\n\\t\\t// Parse the MIDI data if there is any.\\n\\t\\tlet midiData: (MidiData | null) = null;\\n\\t\\tif (midiArray) {\\n\\t\\t\\t// Transform midiArray to ArrayLike&lt;number&gt;\\n\\t\\t\\t// only if it's an ArrayBuffer.\\n\\t\\t\\tconst midiArrayLike: ArrayLike&lt;number&gt; = midiArray instanceof ArrayBuffer\\n\\t\\t\\t\\t? new Uint8Array(midiArray)\\n\\t\\t\\t\\t: midiArray;\\n\\n\\t\\t\\t// Parse MIDI data.\\n\\t\\t\\tmidiData = parseMidi(midiArrayLike);\\n\\n\\t\\t\\t// Add the absolute times to each of the tracks.\\n\\t\\t\\tmidiData.tracks.forEach(track =&gt; {\\n\\t\\t\\t\\tlet currentTicks = 0;\\n\\n\\t\\t\\t\\ttrack.forEach((event: MidiEvent &amp; { absoluteTime: number; }) =&gt; {\\n\\t\\t\\t\\t\\tcurrentTicks += event.deltaTime;\\n\\t\\t\\t\\t\\tevent.absoluteTime = currentTicks;\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\t// Ensure at most one instrument per track.\\n\\t\\t\\tmidiData.tracks = splitTracks(midiData.tracks);\\n\\t\\t}\\n\\n\\t\\tthis.header = new Header(midiData);\\n\\t\\tthis.tracks = [];\\n\\n\\t\\t// Parse MIDI data.\\n\\t\\tif (midiArray) {\\n\\t\\t\\t// Format 0, everything is on the same track.\\n\\t\\t\\tthis.tracks = midiData.tracks.map(trackData =&gt; new Track(trackData, this.header));\\n\\n\\t\\t\\t// If it's format 1 and there are no notes on the first track, remove it.\\n\\t\\t\\tif (midiData.header.format === 1 &amp;&amp; this.tracks[0].duration === 0) {\\n\\t\\t\\t\\tthis.tracks.shift();\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * The name of the midi file, taken from the first track.\\n\\t */\\n\\tget name(): string {\\n\\t\\treturn this.header.name;\\n\\t}\\n\\n\\tset name(n) {\\n\\t\\tthis.header.name = n;\\n\\t}\\n\\n\\t/**\\n\\t * The total length of the file in seconds.\\n\\t */\\n\\tget duration(): number {\\n\\t\\t// Get the max of the last note of all the tracks.\\n\\t\\tconst durations = this.tracks.map(t =&gt; t.duration);\\n\\t\\treturn Math.max(...durations);\\n\\t}\\n\\n\\t/**\\n\\t * The total length of the file in ticks.\\n\\t */\\n\\tget durationTicks(): number {\\n\\t\\t// Get the max of the last note of all the tracks.\\n\\t\\tconst durationTicks = this.tracks.map(t =&gt; t.durationTicks);\\n\\t\\treturn Math.max(...durationTicks);\\n\\t}\\n\\n\\t/**\\n\\t * Add a track to the MIDI file.\\n\\t */\\n\\taddTrack(): Track {\\n\\t\\tconst track = new Track(undefined, this.header);\\n\\t\\tthis.tracks.push(track);\\n\\n\\t\\treturn track;\\n\\t}\\n\\n\\t/**\\n\\t * Encode the MIDI as a Uint8Array.\\n\\t */\\n\\ttoArray(): Uint8Array {\\n\\t\\treturn encode(this);\\n\\t}\\n\\n\\t/**\\n\\t * Convert the MIDI object to JSON.\\n\\t */\\n\\ttoJSON(): MidiJSON {\\n\\t\\treturn {\\n\\t\\t\\theader: this.header.toJSON(),\\n\\t\\t\\ttracks: this.tracks.map(track =&gt; track.toJSON()),\\n\\t\\t};\\n\\t}\\n\\n\\t/**\\n\\t * Parse a JSON representation of the object. Will overwrite the current\\n\\t * tracks and header.\\n\\t */\\n\\tfromJSON(json: MidiJSON): void {\\n\\t\\tthis.header = new Header();\\n\\t\\tthis.header.fromJSON(json.header);\\n\\t\\tthis.tracks = json.tracks.map(trackJSON =&gt; {\\n\\t\\t\\tconst track = new Track(undefined, this.header);\\n\\t\\t\\ttrack.fromJSON(trackJSON);\\n\\n\\t\\t\\treturn track;\\n\\t\\t});\\n\\t}\\n\\n\\t/**\\n\\t * Clone the entire object MIDI object.\\n\\t */\\n\\tclone(): Midi {\\n\\t\\tconst midi = new Midi();\\n\\t\\tmidi.fromJSON(this.toJSON());\\n\\n\\t\\treturn midi;\\n\\t}\\n}\\n\\n/**\\n * The MIDI data in JSON format.\\n */\\nexport interface MidiJSON {\\n\\theader: HeaderJSON;\\n\\ttracks: TrackJSON[];\\n}\\n\\nexport { TrackJSON, Track } from \\\"./Track\\\";\\nexport { HeaderJSON, Header } from \\\"./Header\\\";\\n\\n/**\\n * Given a list of MIDI tracks, make sure that each channel corresponds to at\\n * most one channel and at most one instrument. This means splitting up tracks\\n * that contain more than one channel or instrument.\\n */\\nfunction splitTracks(tracks: Array&lt;MidiEvent[]&gt;): Array&lt;MidiEvent[]&gt; {\\n\\tconst newTracks = [];\\n\\n\\tfor (let i = 0; i &lt; tracks.length; i++) {\\n\\t\\tconst defaultTrack = newTracks.length;\\n\\t\\t// a map from [program, channel] tuples to new track numbers\\n\\t\\tconst trackMap = new Map&lt;string, number&gt;();\\n\\t\\t// a map from channel numbers to current program numbers\\n\\t\\tconst currentProgram = Array(16).fill(0) as Array&lt;number&gt;;\\n\\n\\t\\tfor (const event of tracks[i]) {\\n\\t\\t\\tlet targetTrack = defaultTrack;\\n\\n\\t\\t\\t// If the event has a channel, we need to find that channel's current\\n\\t\\t\\t// program number and the appropriate track for this [program, channel]\\n\\t\\t\\t// pair.\\n\\t\\t\\tconst channel = (event as (MidiEvent &amp; { channel?: number })).channel;\\n\\t\\t\\tif (channel !== undefined) {\\n\\t\\t\\t\\tif (event.type === \\\"programChange\\\") {\\n\\t\\t\\t\\t\\tcurrentProgram[channel] = event.programNumber;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tconst program = currentProgram[channel];\\n\\t\\t\\t\\tconst trackKey = `${program} ${channel}`;\\n\\t\\t\\t\\t\\n\\t\\t\\t\\tif (trackMap.has(trackKey)) {\\n\\t\\t\\t\\t\\ttargetTrack = trackMap.get(trackKey);\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\ttargetTrack = defaultTrack + trackMap.size;\\n\\t\\t\\t\\t\\ttrackMap.set(trackKey, targetTrack);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!newTracks[targetTrack]) {\\n\\t\\t\\t\\tnewTracks.push([]);\\n\\t\\t\\t}\\n\\n\\t\\t\\tnewTracks[targetTrack].push(event);\\n\\t\\t}\\n\\t}\\n\\n\\treturn newTracks;\\n}\\n\"</span>,<span class=\"code-string\">\"import { Header } from \\\"./Header\\\";\\n\\n/**\\n * Convert a MIDI note into a pitch.\\n */\\nfunction midiToPitch(midi: number): string {\\n\\tconst octave = Math.floor(midi / 12) - 1;\\n\\treturn midiToPitchClass(midi) + octave.toString();\\n}\\n\\n/**\\n * Convert a MIDI note to a pitch class (just the pitch no octave).\\n */\\nfunction midiToPitchClass(midi: number): string {\\n\\tconst scaleIndexToNote = [\\\"C\\\", \\\"C#\\\", \\\"D\\\", \\\"D#\\\", \\\"E\\\", \\\"F\\\", \\\"F#\\\", \\\"G\\\", \\\"G#\\\", \\\"A\\\", \\\"A#\\\", \\\"B\\\"];\\n\\tconst note = midi % 12;\\n\\treturn scaleIndexToNote[note];\\n}\\n\\n/**\\n * Convert a pitch class to a MIDI note.\\n */\\nfunction pitchClassToMidi(pitch: string): number {\\n\\tconst scaleIndexToNote = [\\\"C\\\", \\\"C#\\\", \\\"D\\\", \\\"D#\\\", \\\"E\\\", \\\"F\\\", \\\"F#\\\", \\\"G\\\", \\\"G#\\\", \\\"A\\\", \\\"A#\\\", \\\"B\\\"];\\n\\treturn scaleIndexToNote.indexOf(pitch);\\n}\\n\\n/**\\n * Convert a pitch to a MIDI number.\\n */\\n// tslint:disable-next-line: only-arrow-functions typedef\\nconst pitchToMidi: (note: string) =&gt; number = (function() {\\n\\tconst regexp = /^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i;\\n\\tconst noteToScaleIndex = {\\n\\t\\t// tslint:disable-next-line: object-literal-sort-keys\\n\\t\\tcbb: -2, cb: -1, c: 0, \\\"c#\\\": 1, cx: 2,\\n\\t\\tdbb: 0, db: 1, d: 2, \\\"d#\\\": 3, dx: 4,\\n\\t\\tebb: 2, eb: 3, e: 4, \\\"e#\\\": 5, ex: 6,\\n\\t\\tfbb: 3, fb: 4, f: 5, \\\"f#\\\": 6, fx: 7,\\n\\t\\tgbb: 5, gb: 6, g: 7, \\\"g#\\\": 8, gx: 9,\\n\\t\\tabb: 7, ab: 8, a: 9, \\\"a#\\\": 10, ax: 11,\\n\\t\\tbbb: 9, bb: 10, b: 11, \\\"b#\\\": 12, bx: 13,\\n\\t};\\n\\n\\treturn (note) =&gt; {\\n\\t\\tconst split = regexp.exec(note);\\n\\t\\tconst pitch = split[1];\\n\\t\\tconst octave = split[2];\\n\\t\\tconst index = noteToScaleIndex[pitch.toLowerCase()];\\n\\t\\treturn index + (parseInt(octave, 10) + 1) * 12;\\n\\t};\\n}());\\n\\nconst privateHeaderMap = new WeakMap&lt;Note, Header&gt;();\\n\\n/**\\n * A Note consists of a `noteOn` and `noteOff` event.\\n */\\nexport class Note implements NoteInterface {\\n\\n\\t/**\\n\\t * The notes MIDI value.\\n\\t */\\n\\tmidi: number;\\n\\n\\t/**\\n\\t * The normalized velocity (0-1).\\n\\t */\\n\\tvelocity: number;\\n\\n\\t/**\\n\\t * The velocity of the note off.\\n\\t */\\n\\tnoteOffVelocity: number;\\n\\n\\t/**\\n\\t * The start time in ticks.\\n\\t */\\n\\tticks: number;\\n\\n\\t/**\\n\\t * The duration in ticks.\\n\\t */\\n\\tdurationTicks: number;\\n\\n\\tconstructor(noteOn: NoteOnEvent, noteOff: NoteOffEvent, header: Header) {\\n\\t\\tprivateHeaderMap.set(this, header);\\n\\n\\t\\tthis.midi = noteOn.midi;\\n\\n\\t\\tthis.velocity = noteOn.velocity;\\n\\n\\t\\tthis.noteOffVelocity = noteOff.velocity;\\n\\n\\t\\tthis.ticks = noteOn.ticks;\\n\\n\\t\\tthis.durationTicks = noteOff.ticks - noteOn.ticks;\\n\\t}\\n\\n\\t/**\\n\\t * The note name and octave in scientific pitch notation, e.g. \\\"C4\\\".\\n\\t */\\n\\tget name(): string {\\n\\t\\treturn midiToPitch(this.midi);\\n\\t}\\n\\n\\tset name(n: string) {\\n\\t\\tthis.midi = pitchToMidi(n);\\n\\t}\\n\\n\\t/**\\n\\t * The notes octave number.\\n\\t */\\n\\tget octave(): number {\\n\\t\\treturn Math.floor(this.midi / 12) - 1;\\n\\t}\\n\\n\\tset octave(o: number) {\\n\\t\\tconst diff = o - this.octave;\\n\\t\\tthis.midi += diff * 12;\\n\\t}\\n\\n\\t/**\\n\\t * The pitch class name. e.g. \\\"A\\\".\\n\\t */\\n\\tget pitch(): string {\\n\\t\\treturn midiToPitchClass(this.midi);\\n\\t}\\n\\n\\tset pitch(p: string) {\\n\\t\\tthis.midi = 12 * (this.octave + 1) + pitchClassToMidi(p);\\n\\t}\\n\\n\\t/**\\n\\t * The duration of the segment in seconds.\\n\\t */\\n\\tget duration(): number {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\treturn header.ticksToSeconds(this.ticks + this.durationTicks) - header.ticksToSeconds(this.ticks);\\n\\t}\\n\\n\\tset duration(d: number) {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\tconst noteEndTicks = header.secondsToTicks(this.time + d);\\n\\t\\tthis.durationTicks = noteEndTicks - this.ticks;\\n\\t}\\n\\n\\t/**\\n\\t * The time of the event in seconds.\\n\\t */\\n\\tget time(): number {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\treturn header.ticksToSeconds(this.ticks);\\n\\t}\\n\\n\\tset time(t: number) {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\tthis.ticks = header.secondsToTicks(t);\\n\\t}\\n\\n\\t/**\\n\\t * The number of measures (and partial measures) to this beat.\\n\\t * Takes into account time signature changes.\\n\\t * @readonly\\n\\t */\\n\\tget bars(): number {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\treturn header.ticksToMeasures(this.ticks);\\n\\t}\\n\\n\\ttoJSON(): NoteJSON {\\n\\t\\treturn {\\n\\t\\t\\tduration: this.duration,\\n\\t\\t\\tdurationTicks: this.durationTicks,\\n\\t\\t\\tmidi: this.midi,\\n\\t\\t\\tname: this.name,\\n\\t\\t\\tticks: this.ticks,\\n\\t\\t\\ttime: this.time,\\n\\t\\t\\tvelocity: this.velocity,\\n\\t\\t};\\n\\t}\\n}\\n\\nexport interface NoteJSON {\\n\\ttime: number;\\n\\tmidi: number;\\n\\tname: string;\\n\\tvelocity: number;\\n\\tduration: number;\\n\\tticks: number;\\n\\tdurationTicks: number;\\n}\\n\\nexport interface NoteOnEvent {\\n\\tticks: number;\\n\\tvelocity: number;\\n\\tmidi: number;\\n}\\n\\nexport interface NoteOffEvent {\\n\\tticks: number;\\n\\tvelocity: number;\\n}\\n\\nexport interface NoteInterface {\\n\\ttime: number;\\n\\tticks: number;\\n\\tduration: number;\\n\\tdurationTicks: number;\\n\\tmidi: number;\\n\\tpitch: string;\\n\\toctave: number;\\n\\tname: string;\\n\\tnoteOffVelocity: number;\\n\\tvelocity: number;\\n}\\n\\ntype PitchDescription = {\\n\\tname: string;\\n} | {\\n\\tpitch: string;\\n\\toctave: number;\\n} | {\\n\\tmidi: number;\\n}\\n\\ntype VelocityDescription = {\\n\\tvelocity?: number;\\n\\tnoteOffVelocity?: number;\\n}\\n\\ntype TimeDescription = {\\n\\ttime: number;\\n\\tduration?: number;\\n} | {\\n\\tticks: number;\\n\\tdurationTicks?: number;\\n}\\n\\n/**\\n * @hidden\\n */\\nexport type NoteConstructorInterface = PitchDescription &amp; VelocityDescription &amp; TimeDescription\\n\"</span>,<span class=\"code-string\">\"import { Header } from \\\"./Header\\\";\\nimport { MidiPitchBendEvent } from \\\"midi-file\\\";\\n\\nconst privateHeaderMap = new WeakMap&lt;PitchBend, Header&gt;();\\n\\n/**\\n * Represents a pitch bend event.\\n */\\nexport class PitchBend implements PitchBendInterface {\\n\\n\\t/**\\n\\t * The pitch value from...\\n\\t */\\n\\tvalue: number;\\n\\n\\t/**\\n\\t * The tick time of the event.\\n\\t */\\n\\tticks: number;\\n\\n\\t/**\\n\\t * @param event\\n\\t * @param header\\n\\t */\\n\\tconstructor(event: Partial&lt;MidiPitchBendEvent &amp; { absoluteTime: number; }&gt;, header: Header) {\\n\\t\\tprivateHeaderMap.set(this, header);\\n\\n\\t\\tthis.ticks = event.absoluteTime;\\n\\t\\tthis.value = event.value;\\n\\t}\\n\\n\\t/**\\n\\t * The time of the event in seconds\\n\\t */\\n\\tget time(): number {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\treturn header.ticksToSeconds(this.ticks);\\n\\t}\\n\\n\\tset time(t: number) {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\tthis.ticks = header.secondsToTicks(t);\\n\\t}\\n\\n\\ttoJSON(): PitchBendJSON {\\n\\t\\treturn {\\n\\t\\t\\tticks: this.ticks,\\n\\t\\t\\ttime: this.time,\\n\\t\\t\\tvalue: this.value,\\n\\t\\t};\\n\\t}\\n}\\n\\nexport interface PitchBendJSON {\\n\\tticks: number;\\n\\ttime: number;\\n\\tvalue: number;\\n}\\n\\nexport interface PitchBendInterface {\\n\\tticks: number;\\n\\ttime: number;\\n\\tvalue: number;\\n}\\n\"</span>,<span class=\"code-string\">\"import type {\\n\\tMidiControllerEvent,\\n\\tMidiEndOfTrackEvent,\\n\\tMidiEvent,\\n\\tMidiNoteOffEvent, MidiNoteOnEvent,\\n\\tMidiPitchBendEvent, MidiTrackNameEvent\\n} from \\\"midi-file\\\";\\n\\n// Used to add `absoluteTime` property to 'MidiEvent's.\\ntype WithAbsoluteTime = { absoluteTime: number; };\\n\\nimport { insert } from \\\"./BinarySearch\\\";\\nimport { ControlChange, ControlChangeInterface } from \\\"./ControlChange\\\";\\nimport { ControlChangesJSON, createControlChanges } from \\\"./ControlChanges\\\";\\nimport { PitchBend, PitchBendInterface, PitchBendJSON } from \\\"./PitchBend\\\";\\n\\nimport { Header } from \\\"./Header\\\";\\nimport { Instrument, InstrumentJSON } from \\\"./Instrument\\\";\\nimport { Note, NoteConstructorInterface, NoteJSON } from \\\"./Note\\\";\\n\\nconst privateHeaderMap = new WeakMap&lt;Track, Header&gt;();\\n\\n/**\\n * A Track is a collection of 'notes' and 'controlChanges'.\\n */\\nexport class Track {\\n\\t/**\\n\\t * The name of the track.\\n\\t */\\n\\tname = \\\"\\\";\\n\\n\\t/**\\n\\t * The instrument associated with the track.\\n\\t */\\n\\tinstrument: Instrument;\\n\\n\\t/**\\n\\t * The track's note events.\\n\\t */\\n\\tnotes: Note[] = [];\\n\\n\\t/**\\n\\t * The channel number of the track. Applies this channel\\n\\t * to all events associated with the channel.\\n\\t */\\n\\tchannel: number;\\n\\n\\t/**\\n\\t * The control change events.\\n\\t */\\n\\tcontrolChanges = createControlChanges();\\n\\n\\t/**\\n\\t * The end of track event (if it exists) in ticks.\\n\\t */\\n\\tendOfTrackTicks?: number;\\n\\n\\t/**\\n\\t * The pitch bend events.\\n\\t */\\n\\tpitchBends: PitchBend[] = [];\\n\\n\\tconstructor(trackData: MidiEvent[], header: Header) {\\n\\t\\tprivateHeaderMap.set(this, header);\\n\\n\\t\\tif (trackData) {\\n\\t\\t\\t// Get the name of the track.\\n\\t\\t\\tconst nameEvent = trackData.find(\\n\\t\\t\\t\\t(e) =&gt; e.type === \\\"trackName\\\"\\n\\t\\t\\t) as MidiTrackNameEvent;\\n\\n\\t\\t\\t// Set empty name if 'trackName' event isn't found.\\n\\t\\t\\tthis.name = nameEvent ? nameEvent.text : \\\"\\\";\\n\\t\\t}\\n\\n\\t\\tthis.instrument = new Instrument(trackData, this);\\n\\n\\t\\t// Defaults to 0.\\n\\t\\tthis.channel = 0;\\n\\n\\t\\tif (trackData) {\\n\\t\\t\\tconst noteOns = trackData.filter(\\n\\t\\t\\t\\t(event) =&gt; event.type === \\\"noteOn\\\"\\n\\t\\t\\t) as (MidiNoteOnEvent &amp; WithAbsoluteTime)[];\\n\\n\\t\\t\\tconst noteOffs = trackData.filter(\\n\\t\\t\\t\\t(event) =&gt; event.type === \\\"noteOff\\\"\\n\\t\\t\\t) as (MidiNoteOffEvent &amp; WithAbsoluteTime)[];\\n\\n\\t\\t\\twhile (noteOns.length) {\\n\\t\\t\\t\\tconst currentNote = noteOns.shift();\\n\\n\\t\\t\\t\\t// Set the channel based on the note.\\n\\t\\t\\t\\tthis.channel = currentNote.channel;\\n\\n\\t\\t\\t\\t// Find the corresponding note off.\\n\\t\\t\\t\\tconst offIndex = noteOffs.findIndex(\\n\\t\\t\\t\\t\\t(note) =&gt;\\n\\t\\t\\t\\t\\t\\tnote.noteNumber === currentNote.noteNumber &amp;&amp;\\n\\t\\t\\t\\t\\t\\tnote.absoluteTime &gt;= currentNote.absoluteTime\\n\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\tif (offIndex !== -1) {\\n\\t\\t\\t\\t\\t// Once it's got the note off, add it.\\n\\t\\t\\t\\t\\tconst noteOff = noteOffs.splice(offIndex, 1)[0];\\n\\n\\t\\t\\t\\t\\tthis.addNote({\\n\\t\\t\\t\\t\\t\\tdurationTicks:\\n\\t\\t\\t\\t\\t\\t\\tnoteOff.absoluteTime - currentNote.absoluteTime,\\n\\t\\t\\t\\t\\t\\tmidi: currentNote.noteNumber,\\n\\t\\t\\t\\t\\t\\tnoteOffVelocity: noteOff.velocity / 127,\\n\\t\\t\\t\\t\\t\\tticks: currentNote.absoluteTime,\\n\\t\\t\\t\\t\\t\\tvelocity: currentNote.velocity / 127,\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst controlChanges = trackData.filter(\\n\\t\\t\\t\\t(event) =&gt; event.type === \\\"controller\\\"\\n\\t\\t\\t) as (MidiControllerEvent &amp; WithAbsoluteTime)[];\\n\\t\\t\\tcontrolChanges.forEach((event) =&gt; {\\n\\t\\t\\t\\tthis.addCC({\\n\\t\\t\\t\\t\\tnumber: event.controllerType,\\n\\t\\t\\t\\t\\tticks: event.absoluteTime,\\n\\t\\t\\t\\t\\tvalue: event.value / 127,\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\tconst pitchBends = trackData.filter(\\n\\t\\t\\t\\t(event) =&gt; event.type === \\\"pitchBend\\\"\\n\\t\\t\\t) as (MidiPitchBendEvent &amp; WithAbsoluteTime)[];\\n\\t\\t\\tpitchBends.forEach((event) =&gt; {\\n\\t\\t\\t\\tthis.addPitchBend({\\n\\t\\t\\t\\t\\tticks: event.absoluteTime,\\n\\t\\t\\t\\t\\t// Scale the value between -2^13 to 2^13 to -2 to 2.\\n\\t\\t\\t\\t\\tvalue: event.value / Math.pow(2, 13),\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\n\\t\\t\\tconst endOfTrackEvent:\\n\\t\\t\\t| (MidiEndOfTrackEvent &amp; WithAbsoluteTime)\\n\\t\\t\\t| undefined = trackData.find(\\n\\t\\t\\t\\t(event): event is (MidiEndOfTrackEvent &amp; WithAbsoluteTime) =&gt;\\n\\t\\t\\t\\t\\tevent.type === \\\"endOfTrack\\\"\\n\\t\\t\\t);\\n\\n\\t\\t\\tthis.endOfTrackTicks =\\n\\t\\t\\t\\tendOfTrackEvent !== undefined\\n\\t\\t\\t\\t\\t? endOfTrackEvent.absoluteTime\\n\\t\\t\\t\\t\\t: undefined;\\n\\t\\t}\\n\\t}\\n\\n\\t/**\\n\\t * Add a note to the notes array.\\n\\t * @param props The note properties to add.\\n\\t */\\n\\taddNote(props: NoteConstructorInterface): this {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\tconst note = new Note(\\n\\t\\t\\t{\\n\\t\\t\\t\\tmidi: 0,\\n\\t\\t\\t\\tticks: 0,\\n\\t\\t\\t\\tvelocity: 1,\\n\\t\\t\\t},\\n\\t\\t\\t{\\n\\t\\t\\t\\tticks: 0,\\n\\t\\t\\t\\tvelocity: 0,\\n\\t\\t\\t},\\n\\t\\t\\theader\\n\\t\\t);\\n\\n\\t\\tObject.assign(note, props);\\n\\t\\tinsert(this.notes, note, \\\"ticks\\\");\\n\\t\\treturn this;\\n\\t}\\n\\n\\t/**\\n\\t * Add a control change to the track.\\n\\t * @param props\\n\\t */\\n\\taddCC(\\n\\t\\tprops:\\n\\t\\t| Omit&lt;ControlChangeInterface, \\\"ticks\\\"&gt;\\n\\t\\t| Omit&lt;ControlChangeInterface, \\\"time\\\"&gt;\\n\\t): this {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\tconst cc = new ControlChange(\\n\\t\\t\\t{\\n\\t\\t\\t\\tcontrollerType: props.number,\\n\\t\\t\\t},\\n\\t\\t\\theader\\n\\t\\t);\\n\\t\\tdelete props.number;\\n\\t\\tObject.assign(cc, props);\\n\\t\\tif (!Array.isArray(this.controlChanges[cc.number])) {\\n\\t\\t\\tthis.controlChanges[cc.number] = [];\\n\\t\\t}\\n\\t\\tinsert(this.controlChanges[cc.number], cc, \\\"ticks\\\");\\n\\t\\treturn this;\\n\\t}\\n\\n\\t/**\\n\\t * Add a control change to the track.\\n\\t */\\n\\taddPitchBend(\\n\\t\\tprops:\\n\\t\\t| Omit&lt;PitchBendInterface, \\\"ticks\\\"&gt;\\n\\t\\t| Omit&lt;PitchBendInterface, \\\"time\\\"&gt;\\n\\t): this {\\n\\t\\tconst header = privateHeaderMap.get(this);\\n\\t\\tconst pb = new PitchBend({}, header);\\n\\t\\tObject.assign(pb, props);\\n\\t\\tinsert(this.pitchBends, pb, \\\"ticks\\\");\\n\\t\\treturn this;\\n\\t}\\n\\n\\t/**\\n\\t * The end time of the last event in the track.\\n\\t */\\n\\tget duration(): number {\\n\\t\\tif (!this.notes.length) {\\n\\t\\t\\treturn 0;\\n\\t\\t}\\n\\n\\t\\tlet maxDuration =\\n\\t\\t\\tthis.notes[this.notes.length - 1].time +\\n\\t\\t\\tthis.notes[this.notes.length - 1].duration;\\n\\n\\t\\tfor (let i = 0; i &lt; this.notes.length - 1; i++) {\\n\\t\\t\\tconst duration = this.notes[i].time + this.notes[i].duration;\\n\\t\\t\\tif (maxDuration &lt; duration) {\\n\\t\\t\\t\\tmaxDuration = duration;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn maxDuration;\\n\\t}\\n\\n\\t/**\\n\\t * The end time of the last event in the track in ticks.\\n\\t */\\n\\tget durationTicks(): number {\\n\\t\\tif (!this.notes.length) {\\n\\t\\t\\treturn 0;\\n\\t\\t}\\n\\n\\t\\tlet maxDuration =\\n\\t\\t\\tthis.notes[this.notes.length - 1].ticks +\\n\\t\\t\\tthis.notes[this.notes.length - 1].durationTicks;\\n\\t\\tfor (let i = 0; i &lt; this.notes.length - 1; i++) {\\n\\t\\t\\tconst duration = this.notes[i].ticks + this.notes[i].durationTicks;\\n\\t\\t\\tif (maxDuration &lt; duration) {\\n\\t\\t\\t\\tmaxDuration = duration;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn maxDuration;\\n\\t}\\n\\n\\t/**\\n\\t * Assign the JSON values to this track.\\n\\t */\\n\\tfromJSON(json: TrackJSON): void {\\n\\t\\tthis.name = json.name;\\n\\t\\tthis.channel = json.channel;\\n\\t\\tthis.instrument = new Instrument(undefined, this);\\n\\t\\tthis.instrument.fromJSON(json.instrument);\\n\\n\\t\\tif (json.endOfTrackTicks !== undefined) {\\n\\t\\t\\tthis.endOfTrackTicks = json.endOfTrackTicks;\\n\\t\\t}\\n\\n\\t\\tfor (const number in json.controlChanges) {\\n\\t\\t\\tif (json.controlChanges[number]) {\\n\\t\\t\\t\\tjson.controlChanges[number].forEach((cc) =&gt; {\\n\\t\\t\\t\\t\\tthis.addCC({\\n\\t\\t\\t\\t\\t\\tnumber: cc.number,\\n\\t\\t\\t\\t\\t\\tticks: cc.ticks,\\n\\t\\t\\t\\t\\t\\tvalue: cc.value,\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tjson.notes.forEach((n) =&gt; {\\n\\t\\t\\tthis.addNote({\\n\\t\\t\\t\\tdurationTicks: n.durationTicks,\\n\\t\\t\\t\\tmidi: n.midi,\\n\\t\\t\\t\\tticks: n.ticks,\\n\\t\\t\\t\\tvelocity: n.velocity,\\n\\t\\t\\t});\\n\\t\\t});\\n\\t}\\n\\n\\t/**\\n\\t * Convert the track into a JSON format.\\n\\t */\\n\\ttoJSON(): TrackJSON {\\n\\t\\t// Convert all the CCs to JSON.\\n\\t\\tconst controlChanges = {};\\n\\t\\tfor (let i = 0; i &lt; 127; i++) {\\n\\t\\t\\tif (this.controlChanges.hasOwnProperty(i)) {\\n\\t\\t\\t\\tcontrolChanges[i] = this.controlChanges[i].map((c) =&gt;\\n\\t\\t\\t\\t\\tc.toJSON()\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\tconst json: TrackJSON = {\\n\\t\\t\\tchannel: this.channel,\\n\\t\\t\\tcontrolChanges,\\n\\t\\t\\tpitchBends: this.pitchBends.map((pb) =&gt; pb.toJSON()),\\n\\t\\t\\tinstrument: this.instrument.toJSON(),\\n\\t\\t\\tname: this.name,\\n\\t\\t\\tnotes: this.notes.map((n) =&gt; n.toJSON()),\\n\\t\\t};\\n\\n\\t\\tif (this.endOfTrackTicks !== undefined) {\\n\\t\\t\\tjson.endOfTrackTicks = this.endOfTrackTicks;\\n\\t\\t}\\n\\n\\t\\treturn json;\\n\\t}\\n}\\n\\nexport interface TrackJSON {\\n\\tname: string;\\n\\tnotes: NoteJSON[];\\n\\tchannel: number;\\n\\tinstrument: InstrumentJSON;\\n\\tcontrolChanges: ControlChangesJSON;\\n\\tpitchBends: PitchBendJSON[];\\n\\tendOfTrackTicks?: number;\\n}\\n\"</span>,<span class=\"code-string\">\"// The module cache\\nvar __webpack_module_cache__ = {};\\n\\n// The require function\\nfunction __webpack_require__(moduleId) {\\n\\t// Check if module is in cache\\n\\tvar cachedModule = __webpack_module_cache__[moduleId];\\n\\tif (cachedModule !== undefined) {\\n\\t\\treturn cachedModule.exports;\\n\\t}\\n\\t// Create a new module (and put it into the cache)\\n\\tvar module = __webpack_module_cache__[moduleId] = {\\n\\t\\t// no module.id needed\\n\\t\\t// no module.loaded needed\\n\\t\\texports: {}\\n\\t};\\n\\n\\t// Execute the module function\\n\\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n\\t// Return the exports of the module\\n\\treturn module.exports;\\n}\\n\\n\"</span>,<span class=\"code-string\">\"// define getter functions for harmony exports\\n__webpack_require__.d = (exports, definition) =&gt; {\\n\\tfor(var key in definition) {\\n\\t\\tif(__webpack_require__.o(definition, key) &amp;&amp; !__webpack_require__.o(exports, key)) {\\n\\t\\t\\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\\n\\t\\t}\\n\\t}\\n};\"</span>,<span class=\"code-string\">\"__webpack_require__.o = (obj, prop) =&gt; (Object.prototype.hasOwnProperty.call(obj, prop))\"</span>,<span class=\"code-string\">\"// define __esModule on exports\\n__webpack_require__.r = (exports) =&gt; {\\n\\tif(typeof Symbol !== 'undefined' &amp;&amp; Symbol.toStringTag) {\\n\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n\\t}\\n\\tObject.defineProperty(exports, '__esModule', { value: true });\\n};\"</span>,<span class=\"code-string\">\"// startup\\n// Load entry module and return exports\\n// This entry module is referenced by other modules so it can't be inlined\\nvar __webpack_exports__ = __webpack_require__(233);\\n\"</span>],<span class=\"code-attr\">\"names\"</span>:[<span class=\"code-string\">\"root\"</span>,<span class=\"code-string\">\"factory\"</span>,<span class=\"code-string\">\"exports\"</span>,<span class=\"code-string\">\"module\"</span>,<span class=\"code-string\">\"define\"</span>,<span class=\"code-string\">\"amd\"</span>,<span class=\"code-string\">\"a\"</span>,<span class=\"code-string\">\"i\"</span>,<span class=\"code-string\">\"self\"</span>,<span class=\"code-string\">\"this\"</span>,<span class=\"code-string\">\"flatten\"</span>,<span class=\"code-string\">\"array\"</span>,<span class=\"code-string\">\"result\"</span>,<span class=\"code-string\">\"$flatten\"</span>,<span class=\"code-string\">\"length\"</span>,<span class=\"code-string\">\"value\"</span>,<span class=\"code-string\">\"Array\"</span>,<span class=\"code-string\">\"isArray\"</span>,<span class=\"code-string\">\"push\"</span>,<span class=\"code-string\">\"parseMidi\"</span>,<span class=\"code-string\">\"writeMidi\"</span>,<span class=\"code-string\">\"parseTrack\"</span>,<span class=\"code-string\">\"data\"</span>,<span class=\"code-string\">\"lastEventTypeByte\"</span>,<span class=\"code-string\">\"p\"</span>,<span class=\"code-string\">\"Parser\"</span>,<span class=\"code-string\">\"events\"</span>,<span class=\"code-string\">\"eof\"</span>,<span class=\"code-string\">\"event\"</span>,<span class=\"code-string\">\"readEvent\"</span>,<span class=\"code-string\">\"deltaTime\"</span>,<span class=\"code-string\">\"readVarInt\"</span>,<span class=\"code-string\">\"eventTypeByte\"</span>,<span class=\"code-string\">\"readUInt8\"</span>,<span class=\"code-string\">\"type\"</span>,<span class=\"code-string\">\"readBytes\"</span>,<span class=\"code-string\">\"meta\"</span>,<span class=\"code-string\">\"metatypeByte\"</span>,<span class=\"code-string\">\"number\"</span>,<span class=\"code-string\">\"readUInt16\"</span>,<span class=\"code-string\">\"text\"</span>,<span class=\"code-string\">\"readString\"</span>,<span class=\"code-string\">\"channel\"</span>,<span class=\"code-string\">\"port\"</span>,<span class=\"code-string\">\"microsecondsPerBeat\"</span>,<span class=\"code-string\">\"readUInt24\"</span>,<span class=\"code-string\">\"hourByte\"</span>,<span class=\"code-string\">\"frameRate\"</span>,<span class=\"code-string\">\"hour\"</span>,<span class=\"code-string\">\"min\"</span>,<span class=\"code-string\">\"sec\"</span>,<span class=\"code-string\">\"frame\"</span>,<span class=\"code-string\">\"subFrame\"</span>,<span class=\"code-string\">\"numerator\"</span>,<span class=\"code-string\">\"denominator\"</span>,<span class=\"code-string\">\"metronome\"</span>,<span class=\"code-string\">\"thirtyseconds\"</span>,<span class=\"code-string\">\"key\"</span>,<span class=\"code-string\">\"readInt8\"</span>,<span class=\"code-string\">\"scale\"</span>,<span class=\"code-string\">\"param1\"</span>,<span class=\"code-string\">\"running\"</span>,<span class=\"code-string\">\"eventType\"</span>,<span class=\"code-string\">\"noteNumber\"</span>,<span class=\"code-string\">\"velocity\"</span>,<span class=\"code-string\">\"byte9\"</span>,<span class=\"code-string\">\"amount\"</span>,<span class=\"code-string\">\"controllerType\"</span>,<span class=\"code-string\">\"programNumber\"</span>,<span class=\"code-string\">\"buffer\"</span>,<span class=\"code-string\">\"bufferLen\"</span>,<span class=\"code-string\">\"pos\"</span>,<span class=\"code-string\">\"prototype\"</span>,<span class=\"code-string\">\"u\"</span>,<span class=\"code-string\">\"readInt16\"</span>,<span class=\"code-string\">\"readInt24\"</span>,<span class=\"code-string\">\"readUInt32\"</span>,<span class=\"code-string\">\"len\"</span>,<span class=\"code-string\">\"bytes\"</span>,<span class=\"code-string\">\"slice\"</span>,<span class=\"code-string\">\"String\"</span>,<span class=\"code-string\">\"fromCharCode\"</span>,<span class=\"code-string\">\"apply\"</span>,<span class=\"code-string\">\"b\"</span>,<span class=\"code-string\">\"readChunk\"</span>,<span class=\"code-string\">\"id\"</span>,<span class=\"code-string\">\"headerChunk\"</span>,<span class=\"code-string\">\"header\"</span>,<span class=\"code-string\">\"format\"</span>,<span class=\"code-string\">\"numTracks\"</span>,<span class=\"code-string\">\"timeDivision\"</span>,<span class=\"code-string\">\"framesPerSecond\"</span>,<span class=\"code-string\">\"ticksPerFrame\"</span>,<span class=\"code-string\">\"ticksPerBeat\"</span>,<span class=\"code-string\">\"parseHeader\"</span>,<span class=\"code-string\">\"tracks\"</span>,<span class=\"code-string\">\"trackChunk\"</span>,<span class=\"code-string\">\"track\"</span>,<span class=\"code-string\">\"writeTrack\"</span>,<span class=\"code-string\">\"w\"</span>,<span class=\"code-string\">\"opts\"</span>,<span class=\"code-string\">\"t\"</span>,<span class=\"code-string\">\"Writer\"</span>,<span class=\"code-string\">\"writeEvent\"</span>,<span class=\"code-string\">\"useByte9ForNoteOff\"</span>,<span class=\"code-string\">\"writeChunk\"</span>,<span class=\"code-string\">\"writeVarInt\"</span>,<span class=\"code-string\">\"writeUInt8\"</span>,<span class=\"code-string\">\"writeUInt16\"</span>,<span class=\"code-string\">\"writeString\"</span>,<span class=\"code-string\">\"writeUInt24\"</span>,<span class=\"code-string\">\"Math\"</span>,<span class=\"code-string\">\"floor\"</span>,<span class=\"code-string\">\"log\"</span>,<span class=\"code-string\">\"LN2\"</span>,<span class=\"code-string\">\"writeInt8\"</span>,<span class=\"code-string\">\"writeBytes\"</span>,<span class=\"code-string\">\"value14\"</span>,<span class=\"code-string\">\"lsb14\"</span>,<span class=\"code-string\">\"msb14\"</span>,<span class=\"code-string\">\"v\"</span>,<span class=\"code-string\">\"b0\"</span>,<span class=\"code-string\">\"b1\"</span>,<span class=\"code-string\">\"writeInt16\"</span>,<span class=\"code-string\">\"b2\"</span>,<span class=\"code-string\">\"writeInt24\"</span>,<span class=\"code-string\">\"writeUInt32\"</span>,<span class=\"code-string\">\"b3\"</span>,<span class=\"code-string\">\"writeInt32\"</span>,<span class=\"code-string\">\"arr\"</span>,<span class=\"code-string\">\"concat\"</span>,<span class=\"code-string\">\"call\"</span>,<span class=\"code-string\">\"str\"</span>,<span class=\"code-string\">\"codePointAt\"</span>,<span class=\"code-string\">\"reverse\"</span>,<span class=\"code-string\">\"h\"</span>,<span class=\"code-string\">\"writeHeader\"</span>,<span class=\"code-string\">\"search\"</span>,<span class=\"code-string\">\"prop\"</span>,<span class=\"code-string\">\"beginning\"</span>,<span class=\"code-string\">\"end\"</span>,<span class=\"code-string\">\"midPoint\"</span>,<span class=\"code-string\">\"nextEvent\"</span>,<span class=\"code-string\">\"index\"</span>,<span class=\"code-string\">\"splice\"</span>,<span class=\"code-string\">\"controlChangeNames\"</span>,<span class=\"code-string\">\"controlChangeIds\"</span>,<span class=\"code-string\">\"Object\"</span>,<span class=\"code-string\">\"keys\"</span>,<span class=\"code-string\">\"reduce\"</span>,<span class=\"code-string\">\"obj\"</span>,<span class=\"code-string\">\"privateHeaderMap\"</span>,<span class=\"code-string\">\"WeakMap\"</span>,<span class=\"code-string\">\"privateCCNumberMap\"</span>,<span class=\"code-string\">\"set\"</span>,<span class=\"code-string\">\"ticks\"</span>,<span class=\"code-string\">\"absoluteTime\"</span>,<span class=\"code-string\">\"get\"</span>,<span class=\"code-string\">\"ticksToSeconds\"</span>,<span class=\"code-string\">\"secondsToTicks\"</span>,<span class=\"code-string\">\"toJSON\"</span>,<span class=\"code-string\">\"time\"</span>,<span class=\"code-string\">\"ControlChange\"</span>,<span class=\"code-string\">\"Proxy\"</span>,<span class=\"code-string\">\"target\"</span>,<span class=\"code-string\">\"handler\"</span>,<span class=\"code-string\">\"hasOwnProperty\"</span>,<span class=\"code-string\">\"encodeControlChange\"</span>,<span class=\"code-string\">\"cc\"</span>,<span class=\"code-string\">\"encodeInstrument\"</span>,<span class=\"code-string\">\"instrument\"</span>,<span class=\"code-string\">\"midi\"</span>,<span class=\"code-string\">\"midiData\"</span>,<span class=\"code-string\">\"ppq\"</span>,<span class=\"code-string\">\"name\"</span>,<span class=\"code-string\">\"keySignatures\"</span>,<span class=\"code-string\">\"map\"</span>,<span class=\"code-string\">\"keySig\"</span>,<span class=\"code-string\">\"keyIndex\"</span>,<span class=\"code-string\">\"keySignatureKeys\"</span>,<span class=\"code-string\">\"indexOf\"</span>,<span class=\"code-string\">\"encodeKeySignature\"</span>,<span class=\"code-string\">\"e\"</span>,<span class=\"code-string\">\"textEvent\"</span>,<span class=\"code-string\">\"tempos\"</span>,<span class=\"code-string\">\"tempo\"</span>,<span class=\"code-string\">\"bpm\"</span>,<span class=\"code-string\">\"encodeTempo\"</span>,<span class=\"code-string\">\"timeSignatures\"</span>,<span class=\"code-string\">\"timeSig\"</span>,<span class=\"code-string\">\"timeSignature\"</span>,<span class=\"code-string\">\"encodeTimeSignature\"</span>,<span class=\"code-string\">\"notes\"</span>,<span class=\"code-string\">\"note\"</span>,<span class=\"code-string\">\"durationTicks\"</span>,<span class=\"code-string\">\"noteOffVelocity\"</span>,<span class=\"code-string\">\"encodeNote\"</span>,<span class=\"code-string\">\"encodeNotes\"</span>,<span class=\"code-string\">\"controlChanges\"</span>,<span class=\"code-string\">\"forEach\"</span>,<span class=\"code-string\">\"encodeControlChanges\"</span>,<span class=\"code-string\">\"pitchBends\"</span>,<span class=\"code-string\">\"pb\"</span>,<span class=\"code-string\">\"encodePitchBend\"</span>,<span class=\"code-string\">\"encodePitchBends\"</span>,<span class=\"code-string\">\"sort\"</span>,<span class=\"code-string\">\"lastTime\"</span>,<span class=\"code-string\">\"Uint8Array\"</span>,<span class=\"code-string\">\"privatePPQMap\"</span>,<span class=\"code-string\">\"update\"</span>,<span class=\"code-string\">\"currentTime\"</span>,<span class=\"code-string\">\"lastEventBeats\"</span>,<span class=\"code-string\">\"lastBPM\"</span>,<span class=\"code-string\">\"beats\"</span>,<span class=\"code-string\">\"elapsedSeconds\"</span>,<span class=\"code-string\">\"lastEvent\"</span>,<span class=\"code-string\">\"elapsedMeasures\"</span>,<span class=\"code-string\">\"measures\"</span>,<span class=\"code-string\">\"tempoTime\"</span>,<span class=\"code-string\">\"elapsedBeats\"</span>,<span class=\"code-string\">\"ticksToMeasures\"</span>,<span class=\"code-string\">\"timeSigEvent\"</span>,<span class=\"code-string\">\"seconds\"</span>,<span class=\"code-string\">\"round\"</span>,<span class=\"code-string\">\"fromJSON\"</span>,<span class=\"code-string\">\"json\"</span>,<span class=\"code-string\">\"assign\"</span>,<span class=\"code-string\">\"setTempo\"</span>,<span class=\"code-string\">\"Header\"</span>,<span class=\"code-string\">\"privateTrackMap\"</span>,<span class=\"code-string\">\"trackData\"</span>,<span class=\"code-string\">\"programChange\"</span>,<span class=\"code-string\">\"find\"</span>,<span class=\"code-string\">\"percussion\"</span>,<span class=\"code-string\">\"DrumKitByPatchID\"</span>,<span class=\"code-string\">\"instrumentByPatchID\"</span>,<span class=\"code-string\">\"n\"</span>,<span class=\"code-string\">\"patchNumber\"</span>,<span class=\"code-string\">\"InstrumentFamilyByID\"</span>,<span class=\"code-string\">\"family\"</span>,<span class=\"code-string\">\"Instrument\"</span>,<span class=\"code-string\">\"midiArray\"</span>,<span class=\"code-string\">\"midiArrayLike\"</span>,<span class=\"code-string\">\"ArrayBuffer\"</span>,<span class=\"code-string\">\"currentTicks\"</span>,<span class=\"code-string\">\"newTracks\"</span>,<span class=\"code-string\">\"defaultTrack\"</span>,<span class=\"code-string\">\"trackMap\"</span>,<span class=\"code-string\">\"Map\"</span>,<span class=\"code-string\">\"currentProgram\"</span>,<span class=\"code-string\">\"fill\"</span>,<span class=\"code-string\">\"targetTrack\"</span>,<span class=\"code-string\">\"undefined\"</span>,<span class=\"code-string\">\"program\"</span>,<span class=\"code-string\">\"trackKey\"</span>,<span class=\"code-string\">\"has\"</span>,<span class=\"code-string\">\"size\"</span>,<span class=\"code-string\">\"splitTracks\"</span>,<span class=\"code-string\">\"Track\"</span>,<span class=\"code-string\">\"duration\"</span>,<span class=\"code-string\">\"shift\"</span>,<span class=\"code-string\">\"fromUrl\"</span>,<span class=\"code-string\">\"url\"</span>,<span class=\"code-string\">\"fetch\"</span>,<span class=\"code-string\">\"response\"</span>,<span class=\"code-string\">\"ok\"</span>,<span class=\"code-string\">\"arrayBuffer\"</span>,<span class=\"code-string\">\"Midi\"</span>,<span class=\"code-string\">\"Error\"</span>,<span class=\"code-string\">\"durations\"</span>,<span class=\"code-string\">\"max\"</span>,<span class=\"code-string\">\"addTrack\"</span>,<span class=\"code-string\">\"toArray\"</span>,<span class=\"code-string\">\"encode\"</span>,<span class=\"code-string\">\"trackJSON\"</span>,<span class=\"code-string\">\"clone\"</span>,<span class=\"code-string\">\"midiToPitchClass\"</span>,<span class=\"code-string\">\"regexp\"</span>,<span class=\"code-string\">\"noteToScaleIndex\"</span>,<span class=\"code-string\">\"pitchToMidi\"</span>,<span class=\"code-string\">\"cbb\"</span>,<span class=\"code-string\">\"cb\"</span>,<span class=\"code-string\">\"c\"</span>,<span class=\"code-string\">\"cx\"</span>,<span class=\"code-string\">\"dbb\"</span>,<span class=\"code-string\">\"db\"</span>,<span class=\"code-string\">\"d\"</span>,<span class=\"code-string\">\"dx\"</span>,<span class=\"code-string\">\"ebb\"</span>,<span class=\"code-string\">\"eb\"</span>,<span class=\"code-string\">\"ex\"</span>,<span class=\"code-string\">\"fbb\"</span>,<span class=\"code-string\">\"fb\"</span>,<span class=\"code-string\">\"f\"</span>,<span class=\"code-string\">\"fx\"</span>,<span class=\"code-string\">\"gbb\"</span>,<span class=\"code-string\">\"gb\"</span>,<span class=\"code-string\">\"g\"</span>,<span class=\"code-string\">\"gx\"</span>,<span class=\"code-string\">\"abb\"</span>,<span class=\"code-string\">\"ab\"</span>,<span class=\"code-string\">\"ax\"</span>,<span class=\"code-string\">\"bbb\"</span>,<span class=\"code-string\">\"bb\"</span>,<span class=\"code-string\">\"bx\"</span>,<span class=\"code-string\">\"split\"</span>,<span class=\"code-string\">\"exec\"</span>,<span class=\"code-string\">\"pitch\"</span>,<span class=\"code-string\">\"octave\"</span>,<span class=\"code-string\">\"toLowerCase\"</span>,<span class=\"code-string\">\"parseInt\"</span>,<span class=\"code-string\">\"noteOn\"</span>,<span class=\"code-string\">\"noteOff\"</span>,<span class=\"code-string\">\"toString\"</span>,<span class=\"code-string\">\"o\"</span>,<span class=\"code-string\">\"diff\"</span>,<span class=\"code-string\">\"noteEndTicks\"</span>,<span class=\"code-string\">\"Note\"</span>,<span class=\"code-string\">\"PitchBend\"</span>,<span class=\"code-string\">\"createControlChanges\"</span>,<span class=\"code-string\">\"nameEvent\"</span>,<span class=\"code-string\">\"noteOns\"</span>,<span class=\"code-string\">\"filter\"</span>,<span class=\"code-string\">\"noteOffs\"</span>,<span class=\"code-string\">\"currentNote\"</span>,<span class=\"code-string\">\"offIndex\"</span>,<span class=\"code-string\">\"findIndex\"</span>,<span class=\"code-string\">\"addNote\"</span>,<span class=\"code-string\">\"addCC\"</span>,<span class=\"code-string\">\"addPitchBend\"</span>,<span class=\"code-string\">\"pow\"</span>,<span class=\"code-string\">\"endOfTrackEvent\"</span>,<span class=\"code-string\">\"endOfTrackTicks\"</span>,<span class=\"code-string\">\"props\"</span>,<span class=\"code-string\">\"insert\"</span>,<span class=\"code-string\">\"maxDuration\"</span>,<span class=\"code-string\">\"__webpack_module_cache__\"</span>,<span class=\"code-string\">\"__webpack_require__\"</span>,<span class=\"code-string\">\"moduleId\"</span>,<span class=\"code-string\">\"cachedModule\"</span>,<span class=\"code-string\">\"__webpack_modules__\"</span>,<span class=\"code-string\">\"definition\"</span>,<span class=\"code-string\">\"defineProperty\"</span>,<span class=\"code-string\">\"enumerable\"</span>,<span class=\"code-string\">\"r\"</span>,<span class=\"code-string\">\"Symbol\"</span>,<span class=\"code-string\">\"toStringTag\"</span>],<span class=\"code-attr\">\"sourceRoot\"</span>:<span class=\"code-string\">\"\"</span>}"]}}}</script></head><body><div id="root"><style data-emotion-css="gtfibm">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}html,body,#root{height:100%;margin:0;}body{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;font-size:16px;line-height:1.5;overflow-wrap:break-word;background:white;color:black;}code{font-family:Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;}th,td{padding:0;}select{font-size:inherit;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion-css="1r6h1r6">.code-listing{background:#fbfdff;color:#383a42;}.code-comment,.code-quote{color:#a0a1a7;font-style:italic;}.code-doctag,.code-keyword,.code-link,.code-formula{color:#a626a4;}.code-section,.code-name,.code-selector-tag,.code-deletion,.code-subst{color:#e45649;}.code-literal{color:#0184bb;}.code-string,.code-regexp,.code-addition,.code-attribute,.code-meta-string{color:#50a14f;}.code-built_in,.code-class .code-title{color:#c18401;}.code-attr,.code-variable,.code-template-variable,.code-type,.code-selector-class,.code-selector-attr,.code-selector-pseudo,.code-number{color:#986801;}.code-symbol,.code-bullet,.code-meta,.code-selector-id,.code-title{color:#4078f2;}.code-emphasis{font-style:italic;}.code-strong{font-weight:bold;}</style><style data-emotion-css="1c3h18e">.css-1c3h18e{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}</style><div class="css-1c3h18e"><style data-emotion-css="1cfuj1t">.css-1cfuj1t{max-width:940px;padding:0 20px;margin:0 auto;}</style><div class="css-1cfuj1t"><style data-emotion-css="i51og3">.css-i51og3{margin-top:2rem;}</style><header class="css-i51og3"><style data-emotion-css="1y7u1xh">.css-1y7u1xh{text-align:center;font-size:3rem;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;}</style><h1 class="css-1y7u1xh"><style data-emotion-css="1ydg16i">.css-1ydg16i{color:#000;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-1ydg16i">UNPKG</a></h1></header></div><div class="css-1cfuj1t"><style data-emotion-css="93o42g">.css-93o42g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:700px){.css-93o42g{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><header class="css-93o42g"><style data-emotion-css="1dlpvgi">.css-1dlpvgi{font-size:1.5rem;font-weight:normal;-webkit-flex:1;-ms-flex:1;flex:1;word-break:break-all;}</style><h1 class="css-1dlpvgi"><nav><style data-emotion-css="xt128v">.css-xt128v{color:#0076ff;-webkit-text-decoration:none;text-decoration:none;}.css-xt128v:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="/browse/@tonejs/midi@2.0.28/" class="css-xt128v">@tonejs/midi</a><style data-emotion-css="lllnmq">.css-lllnmq{padding-left:5px;padding-right:5px;}</style><span class="css-lllnmq">/</span><a href="/browse/@tonejs/midi@2.0.28/build/" class="css-xt128v">build</a><span class="css-lllnmq">/</span><strong>Midi.js.map</strong></nav></h1><style data-emotion-css="1nr3dab">.css-1nr3dab{margin-left:20px;}@media (max-width:700px){.css-1nr3dab{margin-left:0;margin-bottom:0;}}</style><p class="css-1nr3dab"><label>Version:<!-- --> <style data-emotion-css="un3bt6">.css-un3bt6{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;padding:4px 24px 4px 8px;font-weight:600;font-size:0.9em;color:#24292e;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-color:#eff3f6;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==);background-position:right 8px center;background-repeat:no-repeat;background-size:auto 25%;}.css-un3bt6:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-un3bt6:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><select name="version" class="css-un3bt6"><option value="1.0.0">1.0.0</option><option value="1.0.1">1.0.1</option><option value="1.0.2">1.0.2</option><option value="1.0.3">1.0.3</option><option value="1.0.4">1.0.4</option><option value="1.0.5">1.0.5</option><option value="1.0.6">1.0.6</option><option value="1.1.0">1.1.0</option><option value="1.2.0">1.2.0</option><option value="1.2.1">1.2.1</option><option value="1.2.2">1.2.2</option><option value="1.2.3">1.2.3</option><option value="2.0.0">2.0.0</option><option value="2.0.1">2.0.1</option><option value="2.0.2">2.0.2</option><option value="2.0.3">2.0.3</option><option value="2.0.4">2.0.4</option><option value="2.0.5">2.0.5</option><option value="2.0.6">2.0.6</option><option value="2.0.7">2.0.7</option><option value="2.0.8">2.0.8</option><option value="2.0.9">2.0.9</option><option value="2.0.10">2.0.10</option><option value="2.0.11">2.0.11</option><option value="2.0.12">2.0.12</option><option value="2.0.13">2.0.13</option><option value="2.0.14">2.0.14</option><option value="2.0.15">2.0.15</option><option value="2.0.16">2.0.16</option><option value="2.0.17">2.0.17</option><option value="2.0.18">2.0.18</option><option value="2.0.19">2.0.19</option><option value="2.0.20">2.0.20</option><option value="2.0.21">2.0.21</option><option value="2.0.22">2.0.22</option><option value="2.0.23">2.0.23</option><option value="2.0.24">2.0.24</option><option value="2.0.25">2.0.25</option><option value="2.0.26">2.0.26</option><option value="2.0.27">2.0.27</option><option selected="" value="2.0.28">2.0.28</option></select></label></p></header></div><style data-emotion-css="107j3ms">.css-107j3ms{max-width:940px;padding:0 20px;margin:0 auto;}@media (max-width:700px){.css-107j3ms{padding:0;margin:0;}}</style><div class="css-107j3ms"><style data-emotion-css="q3frg4">.css-q3frg4{border:1px solid #dfe2e5;border-radius:3px;}@media (max-width:700px){.css-q3frg4{border-right-width:0;border-left-width:0;}}</style><div class="css-q3frg4"><style data-emotion-css="10o5omr">.css-10o5omr{padding:10px;background:#f6f8fa;color:#424242;border:1px solid #d1d5da;border-top-left-radius:3px;border-top-right-radius:3px;margin:-1px -1px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media (max-width:700px){.css-10o5omr{padding-right:20px;padding-left:20px;}}</style><div class="css-10o5omr"><span>105 kB</span><span>Source Map (JSON)</span><span><style data-emotion-css="18x593j">.css-18x593j{display:inline-block;margin-left:8px;padding:2px 8px;-webkit-text-decoration:none;text-decoration:none;font-weight:600;font-size:0.9rem;color:#24292e;background-color:#eff3f6;border:1px solid rgba(27,31,35,.2);border-radius:3px;}.css-18x593j:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-18x593j:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><a href="/@tonejs/midi@2.0.28/build/Midi.js.map" class="css-18x593j">View Raw</a></span></div><style data-emotion-css="1i31ihw">.css-1i31ihw{overflow-x:auto;overflow-y:hidden;padding-top:5px;padding-bottom:5px;}</style><div class="code-listing css-1i31ihw"><style data-emotion-css="173nir8">.css-173nir8{border:none;border-collapse:collapse;border-spacing:0;}</style><table class="css-173nir8"><tbody><tr><style data-emotion-css="a4x74f">.css-a4x74f{padding-left:10px;padding-right:10px;color:rgba(27,31,35,.3);text-align:right;vertical-align:top;width:1%;min-width:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td id="L1" class="css-a4x74f"><span>1</span></td><style data-emotion-css="1dcdqdg">.css-1dcdqdg{padding-left:10px;padding-right:10px;color:#24292e;white-space:pre;}</style><td id="LC1" class="css-1dcdqdg"><code>{<span class="code-attr">"version"</span>:<span class="code-number">3</span>,<span class="code-attr">"file"</span>:<span class="code-string">"Midi.js"</span>,<span class="code-attr">"mappings"</span>:<span class="code-string">"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"</span>,<span class="code-attr">"sources"</span>:[<span class="code-string">"webpack://@tonejs/midi/webpack/universalModuleDefinition"</span>,<span class="code-string">"webpack://@tonejs/midi/./node_modules/array-flatten/dist.es2015/index.js"</span>,<span class="code-string">"webpack://@tonejs/midi/./node_modules/midi-file/index.js"</span>,<span class="code-string">"webpack://@tonejs/midi/./node_modules/midi-file/lib/midi-parser.js"</span>,<span class="code-string">"webpack://@tonejs/midi/./node_modules/midi-file/lib/midi-writer.js"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/BinarySearch.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/ControlChange.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/ControlChanges.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/Encode.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/Header.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/Instrument.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/InstrumentMaps.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/Midi.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/Note.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/PitchBend.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/./src/Track.ts"</span>,<span class="code-string">"webpack://@tonejs/midi/webpack/bootstrap"</span>,<span class="code-string">"webpack://@tonejs/midi/webpack/runtime/define property getters"</span>,<span class="code-string">"webpack://@tonejs/midi/webpack/runtime/hasOwnProperty shorthand"</span>,<span class="code-string">"webpack://@tonejs/midi/webpack/runtime/make namespace object"</span>,<span class="code-string">"webpack://@tonejs/midi/webpack/startup"</span>],<span class="code-attr">"sourcesContent"</span>:[<span class="code-string">"(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' &amp;&amp; typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' &amp;&amp; define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "</span>,<span class="code-string">"/**\n * Flatten an array indefinitely.\n */\nexport function flatten(array) {\n    var result = [];\n    $flatten(array, result);\n    return result;\n}\n/**\n * Internal flatten function recursively passes `result`.\n */\nfunction $flatten(array, result) {\n    for (var i = 0; i &lt; array.length; i++) {\n        var value = array[i];\n        if (Array.isArray(value)) {\n            $flatten(value, result);\n        }\n        else {\n            result.push(value);\n        }\n    }\n}\n//# sourceMappingURL=index.js.map"</span>,<span class="code-string">"exports.parseMidi = require('./lib/midi-parser')\nexports.writeMidi = require('./lib/midi-writer')\n"</span>,<span class="code-string">"// data can be any array-like object.  It just needs to support .length, .slice, and an element getter []\n\nfunction parseMidi(data) {\n  var p = new Parser(data)\n\n  var headerChunk = p.readChunk()\n  if (headerChunk.id != 'MThd')\n    throw \"Bad MIDI file.  Expected 'MHdr', got: '\" + headerChunk.id + \"'\"\n  var header = parseHeader(headerChunk.data)\n\n  var tracks = []\n  for (var i=0; !p.eof() &amp;&amp; i &lt; header.numTracks; i++) {\n    var trackChunk = p.readChunk()\n    if (trackChunk.id != 'MTrk')\n      throw \"Bad MIDI file.  Expected 'MTrk', got: '\" + trackChunk.id + \"'\"\n    var track = parseTrack(trackChunk.data)\n    tracks.push(track)\n  }\n\n  return {\n    header: header,\n    tracks: tracks\n  }\n}\n\n\nfunction parseHeader(data) {\n  var p = new Parser(data)\n\n  var format = p.readUInt16()\n  var numTracks = p.readUInt16()\n\n  var result = {\n    format: format,\n    numTracks: numTracks\n  }\n\n  var timeDivision = p.readUInt16()\n  if (timeDivision &amp; 0x8000) {\n    result.framesPerSecond = 0x100 - (timeDivision &gt;&gt; 8)\n    result.ticksPerFrame = timeDivision &amp; 0xFF\n  } else {\n    result.ticksPerBeat = timeDivision\n  }\n\n  return result\n}\n\nfunction parseTrack(data) {\n  var p = new Parser(data)\n\n  var events = []\n  while (!p.eof()) {\n    var event = readEvent()\n    events.push(event)\n  }\n\n  return events\n\n  var lastEventTypeByte = null\n\n  function readEvent() {\n    var event = {}\n    event.deltaTime = p.readVarInt()\n\n    var eventTypeByte = p.readUInt8()\n\n    if ((eventTypeByte &amp; 0xf0) === 0xf0) {\n      // system / meta event\n      if (eventTypeByte === 0xff) {\n        // meta event\n        event.meta = true\n        var metatypeByte = p.readUInt8()\n        var length = p.readVarInt()\n        switch (metatypeByte) {\n          case 0x00:\n            event.type = 'sequenceNumber'\n            if (length !== 2) throw \"Expected length for sequenceNumber event is 2, got \" + length\n            event.number = p.readUInt16()\n            return event\n          case 0x01:\n            event.type = 'text'\n            event.text = p.readString(length)\n            return event\n          case 0x02:\n            event.type = 'copyrightNotice'\n            event.text = p.readString(length)\n            return event\n          case 0x03:\n            event.type = 'trackName'\n            event.text = p.readString(length)\n            return event\n          case 0x04:\n            event.type = 'instrumentName'\n            event.text = p.readString(length)\n            return event\n          case 0x05:\n            event.type = 'lyrics'\n            event.text = p.readString(length)\n            return event\n          case 0x06:\n            event.type = 'marker'\n            event.text = p.readString(length)\n            return event\n          case 0x07:\n            event.type = 'cuePoint'\n            event.text = p.readString(length)\n            return event\n          case 0x20:\n            event.type = 'channelPrefix'\n            if (length != 1) throw \"Expected length for channelPrefix event is 1, got \" + length\n            event.channel = p.readUInt8()\n            return event\n          case 0x21:\n            event.type = 'portPrefix'\n            if (length != 1) throw \"Expected length for portPrefix event is 1, got \" + length\n            event.port = p.readUInt8()\n            return event\n          case 0x2f:\n            event.type = 'endOfTrack'\n            if (length != 0) throw \"Expected length for endOfTrack event is 0, got \" + length\n            return event\n          case 0x51:\n            event.type = 'setTempo';\n            if (length != 3) throw \"Expected length for setTempo event is 3, got \" + length\n            event.microsecondsPerBeat = p.readUInt24()\n            return event\n          case 0x54:\n            event.type = 'smpteOffset';\n            if (length != 5) throw \"Expected length for smpteOffset event is 5, got \" + length\n            var hourByte = p.readUInt8()\n            var FRAME_RATES = { 0x00: 24, 0x20: 25, 0x40: 29, 0x60: 30 }\n            event.frameRate = FRAME_RATES[hourByte &amp; 0x60]\n            event.hour = hourByte &amp; 0x1f\n            event.min = p.readUInt8()\n            event.sec = p.readUInt8()\n            event.frame = p.readUInt8()\n            event.subFrame = p.readUInt8()\n            return event\n          case 0x58:\n            event.type = 'timeSignature'\n            if (length != 4) throw \"Expected length for timeSignature event is 4, got \" + length\n            event.numerator = p.readUInt8()\n            event.denominator = (1 &lt;&lt; p.readUInt8())\n            event.metronome = p.readUInt8()\n            event.thirtyseconds = p.readUInt8()\n            return event\n          case 0x59:\n            event.type = 'keySignature'\n            if (length != 2) throw \"Expected length for keySignature event is 2, got \" + length\n            event.key = p.readInt8()\n            event.scale = p.readUInt8()\n            return event\n          case 0x7f:\n            event.type = 'sequencerSpecific'\n            event.data = p.readBytes(length)\n            return event\n          default:\n            event.type = 'unknownMeta'\n            event.data = p.readBytes(length)\n            event.metatypeByte = metatypeByte\n            return event\n        }\n      } else if (eventTypeByte == 0xf0) {\n        event.type = 'sysEx'\n        var length = p.readVarInt()\n        event.data = p.readBytes(length)\n        return event\n      } else if (eventTypeByte == 0xf7) {\n        event.type = 'endSysEx'\n        var length = p.readVarInt()\n        event.data = p.readBytes(length)\n        return event\n      } else {\n        throw \"Unrecognised MIDI event type byte: \" + eventTypeByte\n      }\n    } else {\n      // channel event\n      var param1\n      if ((eventTypeByte &amp; 0x80) === 0) {\n        // running status - reuse lastEventTypeByte as the event type.\n        // eventTypeByte is actually the first parameter\n        if (lastEventTypeByte === null)\n          throw \"Running status byte encountered before status byte\"\n        param1 = eventTypeByte\n        eventTypeByte = lastEventTypeByte\n        event.running = true\n      } else {\n        param1 = p.readUInt8()\n        lastEventTypeByte = eventTypeByte\n      }\n      var eventType = eventTypeByte &gt;&gt; 4\n      event.channel = eventTypeByte &amp; 0x0f\n      switch (eventType) {\n        case 0x08:\n          event.type = 'noteOff'\n          event.noteNumber = param1\n          event.velocity = p.readUInt8()\n          return event\n        case 0x09:\n          var velocity = p.readUInt8()\n          event.type = velocity === 0 ? 'noteOff' : 'noteOn'\n          event.noteNumber = param1\n          event.velocity = velocity\n          if (velocity === 0) event.byte9 = true\n          return event\n        case 0x0a:\n          event.type = 'noteAftertouch'\n          event.noteNumber = param1\n          event.amount = p.readUInt8()\n          return event\n        case 0x0b:\n          event.type = 'controller'\n          event.controllerType = param1\n          event.value = p.readUInt8()\n          return event\n        case 0x0c:\n          event.type = 'programChange'\n          event.programNumber = param1\n          return event\n        case 0x0d:\n          event.type = 'channelAftertouch'\n          event.amount = param1\n          return event\n        case 0x0e:\n          event.type = 'pitchBend'\n          event.value = (param1 + (p.readUInt8() &lt;&lt; 7)) - 0x2000\n          return event\n        default:\n          throw \"Unrecognised MIDI event type: \" + eventType\n      }\n    }\n  }\n}\n\nfunction Parser(data) {\n  this.buffer = data\n  this.bufferLen = this.buffer.length\n  this.pos = 0\n}\n\nParser.prototype.eof = function() {\n  return this.pos &gt;= this.bufferLen\n}\n\nParser.prototype.readUInt8 = function() {\n  var result = this.buffer[this.pos]\n  this.pos += 1\n  return result\n}\n\nParser.prototype.readInt8 = function() {\n  var u = this.readUInt8()\n  if (u &amp; 0x80)\n    return u - 0x100\n  else\n    return u\n}\n\nParser.prototype.readUInt16 = function() {\n  var b0 = this.readUInt8(),\n      b1 = this.readUInt8()\n\n    return (b0 &lt;&lt; 8) + b1\n}\n\nParser.prototype.readInt16 = function() {\n  var u = this.readUInt16()\n  if (u &amp; 0x8000)\n    return u - 0x10000\n  else\n    return u\n}\n\nParser.prototype.readUInt24 = function() {\n  var b0 = this.readUInt8(),\n      b1 = this.readUInt8(),\n      b2 = this.readUInt8()\n\n    return (b0 &lt;&lt; 16) + (b1 &lt;&lt; 8) + b2\n}\n\nParser.prototype.readInt24 = function() {\n  var u = this.readUInt24()\n  if (u &amp; 0x800000)\n    return u - 0x1000000\n  else\n    return u\n}\n\nParser.prototype.readUInt32 = function() {\n  var b0 = this.readUInt8(),\n      b1 = this.readUInt8(),\n      b2 = this.readUInt8(),\n      b3 = this.readUInt8()\n\n    return (b0 &lt;&lt; 24) + (b1 &lt;&lt; 16) + (b2 &lt;&lt; 8) + b3\n}\n\nParser.prototype.readBytes = function(len) {\n  var bytes = this.buffer.slice(this.pos, this.pos + len)\n  this.pos += len\n  return bytes\n}\n\nParser.prototype.readString = function(len) {\n  var bytes = this.readBytes(len)\n  return String.fromCharCode.apply(null, bytes)\n}\n\nParser.prototype.readVarInt = function() {\n  var result = 0\n  while (!this.eof()) {\n    var b = this.readUInt8()\n    if (b &amp; 0x80) {\n      result += (b &amp; 0x7f)\n      result &lt;&lt;= 7\n    } else {\n      // b is last byte\n      return result + b\n    }\n  }\n  // premature eof\n  return result\n}\n\nParser.prototype.readChunk = function() {\n  var id = this.readString(4)\n  var length = this.readUInt32()\n  var data = this.readBytes(length)\n  return {\n    id: id,\n    length: length,\n    data: data\n  }\n}\n\nmodule.exports = parseMidi\n"</span>,<span class="code-string">"// data should be the same type of format returned by parseMidi\n// for maximum compatibililty, returns an array of byte values, suitable for conversion to Buffer, Uint8Array, etc.\n\n// opts:\n// - running              reuse previous eventTypeByte when possible, to compress file\n// - useByte9ForNoteOff   use 0x09 for noteOff when velocity is zero\n\nfunction writeMidi(data, opts) {\n  if (typeof data !== 'object')\n    throw 'Invalid MIDI data'\n\n  opts = opts || {}\n\n  var header = data.header || {}\n  var tracks = data.tracks || []\n  var i, len = tracks.length\n\n  var w = new Writer()\n  writeHeader(w, header, len)\n\n  for (i=0; i &lt; len; i++) {\n    writeTrack(w, tracks[i], opts)\n  }\n\n  return w.buffer\n}\n\nfunction writeHeader(w, header, numTracks) {\n  var format = header.format == null ? 1 : header.format\n\n  var timeDivision = 128\n  if (header.timeDivision) {\n    timeDivision = header.timeDivision\n  } else if (header.ticksPerFrame &amp;&amp; header.framesPerSecond) {\n    timeDivision = (-(header.framesPerSecond &amp; 0xFF) &lt;&lt; 8) | (header.ticksPerFrame &amp; 0xFF)\n  } else if (header.ticksPerBeat) {\n    timeDivision = header.ticksPerBeat &amp; 0x7FFF\n  }\n\n  var h = new Writer()\n  h.writeUInt16(format)\n  h.writeUInt16(numTracks)\n  h.writeUInt16(timeDivision)\n\n  w.writeChunk('MThd', h.buffer)\n}\n\nfunction writeTrack(w, track, opts) {\n  var t = new Writer()\n  var i, len = track.length\n  var eventTypeByte = null\n  for (i=0; i &lt; len; i++) {\n    // Reuse last eventTypeByte when opts.running is set, or event.running is explicitly set on it.\n    // parseMidi will set event.running for each event, so that we can get an exact copy by default.\n    // Explicitly set opts.running to false, to override event.running and never reuse last eventTypeByte.\n    if (opts.running === false || !opts.running &amp;&amp; !track[i].running) eventTypeByte = null\n\n    eventTypeByte = writeEvent(t, track[i], eventTypeByte, opts.useByte9ForNoteOff)\n  }\n  w.writeChunk('MTrk', t.buffer)\n}\n\nfunction writeEvent(w, event, lastEventTypeByte, useByte9ForNoteOff) {\n  var type = event.type\n  var deltaTime = event.deltaTime\n  var text = event.text || ''\n  var data = event.data || []\n  var eventTypeByte = null\n  w.writeVarInt(deltaTime)\n\n  switch (type) {\n    // meta events\n    case 'sequenceNumber':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x00)\n      w.writeVarInt(2)\n      w.writeUInt16(event.number)\n      break;\n\n    case 'text':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x01)\n      w.writeVarInt(text.length)\n      w.writeString(text)\n      break;\n\n    case 'copyrightNotice':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x02)\n      w.writeVarInt(text.length)\n      w.writeString(text)\n      break;\n\n    case 'trackName':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x03)\n      w.writeVarInt(text.length)\n      w.writeString(text)\n      break;\n\n    case 'instrumentName':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x04)\n      w.writeVarInt(text.length)\n      w.writeString(text)\n      break;\n\n    case 'lyrics':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x05)\n      w.writeVarInt(text.length)\n      w.writeString(text)\n      break;\n\n    case 'marker':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x06)\n      w.writeVarInt(text.length)\n      w.writeString(text)\n      break;\n\n    case 'cuePoint':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x07)\n      w.writeVarInt(text.length)\n      w.writeString(text)\n      break;\n\n    case 'channelPrefix':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x20)\n      w.writeVarInt(1)\n      w.writeUInt8(event.channel)\n      break;\n\n    case 'portPrefix':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x21)\n      w.writeVarInt(1)\n      w.writeUInt8(event.port)\n      break;\n\n    case 'endOfTrack':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x2F)\n      w.writeVarInt(0)\n      break;\n\n    case 'setTempo':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x51)\n      w.writeVarInt(3)\n      w.writeUInt24(event.microsecondsPerBeat)\n      break;\n\n    case 'smpteOffset':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x54)\n      w.writeVarInt(5)\n      var FRAME_RATES = { 24: 0x00, 25: 0x20, 29: 0x40, 30: 0x60 }\n      var hourByte = (event.hour &amp; 0x1F) | FRAME_RATES[event.frameRate]\n      w.writeUInt8(hourByte)\n      w.writeUInt8(event.min)\n      w.writeUInt8(event.sec)\n      w.writeUInt8(event.frame)\n      w.writeUInt8(event.subFrame)\n      break;\n\n    case 'timeSignature':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x58)\n      w.writeVarInt(4)\n      w.writeUInt8(event.numerator)\n      var denominator = Math.floor((Math.log(event.denominator) / Math.LN2)) &amp; 0xFF\n      w.writeUInt8(denominator)\n      w.writeUInt8(event.metronome)\n      w.writeUInt8(event.thirtyseconds || 8)\n      break;\n\n    case 'keySignature':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x59)\n      w.writeVarInt(2)\n      w.writeInt8(event.key)\n      w.writeUInt8(event.scale)\n      break;\n\n    case 'sequencerSpecific':\n      w.writeUInt8(0xFF)\n      w.writeUInt8(0x7F)\n      w.writeVarInt(data.length)\n      w.writeBytes(data)\n      break;\n\n    case 'unknownMeta':\n      if (event.metatypeByte != null) {\n        w.writeUInt8(0xFF)\n        w.writeUInt8(event.metatypeByte)\n        w.writeVarInt(data.length)\n        w.writeBytes(data)\n      }\n      break;\n\n    // system-exclusive\n    case 'sysEx':\n      w.writeUInt8(0xF0)\n      w.writeVarInt(data.length)\n      w.writeBytes(data)\n      break;\n\n    case 'endSysEx':\n      w.writeUInt8(0xF7)\n      w.writeVarInt(data.length)\n      w.writeBytes(data)\n      break;\n\n    // channel events\n    case 'noteOff':\n      // Use 0x90 when opts.useByte9ForNoteOff is set and velocity is zero, or when event.byte9 is explicitly set on it.\n      // parseMidi will set event.byte9 for each event, so that we can get an exact copy by default.\n      // Explicitly set opts.useByte9ForNoteOff to false, to override event.byte9 and always use 0x80 for noteOff events.\n      var noteByte = ((useByte9ForNoteOff !== false &amp;&amp; event.byte9) || (useByte9ForNoteOff &amp;&amp; event.velocity == 0)) ? 0x90 : 0x80\n\n      eventTypeByte = noteByte | event.channel\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\n      w.writeUInt8(event.noteNumber)\n      w.writeUInt8(event.velocity)\n      break;\n\n    case 'noteOn':\n      eventTypeByte = 0x90 | event.channel\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\n      w.writeUInt8(event.noteNumber)\n      w.writeUInt8(event.velocity)\n      break;\n\n    case 'noteAftertouch':\n      eventTypeByte = 0xA0 | event.channel\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\n      w.writeUInt8(event.noteNumber)\n      w.writeUInt8(event.amount)\n      break;\n\n    case 'controller':\n      eventTypeByte = 0xB0 | event.channel\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\n      w.writeUInt8(event.controllerType)\n      w.writeUInt8(event.value)\n      break;\n\n    case 'programChange':\n      eventTypeByte = 0xC0 | event.channel\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\n      w.writeUInt8(event.programNumber)\n      break;\n\n    case 'channelAftertouch':\n      eventTypeByte = 0xD0 | event.channel\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\n      w.writeUInt8(event.amount)\n      break;\n\n    case 'pitchBend':\n      eventTypeByte = 0xE0 | event.channel\n      if (eventTypeByte !== lastEventTypeByte) w.writeUInt8(eventTypeByte)\n      var value14 = 0x2000 + event.value\n      var lsb14 = (value14 &amp; 0x7F)\n      var msb14 = (value14 &gt;&gt; 7) &amp; 0x7F\n      w.writeUInt8(lsb14)\n      w.writeUInt8(msb14)\n    break;\n\n    default:\n      throw 'Unrecognized event type: ' + type\n  }\n  return eventTypeByte\n}\n\n\nfunction Writer() {\n  this.buffer = []\n}\n\nWriter.prototype.writeUInt8 = function(v) {\n  this.buffer.push(v &amp; 0xFF)\n}\nWriter.prototype.writeInt8 = Writer.prototype.writeUInt8\n\nWriter.prototype.writeUInt16 = function(v) {\n  var b0 = (v &gt;&gt; 8) &amp; 0xFF,\n      b1 = v &amp; 0xFF\n\n  this.writeUInt8(b0)\n  this.writeUInt8(b1)\n}\nWriter.prototype.writeInt16 = Writer.prototype.writeUInt16\n\nWriter.prototype.writeUInt24 = function(v) {\n  var b0 = (v &gt;&gt; 16) &amp; 0xFF,\n      b1 = (v &gt;&gt; 8) &amp; 0xFF,\n      b2 = v &amp; 0xFF\n\n  this.writeUInt8(b0)\n  this.writeUInt8(b1)\n  this.writeUInt8(b2)\n}\nWriter.prototype.writeInt24 = Writer.prototype.writeUInt24\n\nWriter.prototype.writeUInt32 = function(v) {\n  var b0 = (v &gt;&gt; 24) &amp; 0xFF,\n      b1 = (v &gt;&gt; 16) &amp; 0xFF,\n      b2 = (v &gt;&gt; 8) &amp; 0xFF,\n      b3 = v &amp; 0xFF\n\n  this.writeUInt8(b0)\n  this.writeUInt8(b1)\n  this.writeUInt8(b2)\n  this.writeUInt8(b3)\n}\nWriter.prototype.writeInt32 = Writer.prototype.writeUInt32\n\n\nWriter.prototype.writeBytes = function(arr) {\n  this.buffer = this.buffer.concat(Array.prototype.slice.call(arr, 0))\n}\n\nWriter.prototype.writeString = function(str) {\n  var i, len = str.length, arr = []\n  for (i=0; i &lt; len; i++) {\n    arr.push(str.codePointAt(i))\n  }\n  this.writeBytes(arr)\n}\n\nWriter.prototype.writeVarInt = function(v) {\n  if (v &lt; 0) throw \"Cannot write negative variable-length integer\"\n\n  if (v &lt;= 0x7F) {\n    this.writeUInt8(v)\n  } else {\n    var i = v\n    var bytes = []\n    bytes.push(i &amp; 0x7F)\n    i &gt;&gt;= 7\n    while (i) {\n      var b = i &amp; 0x7F | 0x80\n      bytes.push(b)\n      i &gt;&gt;= 7\n    }\n    this.writeBytes(bytes.reverse())\n  }\n}\n\nWriter.prototype.writeChunk = function(id, data) {\n  this.writeString(id)\n  this.writeUInt32(data.length)\n  this.writeBytes(data)\n}\n\nmodule.exports = writeMidi\n"</span>,<span class="code-string">"/**\n * Return the index of the element at or before the given property\n * @hidden\n */\nexport function search(array: any[], value: any, prop = \"ticks\"): number {\n\tlet beginning = 0;\n\tconst len = array.length;\n\tlet end = len;\n\tif (len &gt; 0 &amp;&amp; array[len - 1][prop] &lt;= value) {\n\t\treturn len - 1;\n\t}\n\twhile (beginning &lt; end) {\n\t\t// calculate the midpoint for roughly equal partition\n\t\tlet midPoint = Math.floor(beginning + (end - beginning) / 2);\n\t\tconst event = array[midPoint];\n\t\tconst nextEvent = array[midPoint + 1];\n\t\tif (event[prop] === value) {\n\t\t\t// choose the last one that has the same value\n\t\t\tfor (let i = midPoint; i &lt; array.length; i++) {\n\t\t\t\tconst testEvent = array[i];\n\t\t\t\tif (testEvent[prop] === value) {\n\t\t\t\t\tmidPoint = i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn midPoint;\n\t\t} else if (event[prop] &lt; value &amp;&amp; nextEvent[prop] &gt; value) {\n\t\t\treturn midPoint;\n\t\t} else if (event[prop] &gt; value) {\n\t\t\t// search lower\n\t\t\tend = midPoint;\n\t\t} else if (event[prop] &lt; value) {\n\t\t\t// search upper\n\t\t\tbeginning = midPoint + 1;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * Does a binary search to insert the note\n * in the correct spot in the array\n * @hidden\n */\nexport function insert(array: any[], event: object, prop = \"ticks\"): void {\n\tif (array.length) {\n\t\tconst index = search(array, event[prop], prop);\n\t\tarray.splice(index + 1, 0, event);\n\t} else {\n\t\tarray.push(event);\n\t}\n}\n"</span>,<span class="code-string">"import type { MidiControllerEvent } from \"midi-file\";\nimport { Header } from \"./Header\";\n\n/**\n * @hidden\n */\nexport type ControlChangeName =\n\t| \"modulationWheel\"\n\t| \"breath\"\n\t| \"footController\"\n\t| \"portamentoTime\"\n\t| \"volume\"\n\t| \"balance\"\n\t| \"pan\"\n\t| \"sustain\"\n\t| \"portamentoTime\"\n\t| \"sostenuto\"\n\t| \"softPedal\"\n\t| \"legatoFootswitch\"\n\t| \"portamentoControl\";\n\ninterface ControlChangeMap {\n\t[key: number]: ControlChangeName;\n}\n/**\n * A map of values to control change names\n * @hidden\n */\nexport const controlChangeNames: ControlChangeMap = {\n\t1: \"modulationWheel\",\n\t2: \"breath\",\n\t4: \"footController\",\n\t5: \"portamentoTime\",\n\t7: \"volume\",\n\t8: \"balance\",\n\t10: \"pan\",\n\t64: \"sustain\",\n\t65: \"portamentoTime\",\n\t66: \"sostenuto\",\n\t67: \"softPedal\",\n\t68: \"legatoFootswitch\",\n\t84: \"portamentoControl\",\n};\n\n/**\n * swap the keys and values\n * @hidden\n */\nexport const controlChangeIds = Object.keys(controlChangeNames).reduce((obj, key) =&gt; {\n\tobj[controlChangeNames[key]] = key;\n\treturn obj;\n}, {});\n\nconst privateHeaderMap = new WeakMap&lt;ControlChange, Header&gt;();\nconst privateCCNumberMap = new WeakMap&lt;ControlChange, number&gt;();\n\n/**\n * Represents a control change event\n */\nexport class ControlChange implements ControlChangeInterface {\n\n\t/**\n\t * The number value of the event\n\t */\n\tvalue: number;\n\n\t/**\n\t * The tick time of the event\n\t */\n\tticks: number;\n\n\t/**\n\t * @param event\n\t * @param header\n\t */\n\tconstructor(event: Partial&lt;MidiControllerEvent &amp; { absoluteTime: number }&gt;, header: Header) {\n\t\tprivateHeaderMap.set(this, header);\n\t\tprivateCCNumberMap.set(this, event.controllerType);\n\n\t\tthis.ticks = event.absoluteTime;\n\t\tthis.value = event.value;\n\t}\n\n\t/**\n\t * The controller number\n\t */\n\tget number(): number {\n\t\treturn privateCCNumberMap.get(this);\n\t}\n\n\t/**\n\t * return the common name of the control number if it exists\n\t */\n\tget name(): ControlChangeName {\n\t\tif (controlChangeNames[this.number]) {\n\t\t\treturn controlChangeNames[this.number];\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * The time of the event in seconds\n\t */\n\tget time(): number {\n\t\tconst header = privateHeaderMap.get(this);\n\t\treturn header.ticksToSeconds(this.ticks);\n\t}\n\n\tset time(t: number) {\n\t\tconst header = privateHeaderMap.get(this);\n\t\tthis.ticks = header.secondsToTicks(t);\n\t}\n\n\ttoJSON(): ControlChangeJSON {\n\t\treturn {\n\t\t\tnumber: this.number,\n\t\t\tticks: this.ticks,\n\t\t\ttime: this.time,\n\t\t\tvalue: this.value,\n\t\t};\n\t}\n}\n\nexport interface ControlChangeJSON {\n\tnumber: number;\n\tticks: number;\n\ttime: number;\n\tvalue: number;\n}\n\nexport interface ControlChangeInterface {\n\tnumber: number;\n\tticks: number;\n\ttime: number;\n\tvalue: number;\n}\n"</span>,<span class="code-string">"import { controlChangeIds } from \"./ControlChange\";\nimport { ControlChange, ControlChangeJSON } from \"./ControlChange\";\n\nexport interface ControlChanges {\n\t[key: string]: ControlChange[];\n\t[key: number]: ControlChange[];\n}\n\nexport interface ControlChangesJSON {\n\t[key: string]: ControlChangeJSON[];\n\t[key: number]: ControlChangeJSON[];\n}\n\n/**\n * Automatically creates an alias for named control values using Proxies\n * @hidden\n */\nexport function createControlChanges(): ControlChanges {\n\treturn new Proxy({}, {\n\t\t// tslint:disable-next-line: typedef\n\t\tget(target, handler) {\n\t\t\tif (target[handler]) {\n\t\t\t\treturn target[handler];\n\t\t\t} else if (controlChangeIds.hasOwnProperty(handler)) {\n\t\t\t\treturn target[controlChangeIds[handler]];\n\t\t\t}\n\t\t},\n\t\t// tslint:disable-next-line: typedef\n\t\tset(target, handler, value) {\n\t\t\tif (controlChangeIds.hasOwnProperty(handler)) {\n\t\t\t\ttarget[controlChangeIds[handler]] = value;\n\t\t\t} else {\n\t\t\t\ttarget[handler] = value;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t});\n}\n"</span>,<span class="code-string">"import { writeMidi } from \"midi-file\";\n\nimport type {\n\tMidiControllerEvent, MidiData, MidiEndOfTrackEvent,\n\tMidiEvent, MidiKeySignatureEvent,\n\tMidiNoteOffEvent, MidiNoteOnEvent, MidiPitchBendEvent,\n\tMidiProgramChangeEvent, MidiSetTempoEvent, MidiTextEvent,\n\tMidiTimeSignatureEvent, MidiTrackNameEvent\n} from \"midi-file\";\n\nimport { KeySignatureEvent, keySignatureKeys, MetaEvent, TempoEvent, TimeSignatureEvent } from \"./Header\";\nimport { ControlChange } from \"./ControlChange\";\nimport { PitchBend } from \"./PitchBend\";\nimport { Midi } from \"./Midi\";\nimport { Note } from \"./Note\";\nimport { Track } from \"./Track\";\n\nimport { flatten } from \"array-flatten\";\n\n/** Used to add `absoluteTime` property. */\ntype WithAbsoluteTime = { absoluteTime: number };\n\nfunction encodeNote(note: Note, channel: number): [\n\t(MidiNoteOnEvent &amp; WithAbsoluteTime),\n\t(MidiNoteOffEvent &amp; WithAbsoluteTime)\n] {\n\treturn [{\n\t\tabsoluteTime: note.ticks,\n\t\tchannel,\n\t\tdeltaTime: 0,\n\t\tnoteNumber: note.midi,\n\t\ttype: \"noteOn\",\n\t\tvelocity: Math.floor(note.velocity * 127),\n\t},\n\t{\n\t\tabsoluteTime: note.ticks + note.durationTicks,\n\t\tchannel,\n\t\tdeltaTime: 0,\n\t\tnoteNumber: note.midi,\n\t\ttype: \"noteOff\",\n\t\tvelocity: Math.floor(note.noteOffVelocity * 127),\n\t}];\n}\n\nfunction encodeNotes(track: Track): Array&lt;MidiNoteOnEvent | MidiNoteOffEvent&gt; {\n\treturn flatten(track.notes.map(note =&gt; encodeNote(note, track.channel))) as unknown as Array&lt;MidiNoteOnEvent | MidiNoteOffEvent&gt;;\n}\n\nfunction encodeControlChange(\n\tcc: ControlChange,\n\tchannel: number\n): (MidiControllerEvent &amp; WithAbsoluteTime) {\n\treturn {\n\t\tabsoluteTime: cc.ticks,\n\t\tchannel,\n\t\tcontrollerType: cc.number,\n\t\tdeltaTime: 0,\n\t\ttype: \"controller\",\n\t\tvalue: Math.floor(cc.value * 127),\n\t};\n}\n\nfunction encodeControlChanges(track: Track): MidiControllerEvent[] {\n\tconst controlChanges: MidiControllerEvent[] = [];\n\tfor (let i = 0; i &lt; 127; i++) {\n\t\tif (track.controlChanges.hasOwnProperty(i)) {\n\t\t\ttrack.controlChanges[i].forEach((cc: ControlChange) =&gt; {\n\t\t\t\tcontrolChanges.push(encodeControlChange(cc, track.channel));\n\t\t\t});\n\t\t}\n\t}\n\treturn controlChanges;\n}\n\nfunction encodePitchBend(\n\tpb: PitchBend,\n\tchannel: number\n): (MidiPitchBendEvent &amp; WithAbsoluteTime) {\n\treturn {\n\t\tabsoluteTime: pb.ticks,\n\t\tchannel,\n\t\tdeltaTime: 0,\n\t\ttype: \"pitchBend\",\n\t\tvalue: pb.value,\n\t};\n}\n\nfunction encodePitchBends(track: Track): MidiPitchBendEvent[] {\n\tconst pitchBends: MidiPitchBendEvent[] = [];\n\ttrack.pitchBends.forEach((pb: PitchBend) =&gt; {\n\t\tpitchBends.push(encodePitchBend(pb, track.channel));\n\t});\t\n\treturn pitchBends;\n}\n\nfunction encodeInstrument(track: Track): (MidiProgramChangeEvent &amp; WithAbsoluteTime) {\n\treturn {\n\t\tabsoluteTime: 0,\n\t\tchannel: track.channel,\n\t\tdeltaTime: 0,\n\t\tprogramNumber: track.instrument.number,\n\t\ttype: \"programChange\",\n\t};\n}\n\nfunction encodeTrackName(name: string): (MidiTrackNameEvent &amp; WithAbsoluteTime) {\n\treturn {\n\t\tabsoluteTime: 0,\n\t\tdeltaTime: 0,\n\t\tmeta: true,\n\t\ttext: name,\n\t\ttype: \"trackName\",\n\t};\n}\n\nfunction encodeTempo(tempo: TempoEvent): (MidiSetTempoEvent &amp; WithAbsoluteTime) {\n\treturn {\n\t\tabsoluteTime: tempo.ticks,\n\t\tdeltaTime: 0,\n\t\tmeta: true,\n\t\tmicrosecondsPerBeat: Math.floor(60000000 / tempo.bpm),\n\t\ttype: \"setTempo\",\n\t};\n}\n\nfunction encodeTimeSignature(timeSig: TimeSignatureEvent): (MidiTimeSignatureEvent &amp; WithAbsoluteTime) {\n\treturn {\n\t\tabsoluteTime: timeSig.ticks,\n\t\tdeltaTime: 0,\n\t\tdenominator: timeSig.timeSignature[1],\n\t\tmeta: true,\n\t\tmetronome: 24,\n\t\tnumerator: timeSig.timeSignature[0],\n\t\tthirtyseconds: 8,\n\t\ttype: \"timeSignature\",\n\t};\n}\n\n// function encodeMeta(event: )\n\nfunction encodeKeySignature(keySig: KeySignatureEvent): (MidiKeySignatureEvent &amp; WithAbsoluteTime) {\n\tconst keyIndex = keySignatureKeys.indexOf(keySig.key);\n\treturn {\n\t\tabsoluteTime: keySig.ticks,\n\t\tdeltaTime: 0,\n\t\tkey: keyIndex + 7,\n\t\tmeta: true,\n\t\tscale: keySig.scale === \"major\" ? 0 : 1,\n\t\ttype: \"keySignature\",\n\t};\n}\n\nfunction encodeText(\n\ttextEvent: (MetaEvent &amp; { ticks: number; })\n): (MidiTextEvent &amp; WithAbsoluteTime) {\n\treturn {\n\t\tabsoluteTime: textEvent.ticks,\n\t\tdeltaTime: 0,\n\t\tmeta: true,\n\t\ttext: textEvent.text,\n\t\ttype: textEvent.type,\n\t} as (MidiTextEvent &amp; WithAbsoluteTime);\n}\n\n/**\n * Convert the MIDI object to an array.\n */\nexport function encode(midi: Midi): Uint8Array {\n\tconst midiData: MidiData = {\n\t\theader: {\n\t\t\tformat: 1,\n\t\t\tnumTracks: midi.tracks.length + 1,\n\t\t\tticksPerBeat: midi.header.ppq,\n\t\t},\n\t\ttracks: [\n\t\t\t[\n\t\t\t\t// The name data.\n\t\t\t\t{\n\t\t\t\t\tabsoluteTime: 0,\n\t\t\t\t\tdeltaTime: 0,\n\t\t\t\t\tmeta: true,\n\t\t\t\t\ttext: midi.header.name,\n\t\t\t\t\ttype: \"trackName\",\n\t\t\t\t} as MidiTrackNameEvent,\n\t\t\t\t...midi.header.keySignatures.map(keySig =&gt; encodeKeySignature(keySig)),\n\t\t\t\t// and all the meta events (cloned for safety)\n\t\t\t\t...midi.header.meta.map(e =&gt; encodeText(e)),\n\t\t\t\t// the first track is all the tempo data\n\t\t\t\t...midi.header.tempos.map(tempo =&gt; encodeTempo(tempo)),\n\t\t\t\t// and the time signature data.\n\t\t\t\t...midi.header.timeSignatures.map(timeSig =&gt; encodeTimeSignature(timeSig)),\n\t\t\t],\n\t\t\t// The remaining tracks.\n\t\t\t...midi.tracks.map((track) =&gt; {\n\t\t\t\treturn [\n\t\t\t\t\t// Add the name\n\t\t\t\t\tencodeTrackName(track.name),\n\t\t\t\t\t// the instrument\n\t\t\t\t\tencodeInstrument(track),\n\t\t\t\t\t// add the notes\n\t\t\t\t\t...encodeNotes(track),\n\t\t\t\t\t// and the control changes\n\t\t\t\t\t...encodeControlChanges(track),\n\t\t\t\t\t// and the pitch bends.\n\t\t\t\t\t...encodePitchBends(track)\n\t\t\t\t];\n\t\t\t}),\n\t\t],\n\t};\n\n\t// Sort and set `deltaTime` of all of the tracks.\n\tmidiData.tracks = midiData.tracks.map((track: (MidiEvent &amp; WithAbsoluteTime)[]) =&gt; {\n\t\ttrack = track.sort((a, b) =&gt; a.absoluteTime - b.absoluteTime);\n\t\t\n\t\tlet lastTime = 0;\n\t\ttrack.forEach(note =&gt; {\n\t\t\tnote.deltaTime = note.absoluteTime - lastTime;\n\t\t\tlastTime = note.absoluteTime;\n\t\t\tdelete note.absoluteTime;\n\t\t});\n\n\t\t// End of track.\n\t\ttrack.push({\n\t\t\tdeltaTime: 0,\n\t\t\tmeta: true,\n\t\t\ttype: \"endOfTrack\",\n\t\t} as (MidiEndOfTrackEvent &amp; WithAbsoluteTime));\n\t\treturn track;\n\t});\n\n\t// Rreturn `midiData`.\n\treturn new Uint8Array(writeMidi(midiData));\n}\n"</span>,<span class="code-string">"import type { MidiData, MidiEvent } from \"midi-file\";\nimport { search } from \"./BinarySearch\";\n\nconst privatePPQMap = new WeakMap&lt;Header, number&gt;();\n\nexport interface TempoEvent {\n\tticks: number;\n\tbpm: number;\n\ttime?: number;\n}\n\nexport interface TimeSignatureEvent {\n\tticks: number;\n\ttimeSignature: number[];\n\tmeasures?: number;\n}\n\nexport interface MetaEvent {\n\ttext: string;\n\ttype: string;\n\tticks: number;\n}\n\nexport interface KeySignatureEvent {\n\tticks: number;\n\tkey: string;\n\tscale: string;\n}\n\n/**\n * @hidden\n */\nexport const keySignatureKeys = [\n\t\"Cb\",\n\t\"Gb\",\n\t\"Db\",\n\t\"Ab\",\n\t\"Eb\",\n\t\"Bb\",\n\t\"F\",\n\t\"C\",\n\t\"G\",\n\t\"D\",\n\t\"A\",\n\t\"E\",\n\t\"B\",\n\t\"F#\",\n\t\"C#\",\n];\n\n/**\n * The parsed MIDI file header.\n */\nexport class Header {\n\t/**\n\t * The array of all the tempo events.\n\t */\n\ttempos: TempoEvent[] = [];\n\n\t/**\n\t * The time signatures.\n\t */\n\ttimeSignatures: TimeSignatureEvent[] = [];\n\n\t/**\n\t * The time signatures.\n\t */\n\tkeySignatures: KeySignatureEvent[] = [];\n\n\t/**\n\t * Additional meta events.\n\t */\n\tmeta: MetaEvent[] = [];\n\n\t/**\n\t * The name of the MIDI file;\n\t */\n\tname = \"\";\n\n\tconstructor(midiData?: MidiData) {\n\t\t// Look through all the tracks for tempo changes.\n\t\tprivatePPQMap.set(this, 480);\n\n\t\tif (midiData) {\n\t\t\tprivatePPQMap.set(this, midiData.header.ticksPerBeat);\n\t\t\t\n\t\t\t// Check time signature and tempo events from all of the tracks.\n\t\t\tmidiData.tracks.forEach(track =&gt; {\n\t\t\t\ttrack.forEach((event: MidiEvent &amp; { absoluteTime: number; meta?: boolean; }) =&gt; {\n\t\t\t\t\tif (event.meta) {\n\t\t\t\t\t\tif (event.type === \"timeSignature\") {\n\t\t\t\t\t\t\tthis.timeSignatures.push({\n\t\t\t\t\t\t\t\tticks: event.absoluteTime,\n\t\t\t\t\t\t\t\ttimeSignature: [\n\t\t\t\t\t\t\t\t\tevent.numerator,\n\t\t\t\t\t\t\t\t\tevent.denominator,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (event.type === \"setTempo\") {\n\t\t\t\t\t\t\tthis.tempos.push({\n\t\t\t\t\t\t\t\tbpm: 60000000 / event.microsecondsPerBeat,\n\t\t\t\t\t\t\t\tticks: event.absoluteTime,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (event.type === \"keySignature\") {\n\t\t\t\t\t\t\tthis.keySignatures.push({\n\t\t\t\t\t\t\t\tkey: keySignatureKeys[event.key + 7],\n\t\t\t\t\t\t\t\tscale: event.scale === 0 ? \"major\" : \"minor\",\n\t\t\t\t\t\t\t\tticks: event.absoluteTime,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Check the first track for other relevant data.\n\t\t\tlet firstTrackCurrentTicks = 0; // Used for absolute times.\n\t\t\tmidiData.tracks[0].forEach((event: MidiEvent &amp; { meta?: boolean; }) =&gt; {\n\t\t\t\tfirstTrackCurrentTicks += event.deltaTime;\n\n\t\t\t\tif (event.meta) {\n\t\t\t\t\tif (event.type === \"trackName\") {\n\t\t\t\t\t\tthis.name = event.text;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tevent.type === \"text\" ||\n\t\t\t\t\t\tevent.type === \"cuePoint\" ||\n\t\t\t\t\t\tevent.type === \"marker\" ||\n\t\t\t\t\t\tevent.type === \"lyrics\"\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.meta.push({\n\t\t\t\t\t\t\ttext: event.text,\n\t\t\t\t\t\t\tticks: firstTrackCurrentTicks,\n\t\t\t\t\t\t\ttype: event.type,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.update();\n\t\t}\n\t}\n\n\t/**\n\t * This must be invoked after any changes are made to the tempo array\n\t * or the timeSignature array for the updated values to be reflected.\n\t */\n\tupdate(): void {\n\t\tlet currentTime = 0;\n\t\tlet lastEventBeats = 0;\n\n\t\t// Make sure it's sorted;\n\t\tthis.tempos.sort((a, b) =&gt; a.ticks - b.ticks);\n\t\tthis.tempos.forEach((event, index) =&gt; {\n\t\t\tconst lastBPM =\n\t\t\t\tindex &gt; 0 ? this.tempos[index - 1].bpm : this.tempos[0].bpm;\n\t\t\tconst beats = event.ticks / this.ppq - lastEventBeats;\n\t\t\tconst elapsedSeconds = (60 / lastBPM) * beats;\n\n\t\t\tevent.time = elapsedSeconds + currentTime;\n\t\t\tcurrentTime = event.time;\n\t\t\tlastEventBeats += beats;\n\t\t});\n\n\t\tthis.timeSignatures.sort((a, b) =&gt; a.ticks - b.ticks);\n\t\tthis.timeSignatures.forEach((event, index) =&gt; {\n\t\t\tconst lastEvent =\n\t\t\t\tindex &gt; 0\n\t\t\t\t\t? this.timeSignatures[index - 1]\n\t\t\t\t\t: this.timeSignatures[0];\n\n\t\t\tconst elapsedBeats = (event.ticks - lastEvent.ticks) / this.ppq;\n\t\t\tconst elapsedMeasures =\n\t\t\t\telapsedBeats /\n\t\t\t\tlastEvent.timeSignature[0] /\n\t\t\t\t(lastEvent.timeSignature[1] / 4);\n\n\t\t\tlastEvent.measures = lastEvent.measures || 0;\n\t\t\tevent.measures = elapsedMeasures + lastEvent.measures;\n\t\t});\n\t}\n\n\t/**\n\t * Convert ticks into seconds based on the tempo changes.\n\t */\n\tticksToSeconds(ticks: number): number {\n\t\t// Find the relevant position.\n\t\tconst index = search(this.tempos, ticks);\n\n\t\tif (index !== -1) {\n\t\t\tconst tempo = this.tempos[index];\n\t\t\tconst tempoTime = tempo.time;\n\t\t\tconst elapsedBeats = (ticks - tempo.ticks) / this.ppq;\n\n\t\t\treturn tempoTime + (60 / tempo.bpm) * elapsedBeats;\n\t\t} else {\n\t\t\t// Assume 120.\n\t\t\tconst beats = ticks / this.ppq;\n\t\t\treturn (60 / 120) * beats;\n\t\t}\n\t}\n\n\t/**\n\t * Convert ticks into measures based off of the time signatures.\n\t */\n\tticksToMeasures(ticks: number): number {\n\t\tconst index = search(this.timeSignatures, ticks);\n\n\t\tif (index !== -1) {\n\t\t\tconst timeSigEvent = this.timeSignatures[index];\n\t\t\tconst elapsedBeats = (ticks - timeSigEvent.ticks) / this.ppq;\n\n\t\t\treturn (\n\t\t\t\ttimeSigEvent.measures +\n\t\t\t\telapsedBeats /\n\t\t\t\t\t(timeSigEvent.timeSignature[0] /\n\t\t\t\t\t\ttimeSigEvent.timeSignature[1]) /\n\t\t\t\t\t4\n\t\t\t);\n\t\t} else {\n\t\t\treturn ticks / this.ppq / 4;\n\t\t}\n\t}\n\n\t/**\n\t * The number of ticks per quarter note.\n\t */\n\tget ppq(): number {\n\t\treturn privatePPQMap.get(this);\n\t}\n\n\t/**\n\t * Convert seconds to ticks based on the tempo events.\n\t */\n\tsecondsToTicks(seconds: number): number {\n\t\t// Find the relevant position.\n\t\tconst index = search(this.tempos, seconds, \"time\");\n\n\t\tif (index !== -1) {\n\t\t\tconst tempo = this.tempos[index];\n\t\t\tconst tempoTime = tempo.time;\n\t\t\tconst elapsedTime = seconds - tempoTime;\n\t\t\tconst elapsedBeats = elapsedTime / (60 / tempo.bpm);\n\n\t\t\treturn Math.round(tempo.ticks + elapsedBeats * this.ppq);\n\t\t} else {\n\t\t\t// Assume 120.\n\t\t\tconst beats = seconds / (60 / 120);\n\t\t\treturn Math.round(beats * this.ppq);\n\t\t}\n\t}\n\n\t/**\n\t * Convert the header into an object.\n\t */\n\ttoJSON(): HeaderJSON {\n\t\treturn {\n\t\t\tkeySignatures: this.keySignatures,\n\t\t\tmeta: this.meta,\n\t\t\tname: this.name,\n\t\t\tppq: this.ppq,\n\t\t\ttempos: this.tempos.map((t) =&gt; {\n\t\t\t\treturn {\n\t\t\t\t\tbpm: t.bpm,\n\t\t\t\t\tticks: t.ticks,\n\t\t\t\t};\n\t\t\t}),\n\t\t\ttimeSignatures: this.timeSignatures,\n\t\t};\n\t}\n\n\t/**\n\t * Parse a header json object.\n\t */\n\tfromJSON(json: HeaderJSON): void {\n\t\tthis.name = json.name;\n\t\t\n\t\t// Clone all the attributes.\n\t\tthis.tempos = json.tempos.map((t) =&gt; Object.assign({}, t));\n\t\tthis.timeSignatures = json.timeSignatures.map((t) =&gt;\n\t\t\tObject.assign({}, t)\n\t\t);\n\t\tthis.keySignatures = json.keySignatures.map((t) =&gt;\n\t\t\tObject.assign({}, t)\n\t\t);\n\t\tthis.meta = json.meta.map((t) =&gt; Object.assign({}, t));\n\n\t\tprivatePPQMap.set(this, json.ppq);\n\t\tthis.update();\n\t}\n\n\t/**\n\t * Update the tempo of the midi to a single tempo. Will remove and replace\n\t * any other tempos currently set and update all of the event timing.\n\t * @param bpm The tempo in beats per second.\n\t */\n\tsetTempo(bpm: number): void {\n\t\tthis.tempos = [\n\t\t\t{\n\t\t\t\tbpm,\n\t\t\t\tticks: 0,\n\t\t\t},\n\t\t];\n\t\tthis.update();\n\t}\n}\n\nexport interface HeaderJSON {\n\tname: string;\n\tppq: number;\n\tmeta: MetaEvent[];\n\ttempos: TempoEvent[];\n\ttimeSignatures: TimeSignatureEvent[];\n\tkeySignatures: KeySignatureEvent[];\n}\n"</span>,<span class="code-string">"import type {\n\tMidiEvent,\n\tMidiProgramChangeEvent\n} from \"midi-file\";\n\nimport { DrumKitByPatchID, instrumentByPatchID, InstrumentFamilyByID } from \"./InstrumentMaps\";\nimport { Track } from \"./Track\";\n\n/**\n * @hidden\n */\nconst privateTrackMap = new WeakMap&lt;Instrument, Track&gt;();\n\n/**\n * Describes the MIDI instrument of a track.\n */\nexport class Instrument {\n\n\t/**\n\t * The instrument number. Defaults to 0.\n\t */\n\tnumber = 0;\n\n\t/**\n\t * @param trackData\n\t * @param track \n\t */\n\tconstructor(trackData: MidiEvent[], track: Track) {\n\t\tprivateTrackMap.set(this, track);\n\t\tthis.number = 0;\n\n\t\tif (trackData) {\n\t\t\tconst programChange = trackData.find(\n\t\t\t\te =&gt; e.type === \"programChange\"\n\t\t\t) as MidiProgramChangeEvent;\n\n\t\t\t// Set 'number' from 'programNumber' if exists.\n\t\t\tif (programChange) {\n\t\t\t\tthis.number = programChange.programNumber;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * The common name of the instrument.\n\t */\n\tget name(): string {\n\t\tif (this.percussion) {\n\t\t\treturn DrumKitByPatchID[this.number];\n\t\t} else {\n\t\t\treturn instrumentByPatchID[this.number];\n\t\t}\n\t}\n\n\tset name(n: string) {\n\t\tconst patchNumber = instrumentByPatchID.indexOf(n);\n\t\tif (patchNumber !== -1) {\n\t\t\tthis.number = patchNumber;\n\t\t}\n\t}\n\n\t/**\n\t * The instrument family, e.g. \"piano\".\n\t */\n\tget family(): string {\n\t\tif (this.percussion) {\n\t\t\treturn \"drums\";\n\t\t} else {\n\t\t\treturn InstrumentFamilyByID[Math.floor(this.number / 8)];\n\t\t}\n\t}\n\n\t/**\n\t * If the instrument is a percussion instrument.\n\t */\n\tget percussion(): boolean {\n\t\tconst track = privateTrackMap.get(this);\n\t\treturn track.channel === 9;\n\t}\n\n\t/**\n\t * Convert it to JSON form.\n\t */\n\ttoJSON(): InstrumentJSON {\n\t\treturn {\n\t\t\tfamily: this.family,\n\t\t\tnumber: this.number,\n\t\t\tname: this.name\n\t\t};\n\t}\n\n\t/**\n\t * Convert from JSON form.\n\t */\n\tfromJSON(json: InstrumentJSON): void {\n\t\tthis.number = json.number;\n\t}\n}\n\nexport interface InstrumentJSON {\n\tfamily: string;\n\tnumber: number;\n\tname: string;\n}\n"</span>,<span class="code-string">"export const instrumentByPatchID = [\n\t\"acoustic grand piano\",\n\t\"bright acoustic piano\",\n\t\"electric grand piano\",\n\t\"honky-tonk piano\",\n\t\"electric piano 1\",\n\t\"electric piano 2\",\n\t\"harpsichord\",\n\t\"clavi\",\n\t\"celesta\",\n\t\"glockenspiel\",\n\t\"music box\",\n\t\"vibraphone\",\n\t\"marimba\",\n\t\"xylophone\",\n\t\"tubular bells\",\n\t\"dulcimer\",\n\t\"drawbar organ\",\n\t\"percussive organ\",\n\t\"rock organ\",\n\t\"church organ\",\n\t\"reed organ\",\n\t\"accordion\",\n\t\"harmonica\",\n\t\"tango accordion\",\n\t\"acoustic guitar (nylon)\",\n\t\"acoustic guitar (steel)\",\n\t\"electric guitar (jazz)\",\n\t\"electric guitar (clean)\",\n\t\"electric guitar (muted)\",\n\t\"overdriven guitar\",\n\t\"distortion guitar\",\n\t\"guitar harmonics\",\n\t\"acoustic bass\",\n\t\"electric bass (finger)\",\n\t\"electric bass (pick)\",\n\t\"fretless bass\",\n\t\"slap bass 1\",\n\t\"slap bass 2\",\n\t\"synth bass 1\",\n\t\"synth bass 2\",\n\t\"violin\",\n\t\"viola\",\n\t\"cello\",\n\t\"contrabass\",\n\t\"tremolo strings\",\n\t\"pizzicato strings\",\n\t\"orchestral harp\",\n\t\"timpani\",\n\t\"string ensemble 1\",\n\t\"string ensemble 2\",\n\t\"synthstrings 1\",\n\t\"synthstrings 2\",\n\t\"choir aahs\",\n\t\"voice oohs\",\n\t\"synth voice\",\n\t\"orchestra hit\",\n\t\"trumpet\",\n\t\"trombone\",\n\t\"tuba\",\n\t\"muted trumpet\",\n\t\"french horn\",\n\t\"brass section\",\n\t\"synthbrass 1\",\n\t\"synthbrass 2\",\n\t\"soprano sax\",\n\t\"alto sax\",\n\t\"tenor sax\",\n\t\"baritone sax\",\n\t\"oboe\",\n\t\"english horn\",\n\t\"bassoon\",\n\t\"clarinet\",\n\t\"piccolo\",\n\t\"flute\",\n\t\"recorder\",\n\t\"pan flute\",\n\t\"blown bottle\",\n\t\"shakuhachi\",\n\t\"whistle\",\n\t\"ocarina\",\n\t\"lead 1 (square)\",\n\t\"lead 2 (sawtooth)\",\n\t\"lead 3 (calliope)\",\n\t\"lead 4 (chiff)\",\n\t\"lead 5 (charang)\",\n\t\"lead 6 (voice)\",\n\t\"lead 7 (fifths)\",\n\t\"lead 8 (bass + lead)\",\n\t\"pad 1 (new age)\",\n\t\"pad 2 (warm)\",\n\t\"pad 3 (polysynth)\",\n\t\"pad 4 (choir)\",\n\t\"pad 5 (bowed)\",\n\t\"pad 6 (metallic)\",\n\t\"pad 7 (halo)\",\n\t\"pad 8 (sweep)\",\n\t\"fx 1 (rain)\",\n\t\"fx 2 (soundtrack)\",\n\t\"fx 3 (crystal)\",\n\t\"fx 4 (atmosphere)\",\n\t\"fx 5 (brightness)\",\n\t\"fx 6 (goblins)\",\n\t\"fx 7 (echoes)\",\n\t\"fx 8 (sci-fi)\",\n\t\"sitar\",\n\t\"banjo\",\n\t\"shamisen\",\n\t\"koto\",\n\t\"kalimba\",\n\t\"bag pipe\",\n\t\"fiddle\",\n\t\"shanai\",\n\t\"tinkle bell\",\n\t\"agogo\",\n\t\"steel drums\",\n\t\"woodblock\",\n\t\"taiko drum\",\n\t\"melodic tom\",\n\t\"synth drum\",\n\t\"reverse cymbal\",\n\t\"guitar fret noise\",\n\t\"breath noise\",\n\t\"seashore\",\n\t\"bird tweet\",\n\t\"telephone ring\",\n\t\"helicopter\",\n\t\"applause\",\n\t\"gunshot\",\n];\n\nexport const InstrumentFamilyByID = [\n\t\"piano\",\n\t\"chromatic percussion\",\n\t\"organ\",\n\t\"guitar\",\n\t\"bass\",\n\t\"strings\",\n\t\"ensemble\",\n\t\"brass\",\n\t\"reed\",\n\t\"pipe\",\n\t\"synth lead\",\n\t\"synth pad\",\n\t\"synth effects\",\n\t\"world\",\n\t\"percussive\",\n\t\"sound effects\",\n];\n\nexport const DrumKitByPatchID = {\n\t0: \"standard kit\",\n\t8: \"room kit\",\n\t16: \"power kit\",\n\t24: \"electronic kit\",\n\t25: \"tr-808 kit\",\n\t32: \"jazz kit\",\n\t40: \"brush kit\",\n\t48: \"orchestra kit\",\n\t56: \"sound fx kit\",\n};\n"</span>,<span class="code-string">"import type {\n\tMidiData,\n\tMidiEvent\n} from \"midi-file\";\n\nimport { parseMidi } from \"midi-file\";\n\nimport { Header, HeaderJSON } from \"./Header\";\nimport { Track, TrackJSON } from \"./Track\";\nimport { encode } from \"./Encode\";\n\n/**\n * The main midi parsing class.\n */\nexport class Midi {\n\n\t/**\n\t * Download and parse the MIDI file. Returns a promise\n\t * which resolves to the generated MIDI file.\n\t * @param url The URL to fetch.\n\t */\n\tstatic async fromUrl(url: string): Promise&lt;Midi&gt; {\n\t\tconst response = await fetch(url);\n\t\tif (response.ok) {\n\t\t\tconst arrayBuffer = await response.arrayBuffer();\n\t\t\treturn new Midi(arrayBuffer);\n\t\t} else {\n\t\t\tthrow new Error(`Could not load '${url}'`);\n\t\t}\n\t}\n\n\t/**\n\t * The header information, includes things like tempo and meta events.\n\t */\n\theader: Header;\n\n\t/**\n\t * The midi tracks.\n\t */\n\ttracks: Track[];\n\n\t/**\n\t * Parse the midi data\n\t */\n\tconstructor(midiArray?: (ArrayLike&lt;number&gt; | ArrayBuffer)) {\n\t\t// Parse the MIDI data if there is any.\n\t\tlet midiData: (MidiData | null) = null;\n\t\tif (midiArray) {\n\t\t\t// Transform midiArray to ArrayLike&lt;number&gt;\n\t\t\t// only if it's an ArrayBuffer.\n\t\t\tconst midiArrayLike: ArrayLike&lt;number&gt; = midiArray instanceof ArrayBuffer\n\t\t\t\t? new Uint8Array(midiArray)\n\t\t\t\t: midiArray;\n\n\t\t\t// Parse MIDI data.\n\t\t\tmidiData = parseMidi(midiArrayLike);\n\n\t\t\t// Add the absolute times to each of the tracks.\n\t\t\tmidiData.tracks.forEach(track =&gt; {\n\t\t\t\tlet currentTicks = 0;\n\n\t\t\t\ttrack.forEach((event: MidiEvent &amp; { absoluteTime: number; }) =&gt; {\n\t\t\t\t\tcurrentTicks += event.deltaTime;\n\t\t\t\t\tevent.absoluteTime = currentTicks;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Ensure at most one instrument per track.\n\t\t\tmidiData.tracks = splitTracks(midiData.tracks);\n\t\t}\n\n\t\tthis.header = new Header(midiData);\n\t\tthis.tracks = [];\n\n\t\t// Parse MIDI data.\n\t\tif (midiArray) {\n\t\t\t// Format 0, everything is on the same track.\n\t\t\tthis.tracks = midiData.tracks.map(trackData =&gt; new Track(trackData, this.header));\n\n\t\t\t// If it's format 1 and there are no notes on the first track, remove it.\n\t\t\tif (midiData.header.format === 1 &amp;&amp; this.tracks[0].duration === 0) {\n\t\t\t\tthis.tracks.shift();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * The name of the midi file, taken from the first track.\n\t */\n\tget name(): string {\n\t\treturn this.header.name;\n\t}\n\n\tset name(n) {\n\t\tthis.header.name = n;\n\t}\n\n\t/**\n\t * The total length of the file in seconds.\n\t */\n\tget duration(): number {\n\t\t// Get the max of the last note of all the tracks.\n\t\tconst durations = this.tracks.map(t =&gt; t.duration);\n\t\treturn Math.max(...durations);\n\t}\n\n\t/**\n\t * The total length of the file in ticks.\n\t */\n\tget durationTicks(): number {\n\t\t// Get the max of the last note of all the tracks.\n\t\tconst durationTicks = this.tracks.map(t =&gt; t.durationTicks);\n\t\treturn Math.max(...durationTicks);\n\t}\n\n\t/**\n\t * Add a track to the MIDI file.\n\t */\n\taddTrack(): Track {\n\t\tconst track = new Track(undefined, this.header);\n\t\tthis.tracks.push(track);\n\n\t\treturn track;\n\t}\n\n\t/**\n\t * Encode the MIDI as a Uint8Array.\n\t */\n\ttoArray(): Uint8Array {\n\t\treturn encode(this);\n\t}\n\n\t/**\n\t * Convert the MIDI object to JSON.\n\t */\n\ttoJSON(): MidiJSON {\n\t\treturn {\n\t\t\theader: this.header.toJSON(),\n\t\t\ttracks: this.tracks.map(track =&gt; track.toJSON()),\n\t\t};\n\t}\n\n\t/**\n\t * Parse a JSON representation of the object. Will overwrite the current\n\t * tracks and header.\n\t */\n\tfromJSON(json: MidiJSON): void {\n\t\tthis.header = new Header();\n\t\tthis.header.fromJSON(json.header);\n\t\tthis.tracks = json.tracks.map(trackJSON =&gt; {\n\t\t\tconst track = new Track(undefined, this.header);\n\t\t\ttrack.fromJSON(trackJSON);\n\n\t\t\treturn track;\n\t\t});\n\t}\n\n\t/**\n\t * Clone the entire object MIDI object.\n\t */\n\tclone(): Midi {\n\t\tconst midi = new Midi();\n\t\tmidi.fromJSON(this.toJSON());\n\n\t\treturn midi;\n\t}\n}\n\n/**\n * The MIDI data in JSON format.\n */\nexport interface MidiJSON {\n\theader: HeaderJSON;\n\ttracks: TrackJSON[];\n}\n\nexport { TrackJSON, Track } from \"./Track\";\nexport { HeaderJSON, Header } from \"./Header\";\n\n/**\n * Given a list of MIDI tracks, make sure that each channel corresponds to at\n * most one channel and at most one instrument. This means splitting up tracks\n * that contain more than one channel or instrument.\n */\nfunction splitTracks(tracks: Array&lt;MidiEvent[]&gt;): Array&lt;MidiEvent[]&gt; {\n\tconst newTracks = [];\n\n\tfor (let i = 0; i &lt; tracks.length; i++) {\n\t\tconst defaultTrack = newTracks.length;\n\t\t// a map from [program, channel] tuples to new track numbers\n\t\tconst trackMap = new Map&lt;string, number&gt;();\n\t\t// a map from channel numbers to current program numbers\n\t\tconst currentProgram = Array(16).fill(0) as Array&lt;number&gt;;\n\n\t\tfor (const event of tracks[i]) {\n\t\t\tlet targetTrack = defaultTrack;\n\n\t\t\t// If the event has a channel, we need to find that channel's current\n\t\t\t// program number and the appropriate track for this [program, channel]\n\t\t\t// pair.\n\t\t\tconst channel = (event as (MidiEvent &amp; { channel?: number })).channel;\n\t\t\tif (channel !== undefined) {\n\t\t\t\tif (event.type === \"programChange\") {\n\t\t\t\t\tcurrentProgram[channel] = event.programNumber;\n\t\t\t\t}\n\n\t\t\t\tconst program = currentProgram[channel];\n\t\t\t\tconst trackKey = `${program} ${channel}`;\n\t\t\t\t\n\t\t\t\tif (trackMap.has(trackKey)) {\n\t\t\t\t\ttargetTrack = trackMap.get(trackKey);\n\t\t\t\t} else {\n\t\t\t\t\ttargetTrack = defaultTrack + trackMap.size;\n\t\t\t\t\ttrackMap.set(trackKey, targetTrack);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!newTracks[targetTrack]) {\n\t\t\t\tnewTracks.push([]);\n\t\t\t}\n\n\t\t\tnewTracks[targetTrack].push(event);\n\t\t}\n\t}\n\n\treturn newTracks;\n}\n"</span>,<span class="code-string">"import { Header } from \"./Header\";\n\n/**\n * Convert a MIDI note into a pitch.\n */\nfunction midiToPitch(midi: number): string {\n\tconst octave = Math.floor(midi / 12) - 1;\n\treturn midiToPitchClass(midi) + octave.toString();\n}\n\n/**\n * Convert a MIDI note to a pitch class (just the pitch no octave).\n */\nfunction midiToPitchClass(midi: number): string {\n\tconst scaleIndexToNote = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n\tconst note = midi % 12;\n\treturn scaleIndexToNote[note];\n}\n\n/**\n * Convert a pitch class to a MIDI note.\n */\nfunction pitchClassToMidi(pitch: string): number {\n\tconst scaleIndexToNote = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n\treturn scaleIndexToNote.indexOf(pitch);\n}\n\n/**\n * Convert a pitch to a MIDI number.\n */\n// tslint:disable-next-line: only-arrow-functions typedef\nconst pitchToMidi: (note: string) =&gt; number = (function() {\n\tconst regexp = /^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i;\n\tconst noteToScaleIndex = {\n\t\t// tslint:disable-next-line: object-literal-sort-keys\n\t\tcbb: -2, cb: -1, c: 0, \"c#\": 1, cx: 2,\n\t\tdbb: 0, db: 1, d: 2, \"d#\": 3, dx: 4,\n\t\tebb: 2, eb: 3, e: 4, \"e#\": 5, ex: 6,\n\t\tfbb: 3, fb: 4, f: 5, \"f#\": 6, fx: 7,\n\t\tgbb: 5, gb: 6, g: 7, \"g#\": 8, gx: 9,\n\t\tabb: 7, ab: 8, a: 9, \"a#\": 10, ax: 11,\n\t\tbbb: 9, bb: 10, b: 11, \"b#\": 12, bx: 13,\n\t};\n\n\treturn (note) =&gt; {\n\t\tconst split = regexp.exec(note);\n\t\tconst pitch = split[1];\n\t\tconst octave = split[2];\n\t\tconst index = noteToScaleIndex[pitch.toLowerCase()];\n\t\treturn index + (parseInt(octave, 10) + 1) * 12;\n\t};\n}());\n\nconst privateHeaderMap = new WeakMap&lt;Note, Header&gt;();\n\n/**\n * A Note consists of a `noteOn` and `noteOff` event.\n */\nexport class Note implements NoteInterface {\n\n\t/**\n\t * The notes MIDI value.\n\t */\n\tmidi: number;\n\n\t/**\n\t * The normalized velocity (0-1).\n\t */\n\tvelocity: number;\n\n\t/**\n\t * The velocity of the note off.\n\t */\n\tnoteOffVelocity: number;\n\n\t/**\n\t * The start time in ticks.\n\t */\n\tticks: number;\n\n\t/**\n\t * The duration in ticks.\n\t */\n\tdurationTicks: number;\n\n\tconstructor(noteOn: NoteOnEvent, noteOff: NoteOffEvent, header: Header) {\n\t\tprivateHeaderMap.set(this, header);\n\n\t\tthis.midi = noteOn.midi;\n\n\t\tthis.velocity = noteOn.velocity;\n\n\t\tthis.noteOffVelocity = noteOff.velocity;\n\n\t\tthis.ticks = noteOn.ticks;\n\n\t\tthis.durationTicks = noteOff.ticks - noteOn.ticks;\n\t}\n\n\t/**\n\t * The note name and octave in scientific pitch notation, e.g. \"C4\".\n\t */\n\tget name(): string {\n\t\treturn midiToPitch(this.midi);\n\t}\n\n\tset name(n: string) {\n\t\tthis.midi = pitchToMidi(n);\n\t}\n\n\t/**\n\t * The notes octave number.\n\t */\n\tget octave(): number {\n\t\treturn Math.floor(this.midi / 12) - 1;\n\t}\n\n\tset octave(o: number) {\n\t\tconst diff = o - this.octave;\n\t\tthis.midi += diff * 12;\n\t}\n\n\t/**\n\t * The pitch class name. e.g. \"A\".\n\t */\n\tget pitch(): string {\n\t\treturn midiToPitchClass(this.midi);\n\t}\n\n\tset pitch(p: string) {\n\t\tthis.midi = 12 * (this.octave + 1) + pitchClassToMidi(p);\n\t}\n\n\t/**\n\t * The duration of the segment in seconds.\n\t */\n\tget duration(): number {\n\t\tconst header = privateHeaderMap.get(this);\n\t\treturn header.ticksToSeconds(this.ticks + this.durationTicks) - header.ticksToSeconds(this.ticks);\n\t}\n\n\tset duration(d: number) {\n\t\tconst header = privateHeaderMap.get(this);\n\t\tconst noteEndTicks = header.secondsToTicks(this.time + d);\n\t\tthis.durationTicks = noteEndTicks - this.ticks;\n\t}\n\n\t/**\n\t * The time of the event in seconds.\n\t */\n\tget time(): number {\n\t\tconst header = privateHeaderMap.get(this);\n\t\treturn header.ticksToSeconds(this.ticks);\n\t}\n\n\tset time(t: number) {\n\t\tconst header = privateHeaderMap.get(this);\n\t\tthis.ticks = header.secondsToTicks(t);\n\t}\n\n\t/**\n\t * The number of measures (and partial measures) to this beat.\n\t * Takes into account time signature changes.\n\t * @readonly\n\t */\n\tget bars(): number {\n\t\tconst header = privateHeaderMap.get(this);\n\t\treturn header.ticksToMeasures(this.ticks);\n\t}\n\n\ttoJSON(): NoteJSON {\n\t\treturn {\n\t\t\tduration: this.duration,\n\t\t\tdurationTicks: this.durationTicks,\n\t\t\tmidi: this.midi,\n\t\t\tname: this.name,\n\t\t\tticks: this.ticks,\n\t\t\ttime: this.time,\n\t\t\tvelocity: this.velocity,\n\t\t};\n\t}\n}\n\nexport interface NoteJSON {\n\ttime: number;\n\tmidi: number;\n\tname: string;\n\tvelocity: number;\n\tduration: number;\n\tticks: number;\n\tdurationTicks: number;\n}\n\nexport interface NoteOnEvent {\n\tticks: number;\n\tvelocity: number;\n\tmidi: number;\n}\n\nexport interface NoteOffEvent {\n\tticks: number;\n\tvelocity: number;\n}\n\nexport interface NoteInterface {\n\ttime: number;\n\tticks: number;\n\tduration: number;\n\tdurationTicks: number;\n\tmidi: number;\n\tpitch: string;\n\toctave: number;\n\tname: string;\n\tnoteOffVelocity: number;\n\tvelocity: number;\n}\n\ntype PitchDescription = {\n\tname: string;\n} | {\n\tpitch: string;\n\toctave: number;\n} | {\n\tmidi: number;\n}\n\ntype VelocityDescription = {\n\tvelocity?: number;\n\tnoteOffVelocity?: number;\n}\n\ntype TimeDescription = {\n\ttime: number;\n\tduration?: number;\n} | {\n\tticks: number;\n\tdurationTicks?: number;\n}\n\n/**\n * @hidden\n */\nexport type NoteConstructorInterface = PitchDescription &amp; VelocityDescription &amp; TimeDescription\n"</span>,<span class="code-string">"import { Header } from \"./Header\";\nimport { MidiPitchBendEvent } from \"midi-file\";\n\nconst privateHeaderMap = new WeakMap&lt;PitchBend, Header&gt;();\n\n/**\n * Represents a pitch bend event.\n */\nexport class PitchBend implements PitchBendInterface {\n\n\t/**\n\t * The pitch value from...\n\t */\n\tvalue: number;\n\n\t/**\n\t * The tick time of the event.\n\t */\n\tticks: number;\n\n\t/**\n\t * @param event\n\t * @param header\n\t */\n\tconstructor(event: Partial&lt;MidiPitchBendEvent &amp; { absoluteTime: number; }&gt;, header: Header) {\n\t\tprivateHeaderMap.set(this, header);\n\n\t\tthis.ticks = event.absoluteTime;\n\t\tthis.value = event.value;\n\t}\n\n\t/**\n\t * The time of the event in seconds\n\t */\n\tget time(): number {\n\t\tconst header = privateHeaderMap.get(this);\n\t\treturn header.ticksToSeconds(this.ticks);\n\t}\n\n\tset time(t: number) {\n\t\tconst header = privateHeaderMap.get(this);\n\t\tthis.ticks = header.secondsToTicks(t);\n\t}\n\n\ttoJSON(): PitchBendJSON {\n\t\treturn {\n\t\t\tticks: this.ticks,\n\t\t\ttime: this.time,\n\t\t\tvalue: this.value,\n\t\t};\n\t}\n}\n\nexport interface PitchBendJSON {\n\tticks: number;\n\ttime: number;\n\tvalue: number;\n}\n\nexport interface PitchBendInterface {\n\tticks: number;\n\ttime: number;\n\tvalue: number;\n}\n"</span>,<span class="code-string">"import type {\n\tMidiControllerEvent,\n\tMidiEndOfTrackEvent,\n\tMidiEvent,\n\tMidiNoteOffEvent, MidiNoteOnEvent,\n\tMidiPitchBendEvent, MidiTrackNameEvent\n} from \"midi-file\";\n\n// Used to add `absoluteTime` property to 'MidiEvent's.\ntype WithAbsoluteTime = { absoluteTime: number; };\n\nimport { insert } from \"./BinarySearch\";\nimport { ControlChange, ControlChangeInterface } from \"./ControlChange\";\nimport { ControlChangesJSON, createControlChanges } from \"./ControlChanges\";\nimport { PitchBend, PitchBendInterface, PitchBendJSON } from \"./PitchBend\";\n\nimport { Header } from \"./Header\";\nimport { Instrument, InstrumentJSON } from \"./Instrument\";\nimport { Note, NoteConstructorInterface, NoteJSON } from \"./Note\";\n\nconst privateHeaderMap = new WeakMap&lt;Track, Header&gt;();\n\n/**\n * A Track is a collection of 'notes' and 'controlChanges'.\n */\nexport class Track {\n\t/**\n\t * The name of the track.\n\t */\n\tname = \"\";\n\n\t/**\n\t * The instrument associated with the track.\n\t */\n\tinstrument: Instrument;\n\n\t/**\n\t * The track's note events.\n\t */\n\tnotes: Note[] = [];\n\n\t/**\n\t * The channel number of the track. Applies this channel\n\t * to all events associated with the channel.\n\t */\n\tchannel: number;\n\n\t/**\n\t * The control change events.\n\t */\n\tcontrolChanges = createControlChanges();\n\n\t/**\n\t * The end of track event (if it exists) in ticks.\n\t */\n\tendOfTrackTicks?: number;\n\n\t/**\n\t * The pitch bend events.\n\t */\n\tpitchBends: PitchBend[] = [];\n\n\tconstructor(trackData: MidiEvent[], header: Header) {\n\t\tprivateHeaderMap.set(this, header);\n\n\t\tif (trackData) {\n\t\t\t// Get the name of the track.\n\t\t\tconst nameEvent = trackData.find(\n\t\t\t\t(e) =&gt; e.type === \"trackName\"\n\t\t\t) as MidiTrackNameEvent;\n\n\t\t\t// Set empty name if 'trackName' event isn't found.\n\t\t\tthis.name = nameEvent ? nameEvent.text : \"\";\n\t\t}\n\n\t\tthis.instrument = new Instrument(trackData, this);\n\n\t\t// Defaults to 0.\n\t\tthis.channel = 0;\n\n\t\tif (trackData) {\n\t\t\tconst noteOns = trackData.filter(\n\t\t\t\t(event) =&gt; event.type === \"noteOn\"\n\t\t\t) as (MidiNoteOnEvent &amp; WithAbsoluteTime)[];\n\n\t\t\tconst noteOffs = trackData.filter(\n\t\t\t\t(event) =&gt; event.type === \"noteOff\"\n\t\t\t) as (MidiNoteOffEvent &amp; WithAbsoluteTime)[];\n\n\t\t\twhile (noteOns.length) {\n\t\t\t\tconst currentNote = noteOns.shift();\n\n\t\t\t\t// Set the channel based on the note.\n\t\t\t\tthis.channel = currentNote.channel;\n\n\t\t\t\t// Find the corresponding note off.\n\t\t\t\tconst offIndex = noteOffs.findIndex(\n\t\t\t\t\t(note) =&gt;\n\t\t\t\t\t\tnote.noteNumber === currentNote.noteNumber &amp;&amp;\n\t\t\t\t\t\tnote.absoluteTime &gt;= currentNote.absoluteTime\n\t\t\t\t);\n\n\t\t\t\tif (offIndex !== -1) {\n\t\t\t\t\t// Once it's got the note off, add it.\n\t\t\t\t\tconst noteOff = noteOffs.splice(offIndex, 1)[0];\n\n\t\t\t\t\tthis.addNote({\n\t\t\t\t\t\tdurationTicks:\n\t\t\t\t\t\t\tnoteOff.absoluteTime - currentNote.absoluteTime,\n\t\t\t\t\t\tmidi: currentNote.noteNumber,\n\t\t\t\t\t\tnoteOffVelocity: noteOff.velocity / 127,\n\t\t\t\t\t\tticks: currentNote.absoluteTime,\n\t\t\t\t\t\tvelocity: currentNote.velocity / 127,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst controlChanges = trackData.filter(\n\t\t\t\t(event) =&gt; event.type === \"controller\"\n\t\t\t) as (MidiControllerEvent &amp; WithAbsoluteTime)[];\n\t\t\tcontrolChanges.forEach((event) =&gt; {\n\t\t\t\tthis.addCC({\n\t\t\t\t\tnumber: event.controllerType,\n\t\t\t\t\tticks: event.absoluteTime,\n\t\t\t\t\tvalue: event.value / 127,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst pitchBends = trackData.filter(\n\t\t\t\t(event) =&gt; event.type === \"pitchBend\"\n\t\t\t) as (MidiPitchBendEvent &amp; WithAbsoluteTime)[];\n\t\t\tpitchBends.forEach((event) =&gt; {\n\t\t\t\tthis.addPitchBend({\n\t\t\t\t\tticks: event.absoluteTime,\n\t\t\t\t\t// Scale the value between -2^13 to 2^13 to -2 to 2.\n\t\t\t\t\tvalue: event.value / Math.pow(2, 13),\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst endOfTrackEvent:\n\t\t\t| (MidiEndOfTrackEvent &amp; WithAbsoluteTime)\n\t\t\t| undefined = trackData.find(\n\t\t\t\t(event): event is (MidiEndOfTrackEvent &amp; WithAbsoluteTime) =&gt;\n\t\t\t\t\tevent.type === \"endOfTrack\"\n\t\t\t);\n\n\t\t\tthis.endOfTrackTicks =\n\t\t\t\tendOfTrackEvent !== undefined\n\t\t\t\t\t? endOfTrackEvent.absoluteTime\n\t\t\t\t\t: undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Add a note to the notes array.\n\t * @param props The note properties to add.\n\t */\n\taddNote(props: NoteConstructorInterface): this {\n\t\tconst header = privateHeaderMap.get(this);\n\t\tconst note = new Note(\n\t\t\t{\n\t\t\t\tmidi: 0,\n\t\t\t\tticks: 0,\n\t\t\t\tvelocity: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tticks: 0,\n\t\t\t\tvelocity: 0,\n\t\t\t},\n\t\t\theader\n\t\t);\n\n\t\tObject.assign(note, props);\n\t\tinsert(this.notes, note, \"ticks\");\n\t\treturn this;\n\t}\n\n\t/**\n\t * Add a control change to the track.\n\t * @param props\n\t */\n\taddCC(\n\t\tprops:\n\t\t| Omit&lt;ControlChangeInterface, \"ticks\"&gt;\n\t\t| Omit&lt;ControlChangeInterface, \"time\"&gt;\n\t): this {\n\t\tconst header = privateHeaderMap.get(this);\n\t\tconst cc = new ControlChange(\n\t\t\t{\n\t\t\t\tcontrollerType: props.number,\n\t\t\t},\n\t\t\theader\n\t\t);\n\t\tdelete props.number;\n\t\tObject.assign(cc, props);\n\t\tif (!Array.isArray(this.controlChanges[cc.number])) {\n\t\t\tthis.controlChanges[cc.number] = [];\n\t\t}\n\t\tinsert(this.controlChanges[cc.number], cc, \"ticks\");\n\t\treturn this;\n\t}\n\n\t/**\n\t * Add a control change to the track.\n\t */\n\taddPitchBend(\n\t\tprops:\n\t\t| Omit&lt;PitchBendInterface, \"ticks\"&gt;\n\t\t| Omit&lt;PitchBendInterface, \"time\"&gt;\n\t): this {\n\t\tconst header = privateHeaderMap.get(this);\n\t\tconst pb = new PitchBend({}, header);\n\t\tObject.assign(pb, props);\n\t\tinsert(this.pitchBends, pb, \"ticks\");\n\t\treturn this;\n\t}\n\n\t/**\n\t * The end time of the last event in the track.\n\t */\n\tget duration(): number {\n\t\tif (!this.notes.length) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlet maxDuration =\n\t\t\tthis.notes[this.notes.length - 1].time +\n\t\t\tthis.notes[this.notes.length - 1].duration;\n\n\t\tfor (let i = 0; i &lt; this.notes.length - 1; i++) {\n\t\t\tconst duration = this.notes[i].time + this.notes[i].duration;\n\t\t\tif (maxDuration &lt; duration) {\n\t\t\t\tmaxDuration = duration;\n\t\t\t}\n\t\t}\n\n\t\treturn maxDuration;\n\t}\n\n\t/**\n\t * The end time of the last event in the track in ticks.\n\t */\n\tget durationTicks(): number {\n\t\tif (!this.notes.length) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlet maxDuration =\n\t\t\tthis.notes[this.notes.length - 1].ticks +\n\t\t\tthis.notes[this.notes.length - 1].durationTicks;\n\t\tfor (let i = 0; i &lt; this.notes.length - 1; i++) {\n\t\t\tconst duration = this.notes[i].ticks + this.notes[i].durationTicks;\n\t\t\tif (maxDuration &lt; duration) {\n\t\t\t\tmaxDuration = duration;\n\t\t\t}\n\t\t}\n\n\t\treturn maxDuration;\n\t}\n\n\t/**\n\t * Assign the JSON values to this track.\n\t */\n\tfromJSON(json: TrackJSON): void {\n\t\tthis.name = json.name;\n\t\tthis.channel = json.channel;\n\t\tthis.instrument = new Instrument(undefined, this);\n\t\tthis.instrument.fromJSON(json.instrument);\n\n\t\tif (json.endOfTrackTicks !== undefined) {\n\t\t\tthis.endOfTrackTicks = json.endOfTrackTicks;\n\t\t}\n\n\t\tfor (const number in json.controlChanges) {\n\t\t\tif (json.controlChanges[number]) {\n\t\t\t\tjson.controlChanges[number].forEach((cc) =&gt; {\n\t\t\t\t\tthis.addCC({\n\t\t\t\t\t\tnumber: cc.number,\n\t\t\t\t\t\tticks: cc.ticks,\n\t\t\t\t\t\tvalue: cc.value,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tjson.notes.forEach((n) =&gt; {\n\t\t\tthis.addNote({\n\t\t\t\tdurationTicks: n.durationTicks,\n\t\t\t\tmidi: n.midi,\n\t\t\t\tticks: n.ticks,\n\t\t\t\tvelocity: n.velocity,\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Convert the track into a JSON format.\n\t */\n\ttoJSON(): TrackJSON {\n\t\t// Convert all the CCs to JSON.\n\t\tconst controlChanges = {};\n\t\tfor (let i = 0; i &lt; 127; i++) {\n\t\t\tif (this.controlChanges.hasOwnProperty(i)) {\n\t\t\t\tcontrolChanges[i] = this.controlChanges[i].map((c) =&gt;\n\t\t\t\t\tc.toJSON()\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst json: TrackJSON = {\n\t\t\tchannel: this.channel,\n\t\t\tcontrolChanges,\n\t\t\tpitchBends: this.pitchBends.map((pb) =&gt; pb.toJSON()),\n\t\t\tinstrument: this.instrument.toJSON(),\n\t\t\tname: this.name,\n\t\t\tnotes: this.notes.map((n) =&gt; n.toJSON()),\n\t\t};\n\n\t\tif (this.endOfTrackTicks !== undefined) {\n\t\t\tjson.endOfTrackTicks = this.endOfTrackTicks;\n\t\t}\n\n\t\treturn json;\n\t}\n}\n\nexport interface TrackJSON {\n\tname: string;\n\tnotes: NoteJSON[];\n\tchannel: number;\n\tinstrument: InstrumentJSON;\n\tcontrolChanges: ControlChangesJSON;\n\tpitchBends: PitchBendJSON[];\n\tendOfTrackTicks?: number;\n}\n"</span>,<span class="code-string">"// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n"</span>,<span class="code-string">"// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) =&gt; {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) &amp;&amp; !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};"</span>,<span class="code-string">"__webpack_require__.o = (obj, prop) =&gt; (Object.prototype.hasOwnProperty.call(obj, prop))"</span>,<span class="code-string">"// define __esModule on exports\n__webpack_require__.r = (exports) =&gt; {\n\tif(typeof Symbol !== 'undefined' &amp;&amp; Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"</span>,<span class="code-string">"// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(233);\n"</span>],<span class="code-attr">"names"</span>:[<span class="code-string">"root"</span>,<span class="code-string">"factory"</span>,<span class="code-string">"exports"</span>,<span class="code-string">"module"</span>,<span class="code-string">"define"</span>,<span class="code-string">"amd"</span>,<span class="code-string">"a"</span>,<span class="code-string">"i"</span>,<span class="code-string">"self"</span>,<span class="code-string">"this"</span>,<span class="code-string">"flatten"</span>,<span class="code-string">"array"</span>,<span class="code-string">"result"</span>,<span class="code-string">"$flatten"</span>,<span class="code-string">"length"</span>,<span class="code-string">"value"</span>,<span class="code-string">"Array"</span>,<span class="code-string">"isArray"</span>,<span class="code-string">"push"</span>,<span class="code-string">"parseMidi"</span>,<span class="code-string">"writeMidi"</span>,<span class="code-string">"parseTrack"</span>,<span class="code-string">"data"</span>,<span class="code-string">"lastEventTypeByte"</span>,<span class="code-string">"p"</span>,<span class="code-string">"Parser"</span>,<span class="code-string">"events"</span>,<span class="code-string">"eof"</span>,<span class="code-string">"event"</span>,<span class="code-string">"readEvent"</span>,<span class="code-string">"deltaTime"</span>,<span class="code-string">"readVarInt"</span>,<span class="code-string">"eventTypeByte"</span>,<span class="code-string">"readUInt8"</span>,<span class="code-string">"type"</span>,<span class="code-string">"readBytes"</span>,<span class="code-string">"meta"</span>,<span class="code-string">"metatypeByte"</span>,<span class="code-string">"number"</span>,<span class="code-string">"readUInt16"</span>,<span class="code-string">"text"</span>,<span class="code-string">"readString"</span>,<span class="code-string">"channel"</span>,<span class="code-string">"port"</span>,<span class="code-string">"microsecondsPerBeat"</span>,<span class="code-string">"readUInt24"</span>,<span class="code-string">"hourByte"</span>,<span class="code-string">"frameRate"</span>,<span class="code-string">"hour"</span>,<span class="code-string">"min"</span>,<span class="code-string">"sec"</span>,<span class="code-string">"frame"</span>,<span class="code-string">"subFrame"</span>,<span class="code-string">"numerator"</span>,<span class="code-string">"denominator"</span>,<span class="code-string">"metronome"</span>,<span class="code-string">"thirtyseconds"</span>,<span class="code-string">"key"</span>,<span class="code-string">"readInt8"</span>,<span class="code-string">"scale"</span>,<span class="code-string">"param1"</span>,<span class="code-string">"running"</span>,<span class="code-string">"eventType"</span>,<span class="code-string">"noteNumber"</span>,<span class="code-string">"velocity"</span>,<span class="code-string">"byte9"</span>,<span class="code-string">"amount"</span>,<span class="code-string">"controllerType"</span>,<span class="code-string">"programNumber"</span>,<span class="code-string">"buffer"</span>,<span class="code-string">"bufferLen"</span>,<span class="code-string">"pos"</span>,<span class="code-string">"prototype"</span>,<span class="code-string">"u"</span>,<span class="code-string">"readInt16"</span>,<span class="code-string">"readInt24"</span>,<span class="code-string">"readUInt32"</span>,<span class="code-string">"len"</span>,<span class="code-string">"bytes"</span>,<span class="code-string">"slice"</span>,<span class="code-string">"String"</span>,<span class="code-string">"fromCharCode"</span>,<span class="code-string">"apply"</span>,<span class="code-string">"b"</span>,<span class="code-string">"readChunk"</span>,<span class="code-string">"id"</span>,<span class="code-string">"headerChunk"</span>,<span class="code-string">"header"</span>,<span class="code-string">"format"</span>,<span class="code-string">"numTracks"</span>,<span class="code-string">"timeDivision"</span>,<span class="code-string">"framesPerSecond"</span>,<span class="code-string">"ticksPerFrame"</span>,<span class="code-string">"ticksPerBeat"</span>,<span class="code-string">"parseHeader"</span>,<span class="code-string">"tracks"</span>,<span class="code-string">"trackChunk"</span>,<span class="code-string">"track"</span>,<span class="code-string">"writeTrack"</span>,<span class="code-string">"w"</span>,<span class="code-string">"opts"</span>,<span class="code-string">"t"</span>,<span class="code-string">"Writer"</span>,<span class="code-string">"writeEvent"</span>,<span class="code-string">"useByte9ForNoteOff"</span>,<span class="code-string">"writeChunk"</span>,<span class="code-string">"writeVarInt"</span>,<span class="code-string">"writeUInt8"</span>,<span class="code-string">"writeUInt16"</span>,<span class="code-string">"writeString"</span>,<span class="code-string">"writeUInt24"</span>,<span class="code-string">"Math"</span>,<span class="code-string">"floor"</span>,<span class="code-string">"log"</span>,<span class="code-string">"LN2"</span>,<span class="code-string">"writeInt8"</span>,<span class="code-string">"writeBytes"</span>,<span class="code-string">"value14"</span>,<span class="code-string">"lsb14"</span>,<span class="code-string">"msb14"</span>,<span class="code-string">"v"</span>,<span class="code-string">"b0"</span>,<span class="code-string">"b1"</span>,<span class="code-string">"writeInt16"</span>,<span class="code-string">"b2"</span>,<span class="code-string">"writeInt24"</span>,<span class="code-string">"writeUInt32"</span>,<span class="code-string">"b3"</span>,<span class="code-string">"writeInt32"</span>,<span class="code-string">"arr"</span>,<span class="code-string">"concat"</span>,<span class="code-string">"call"</span>,<span class="code-string">"str"</span>,<span class="code-string">"codePointAt"</span>,<span class="code-string">"reverse"</span>,<span class="code-string">"h"</span>,<span class="code-string">"writeHeader"</span>,<span class="code-string">"search"</span>,<span class="code-string">"prop"</span>,<span class="code-string">"beginning"</span>,<span class="code-string">"end"</span>,<span class="code-string">"midPoint"</span>,<span class="code-string">"nextEvent"</span>,<span class="code-string">"index"</span>,<span class="code-string">"splice"</span>,<span class="code-string">"controlChangeNames"</span>,<span class="code-string">"controlChangeIds"</span>,<span class="code-string">"Object"</span>,<span class="code-string">"keys"</span>,<span class="code-string">"reduce"</span>,<span class="code-string">"obj"</span>,<span class="code-string">"privateHeaderMap"</span>,<span class="code-string">"WeakMap"</span>,<span class="code-string">"privateCCNumberMap"</span>,<span class="code-string">"set"</span>,<span class="code-string">"ticks"</span>,<span class="code-string">"absoluteTime"</span>,<span class="code-string">"get"</span>,<span class="code-string">"ticksToSeconds"</span>,<span class="code-string">"secondsToTicks"</span>,<span class="code-string">"toJSON"</span>,<span class="code-string">"time"</span>,<span class="code-string">"ControlChange"</span>,<span class="code-string">"Proxy"</span>,<span class="code-string">"target"</span>,<span class="code-string">"handler"</span>,<span class="code-string">"hasOwnProperty"</span>,<span class="code-string">"encodeControlChange"</span>,<span class="code-string">"cc"</span>,<span class="code-string">"encodeInstrument"</span>,<span class="code-string">"instrument"</span>,<span class="code-string">"midi"</span>,<span class="code-string">"midiData"</span>,<span class="code-string">"ppq"</span>,<span class="code-string">"name"</span>,<span class="code-string">"keySignatures"</span>,<span class="code-string">"map"</span>,<span class="code-string">"keySig"</span>,<span class="code-string">"keyIndex"</span>,<span class="code-string">"keySignatureKeys"</span>,<span class="code-string">"indexOf"</span>,<span class="code-string">"encodeKeySignature"</span>,<span class="code-string">"e"</span>,<span class="code-string">"textEvent"</span>,<span class="code-string">"tempos"</span>,<span class="code-string">"tempo"</span>,<span class="code-string">"bpm"</span>,<span class="code-string">"encodeTempo"</span>,<span class="code-string">"timeSignatures"</span>,<span class="code-string">"timeSig"</span>,<span class="code-string">"timeSignature"</span>,<span class="code-string">"encodeTimeSignature"</span>,<span class="code-string">"notes"</span>,<span class="code-string">"note"</span>,<span class="code-string">"durationTicks"</span>,<span class="code-string">"noteOffVelocity"</span>,<span class="code-string">"encodeNote"</span>,<span class="code-string">"encodeNotes"</span>,<span class="code-string">"controlChanges"</span>,<span class="code-string">"forEach"</span>,<span class="code-string">"encodeControlChanges"</span>,<span class="code-string">"pitchBends"</span>,<span class="code-string">"pb"</span>,<span class="code-string">"encodePitchBend"</span>,<span class="code-string">"encodePitchBends"</span>,<span class="code-string">"sort"</span>,<span class="code-string">"lastTime"</span>,<span class="code-string">"Uint8Array"</span>,<span class="code-string">"privatePPQMap"</span>,<span class="code-string">"update"</span>,<span class="code-string">"currentTime"</span>,<span class="code-string">"lastEventBeats"</span>,<span class="code-string">"lastBPM"</span>,<span class="code-string">"beats"</span>,<span class="code-string">"elapsedSeconds"</span>,<span class="code-string">"lastEvent"</span>,<span class="code-string">"elapsedMeasures"</span>,<span class="code-string">"measures"</span>,<span class="code-string">"tempoTime"</span>,<span class="code-string">"elapsedBeats"</span>,<span class="code-string">"ticksToMeasures"</span>,<span class="code-string">"timeSigEvent"</span>,<span class="code-string">"seconds"</span>,<span class="code-string">"round"</span>,<span class="code-string">"fromJSON"</span>,<span class="code-string">"json"</span>,<span class="code-string">"assign"</span>,<span class="code-string">"setTempo"</span>,<span class="code-string">"Header"</span>,<span class="code-string">"privateTrackMap"</span>,<span class="code-string">"trackData"</span>,<span class="code-string">"programChange"</span>,<span class="code-string">"find"</span>,<span class="code-string">"percussion"</span>,<span class="code-string">"DrumKitByPatchID"</span>,<span class="code-string">"instrumentByPatchID"</span>,<span class="code-string">"n"</span>,<span class="code-string">"patchNumber"</span>,<span class="code-string">"InstrumentFamilyByID"</span>,<span class="code-string">"family"</span>,<span class="code-string">"Instrument"</span>,<span class="code-string">"midiArray"</span>,<span class="code-string">"midiArrayLike"</span>,<span class="code-string">"ArrayBuffer"</span>,<span class="code-string">"currentTicks"</span>,<span class="code-string">"newTracks"</span>,<span class="code-string">"defaultTrack"</span>,<span class="code-string">"trackMap"</span>,<span class="code-string">"Map"</span>,<span class="code-string">"currentProgram"</span>,<span class="code-string">"fill"</span>,<span class="code-string">"targetTrack"</span>,<span class="code-string">"undefined"</span>,<span class="code-string">"program"</span>,<span class="code-string">"trackKey"</span>,<span class="code-string">"has"</span>,<span class="code-string">"size"</span>,<span class="code-string">"splitTracks"</span>,<span class="code-string">"Track"</span>,<span class="code-string">"duration"</span>,<span class="code-string">"shift"</span>,<span class="code-string">"fromUrl"</span>,<span class="code-string">"url"</span>,<span class="code-string">"fetch"</span>,<span class="code-string">"response"</span>,<span class="code-string">"ok"</span>,<span class="code-string">"arrayBuffer"</span>,<span class="code-string">"Midi"</span>,<span class="code-string">"Error"</span>,<span class="code-string">"durations"</span>,<span class="code-string">"max"</span>,<span class="code-string">"addTrack"</span>,<span class="code-string">"toArray"</span>,<span class="code-string">"encode"</span>,<span class="code-string">"trackJSON"</span>,<span class="code-string">"clone"</span>,<span class="code-string">"midiToPitchClass"</span>,<span class="code-string">"regexp"</span>,<span class="code-string">"noteToScaleIndex"</span>,<span class="code-string">"pitchToMidi"</span>,<span class="code-string">"cbb"</span>,<span class="code-string">"cb"</span>,<span class="code-string">"c"</span>,<span class="code-string">"cx"</span>,<span class="code-string">"dbb"</span>,<span class="code-string">"db"</span>,<span class="code-string">"d"</span>,<span class="code-string">"dx"</span>,<span class="code-string">"ebb"</span>,<span class="code-string">"eb"</span>,<span class="code-string">"ex"</span>,<span class="code-string">"fbb"</span>,<span class="code-string">"fb"</span>,<span class="code-string">"f"</span>,<span class="code-string">"fx"</span>,<span class="code-string">"gbb"</span>,<span class="code-string">"gb"</span>,<span class="code-string">"g"</span>,<span class="code-string">"gx"</span>,<span class="code-string">"abb"</span>,<span class="code-string">"ab"</span>,<span class="code-string">"ax"</span>,<span class="code-string">"bbb"</span>,<span class="code-string">"bb"</span>,<span class="code-string">"bx"</span>,<span class="code-string">"split"</span>,<span class="code-string">"exec"</span>,<span class="code-string">"pitch"</span>,<span class="code-string">"octave"</span>,<span class="code-string">"toLowerCase"</span>,<span class="code-string">"parseInt"</span>,<span class="code-string">"noteOn"</span>,<span class="code-string">"noteOff"</span>,<span class="code-string">"toString"</span>,<span class="code-string">"o"</span>,<span class="code-string">"diff"</span>,<span class="code-string">"noteEndTicks"</span>,<span class="code-string">"Note"</span>,<span class="code-string">"PitchBend"</span>,<span class="code-string">"createControlChanges"</span>,<span class="code-string">"nameEvent"</span>,<span class="code-string">"noteOns"</span>,<span class="code-string">"filter"</span>,<span class="code-string">"noteOffs"</span>,<span class="code-string">"currentNote"</span>,<span class="code-string">"offIndex"</span>,<span class="code-string">"findIndex"</span>,<span class="code-string">"addNote"</span>,<span class="code-string">"addCC"</span>,<span class="code-string">"addPitchBend"</span>,<span class="code-string">"pow"</span>,<span class="code-string">"endOfTrackEvent"</span>,<span class="code-string">"endOfTrackTicks"</span>,<span class="code-string">"props"</span>,<span class="code-string">"insert"</span>,<span class="code-string">"maxDuration"</span>,<span class="code-string">"__webpack_module_cache__"</span>,<span class="code-string">"__webpack_require__"</span>,<span class="code-string">"moduleId"</span>,<span class="code-string">"cachedModule"</span>,<span class="code-string">"__webpack_modules__"</span>,<span class="code-string">"definition"</span>,<span class="code-string">"defineProperty"</span>,<span class="code-string">"enumerable"</span>,<span class="code-string">"r"</span>,<span class="code-string">"Symbol"</span>,<span class="code-string">"toStringTag"</span>],<span class="code-attr">"sourceRoot"</span>:<span class="code-string">""</span>}</code></td></tr><tr><td class="css-a4x74f">\</td><style data-emotion-css="jhhjkz">.css-jhhjkz{padding-left:10px;color:rgba(27,31,35,.3);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td class="css-jhhjkz">No newline at end of file</td></tr></tbody></table></div></div></div></div><style data-emotion-css="1teho9j">.css-1teho9j{margin-top:5rem;background:black;color:#aaa;}</style><footer class="css-1teho9j"><style data-emotion-css="1ui8put">.css-1ui8put{max-width:940px;padding:10px 20px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-1ui8put"><p><span>Build: <!-- -->a7ebffa</span></p><p><span> <!-- -->2022<!-- --> UNPKG</span></p><style data-emotion-css="la3nd4">.css-la3nd4{font-size:1.5rem;}</style><p class="css-la3nd4"><style data-emotion-css="bogekj">.css-bogekj{color:#aaa;display:inline-block;}.css-bogekj:hover{color:white;}</style><a href="https://twitter.com/unpkg" class="css-bogekj"><style data-emotion-css="i6dzq1">.css-i6dzq1{vertical-align:text-bottom;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><style data-emotion-css="3czw03">.css-3czw03{color:#aaa;display:inline-block;margin-left:1rem;}.css-3czw03:hover{color:white;}</style><a href="https://github.com/mjackson/unpkg" class="css-3czw03"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></p></div></footer></div><script src="/react@16.8.6/umd/react.production.min.js"></script><script src="/react-dom@16.8.6/umd/react-dom.production.min.js"></script><script src="/@emotion/core@10.0.6/dist/core.umd.min.js"></script><script>'use strict';(function(t,A,c){function w(){w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var e=arguments[b],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a};return w.apply(this,arguments)}function P(a,b){if(null==a)return{};var e={},c=Object.keys(a),d;for(d=0;d<c.length;d++){var h=c[d];0<=b.indexOf(h)||(e[h]=a[h])}return e}function Q(a,b){b||(b=a.slice(0));a.raw=b;return a}function R(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,
"default")?a["default"]:a}function D(a,b){return b={exports:{}},a(b,b.exports),b.exports}function J(a,b,e,c,d){for(var g in a)if(ua(a,g)){try{if("function"!==typeof a[g]){var r=Error((c||"React class")+": "+e+" type `"+g+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[g]+"`.");r.name="Invariant Violation";throw r;}var k=a[g](b,g,c,e,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(q){k=q}!k||k instanceof Error||K((c||"React class")+": type specification of "+
e+" `"+g+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof k+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).");if(k instanceof Error&&!(k.message in L)){L[k.message]=!0;var B=d?d():"";K("Failed "+e+" type: "+k.message+(null!=B?B:""))}}}function G(){return null}function S(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={border:"1px solid #dfe2e5",
borderRadius:3},b["@media (max-width: 700px)"]={borderRightWidth:0,borderLeftWidth:0},b),a)},e)}function T(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={padding:10,background:"#f6f8fa",color:"#424242",border:"1px solid #d1d5da",borderTopLeftRadius:3,borderTopRightRadius:3,margin:"-1px -1px 0",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},b["@media (max-width: 700px)"]={paddingRight:20,paddingLeft:20},b),a)},e)}function U(a){return a&&a.map(function(a,
c){return t.createElement(a.tag,z({key:c},a.attr),U(a.child))})}function E(a){return function(b){return t.createElement(va,z({attr:z({},a.attr)},b),U(a.child))}}function va(a){var b=function(b){var c=a.size||b.size||"1em";if(b.className)var e=b.className;a.className&&(e=(e?e+" ":"")+a.className);var h=a.attr,r=a.title,k=["attr","title"],B={},q;for(q in a)Object.prototype.hasOwnProperty.call(a,q)&&0>k.indexOf(q)&&(B[q]=a[q]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var p=0;for(q=
Object.getOwnPropertySymbols(a);p<q.length;p++)0>k.indexOf(q[p])&&(B[q[p]]=a[q[p]])}return t.createElement("svg",z({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,h,B,{className:e,style:z({color:a.color||b.color},b.style,a.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&t.createElement("title",null,r),a.children)};return void 0!==V?t.createElement(V.Consumer,null,function(a){return b(a)}):b(W)}function F(a,b){var e=b.css;b=P(b,["css"]);return c.jsx(a,w({css:w({},
e,{verticalAlign:"text-bottom"})},b))}function wa(a){return F(X,a)}function xa(a){return F(Y,a)}function ya(a){return F(Z,a)}function za(a){return F(aa,a)}function Aa(a){return F(ba,a)}function ca(a){var b=a.path,e=a.details,g=Object.keys(e).reduce(function(a,b){var c=a.subdirs,g=a.files;b=e[b];"directory"===b.type?c.push(b):"file"===b.type&&g.push(b);return a},{subdirs:[],files:[]});a=g.subdirs;g=g.files;a.sort(da("path"));g.sort(da("path"));var d=[];"/"!==b&&d.push(c.jsx("tr",{key:".."},c.jsx("td",
{css:M}),c.jsx("td",{css:y},c.jsx("a",{title:"Parent directory",href:"../",css:N},"..")),c.jsx("td",{css:y}),c.jsx("td",{css:O})));a.forEach(function(a){a=a.path.substr(1<b.length?b.length+1:1);var e=a+"/";d.push(c.jsx("tr",{key:a},c.jsx("td",{css:M},c.jsx(ya,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:e,css:N},a)),c.jsx("td",{css:y},"-"),c.jsx("td",{css:O},"-")))});g.forEach(function(a){var e=a.size,g=a.contentType;a=a.path.substr(1<b.length?b.length+1:1);d.push(c.jsx("tr",{key:a},c.jsx("td",
{css:M},"text/plain"===g||"text/markdown"===g?c.jsx(wa,null):c.jsx(xa,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:a,css:N},a)),c.jsx("td",{css:y},ea(e)),c.jsx("td",{css:O},g)))});var h=[];0<g.length&&h.push(g.length+" file"+(1===g.length?"":"s"));0<a.length&&h.push(a.length+" folder"+(1===a.length?"":"s"));return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,h.join(", "))),c.jsx("table",{css:{width:"100%",borderCollapse:"collapse",borderRadius:2,background:"#fff","@media (max-width: 700px)":{"& th + th + th + th, & td + td + td + td":{display:"none"}},
"& tr:first-of-type td":{borderTop:0}}},c.jsx("thead",null,c.jsx("tr",null,c.jsx("th",null,c.jsx(H,null,"Icon")),c.jsx("th",null,c.jsx(H,null,"Name")),c.jsx("th",null,c.jsx(H,null,"Size")),c.jsx("th",null,c.jsx(H,null,"Content Type")))),c.jsx("tbody",null,d)))}function Ba(a){a=a.split("/");return a[a.length-1]}function Ca(a){var b=a.uri;return c.jsx("div",{css:{padding:20,textAlign:"center"}},c.jsx("img",{alt:Ba(a.path),src:b}))}function Da(a){a=a.highlights.slice(0);var b=a.length&&""===a[a.length-
1];b&&a.pop();return c.jsx("div",{className:"code-listing",css:{overflowX:"auto",overflowY:"hidden",paddingTop:5,paddingBottom:5}},c.jsx("table",{css:{border:"none",borderCollapse:"collapse",borderSpacing:0}},c.jsx("tbody",null,a.map(function(a,b){var e=b+1;return c.jsx("tr",{key:b},c.jsx("td",{id:"L"+e,css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},c.jsx("span",null,e)),c.jsx("td",{id:"LC"+e,css:{paddingLeft:10,
paddingRight:10,color:"#24292e",whiteSpace:"pre"}},c.jsx("code",{dangerouslySetInnerHTML:{__html:a}})))}),!b&&c.jsx("tr",{key:"no-newline"},c.jsx("td",{css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},"\\"),c.jsx("td",{css:{paddingLeft:10,color:"rgba(27,31,35,.3)",userSelect:"none"}},"No newline at end of file")))))}function Ea(){return c.jsx("div",{css:{padding:20}},c.jsx("p",{css:{textAlign:"center"}},
"No preview available."))}function fa(a){var b=a.packageName,e=a.packageVersion,g=a.path;a=a.details;var d=a.highlights,h=a.uri,r=a.language;return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,ea(a.size)),c.jsx("span",null,r),c.jsx("span",null,c.jsx("a",{href:"/"+b+"@"+e+g,css:{display:"inline-block",marginLeft:8,padding:"2px 8px",textDecoration:"none",fontWeight:600,fontSize:"0.9rem",color:"#24292e",backgroundColor:"#eff3f6",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,":hover":{backgroundColor:"#e6ebf1",
borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},"View Raw"))),d?c.jsx(Da,{highlights:d}):h?c.jsx(Ca,{path:g,uri:h}):c.jsx(Ea,null))}function ha(){var a=Q(["\n  .code-listing {\n    background: #fbfdff;\n    color: #383a42;\n  }\n  .code-comment,\n  .code-quote {\n    color: #a0a1a7;\n    font-style: italic;\n  }\n  .code-doctag,\n  .code-keyword,\n  .code-link,\n  .code-formula {\n    color: #a626a4;\n  }\n  .code-section,\n  .code-name,\n  .code-selector-tag,\n  .code-deletion,\n  .code-subst {\n    color: #e45649;\n  }\n  .code-literal {\n    color: #0184bb;\n  }\n  .code-string,\n  .code-regexp,\n  .code-addition,\n  .code-attribute,\n  .code-meta-string {\n    color: #50a14f;\n  }\n  .code-built_in,\n  .code-class .code-title {\n    color: #c18401;\n  }\n  .code-attr,\n  .code-variable,\n  .code-template-variable,\n  .code-type,\n  .code-selector-class,\n  .code-selector-attr,\n  .code-selector-pseudo,\n  .code-number {\n    color: #986801;\n  }\n  .code-symbol,\n  .code-bullet,\n  .code-meta,\n  .code-selector-id,\n  .code-title {\n    color: #4078f2;\n  }\n  .code-emphasis {\n    font-style: italic;\n  }\n  .code-strong {\n    font-weight: bold;\n  }\n"]);
ha=function(){return a};return a}function ia(){var a=Q(["\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    margin: 0;\n  }\n\n  body {\n    ","\n    font-size: 16px;\n    line-height: 1.5;\n    overflow-wrap: break-word;\n    background: white;\n    color: black;\n  }\n\n  code {\n    ","\n  }\n\n  th,\n  td {\n    padding: 0;\n  }\n\n  select {\n    font-size: inherit;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n  }\n"]);
ia=function(){return a};return a}function ja(a){var b=a.css;a=P(a,["css"]);return c.jsx("a",w({},a,{css:w({color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},b)}))}function Fa(){return c.jsx("header",{css:{marginTop:"2rem"}},c.jsx("h1",{css:{textAlign:"center",fontSize:"3rem",letterSpacing:"0.05em"}},c.jsx("a",{href:"/",css:{color:"#000",textDecoration:"none"}},"UNPKG")))}function Ga(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;a=a.filename;var d=[];if("/"===
a)d.push(b);else{var h="/browse/"+b+"@"+e;d.push(c.jsx(ja,{href:h+"/"},b));b=a.replace(/^\/+/,"").replace(/\/+$/,"").split("/");a=b.pop();b.forEach(function(a){h+="/"+a;d.push(c.jsx(ja,{href:h+"/"},a))});d.push(a)}return c.jsx("header",{css:{display:"flex",flexDirection:"row",alignItems:"center","@media (max-width: 700px)":{flexDirection:"column-reverse",alignItems:"flex-start"}}},c.jsx("h1",{css:{fontSize:"1.5rem",fontWeight:"normal",flex:1,wordBreak:"break-all"}},c.jsx("nav",null,d.map(function(a,
b,e){return c.jsx(t.Fragment,{key:b},0!==b&&c.jsx("span",{css:{paddingLeft:5,paddingRight:5}},"/"),b===e.length-1?c.jsx("strong",null,a):a)}))),c.jsx(Ha,{packageVersion:e,availableVersions:g,onChange:function(a){window.location.href=window.location.href.replace("@"+e,"@"+a)}}))}function Ha(a){var b=a.onChange;return c.jsx("p",{css:{marginLeft:20,"@media (max-width: 700px)":{marginLeft:0,marginBottom:0}}},c.jsx("label",null,"Version:"," ",c.jsx("select",{name:"version",defaultValue:a.packageVersion,
onChange:function(a){b&&b(a.target.value)},css:{appearance:"none",cursor:"pointer",padding:"4px 24px 4px 8px",fontWeight:600,fontSize:"0.9em",color:"#24292e",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,backgroundColor:"#eff3f6",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==)",
backgroundPosition:"right 8px center",backgroundRepeat:"no-repeat",backgroundSize:"auto 25%",":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},a.availableVersions.map(function(a){return c.jsx("option",{key:a,value:a},a)}))))}function Ia(a){var b=a.packageName,e=a.packageVersion;a=a.target;return"directory"===a.type?c.jsx(ca,{path:a.path,details:a.details}):
"file"===a.type?c.jsx(fa,{packageName:b,packageVersion:e,path:a.path,details:a.details}):null}function ka(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;g=void 0===g?[]:g;var d=a.filename;a=a.target;return c.jsx(t.Fragment,null,c.jsx(c.Global,{styles:Ja}),c.jsx(c.Global,{styles:Ka}),c.jsx("div",{css:{flex:"1 0 auto"}},c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Fa,null)),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Ga,{packageName:b,
packageVersion:e,availableVersions:g,filename:d})),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto","@media (max-width: 700px)":{padding:0,margin:0}}},c.jsx(Ia,{packageName:b,packageVersion:e,target:a}))),c.jsx("footer",{css:{marginTop:"5rem",background:"black",color:"#aaa"}},c.jsx("div",{css:{maxWidth:940,padding:"10px 20px",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},c.jsx("p",null,c.jsx("span",null,"Build: ","a7ebffa")),
c.jsx("p",null,c.jsx("span",null,"\u00a9 ",(new Date).getFullYear()," UNPKG")),c.jsx("p",{css:{fontSize:"1.5rem"}},c.jsx("a",{href:"https://twitter.com/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"}}},c.jsx(za,null)),c.jsx("a",{href:"https://github.com/mjackson/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"},marginLeft:"1rem"}},c.jsx(Aa,null))))))}var la="default"in t?t["default"]:t;A=A&&A.hasOwnProperty("default")?A["default"]:A;var La="undefined"!==
typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},m=D(function(a,b){function c(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case d:switch(a=a.type,a){case l:case f:case r:case m:case k:case v:return a;default:switch(a=a&&a.$$typeof,a){case p:case n:case q:return a;default:return b}}case x:case u:case h:return b}}}function g(a){return c(a)===f}Object.defineProperty(b,"__esModule",{value:!0});var d=
(a="function"===typeof Symbol&&Symbol.for)?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,r=a?Symbol.for("react.fragment"):60107,k=a?Symbol.for("react.strict_mode"):60108,m=a?Symbol.for("react.profiler"):60114,q=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,l=a?Symbol.for("react.async_mode"):60111,f=a?Symbol.for("react.concurrent_mode"):60111,n=a?Symbol.for("react.forward_ref"):60112,v=a?Symbol.for("react.suspense"):60113,u=a?Symbol.for("react.memo"):
60115,x=a?Symbol.for("react.lazy"):60116;b.typeOf=c;b.AsyncMode=l;b.ConcurrentMode=f;b.ContextConsumer=p;b.ContextProvider=q;b.Element=d;b.ForwardRef=n;b.Fragment=r;b.Lazy=x;b.Memo=u;b.Portal=h;b.Profiler=m;b.StrictMode=k;b.Suspense=v;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===r||a===f||a===m||a===k||a===v||"object"===typeof a&&null!==a&&(a.$$typeof===x||a.$$typeof===u||a.$$typeof===q||a.$$typeof===p||a.$$typeof===n)};b.isAsyncMode=function(a){return g(a)||
c(a)===l};b.isConcurrentMode=g;b.isContextConsumer=function(a){return c(a)===p};b.isContextProvider=function(a){return c(a)===q};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===d};b.isForwardRef=function(a){return c(a)===n};b.isFragment=function(a){return c(a)===r};b.isLazy=function(a){return c(a)===x};b.isMemo=function(a){return c(a)===u};b.isPortal=function(a){return c(a)===h};b.isProfiler=function(a){return c(a)===m};b.isStrictMode=function(a){return c(a)===k};b.isSuspense=
function(a){return c(a)===v}});R(m);var na=D(function(a,b){(function(){function a(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case h:switch(a=a.type,a){case f:case n:case k:case q:case m:case u:return a;default:switch(a=a&&a.$$typeof,a){case l:case v:case p:return a;default:return b}}case I:case x:case r:return b}}}function c(b){return a(b)===n}Object.defineProperty(b,"__esModule",{value:!0});var d="function"===typeof Symbol&&Symbol.for,h=d?Symbol.for("react.element"):60103,r=
d?Symbol.for("react.portal"):60106,k=d?Symbol.for("react.fragment"):60107,m=d?Symbol.for("react.strict_mode"):60108,q=d?Symbol.for("react.profiler"):60114,p=d?Symbol.for("react.provider"):60109,l=d?Symbol.for("react.context"):60110,f=d?Symbol.for("react.async_mode"):60111,n=d?Symbol.for("react.concurrent_mode"):60111,v=d?Symbol.for("react.forward_ref"):60112,u=d?Symbol.for("react.suspense"):60113,x=d?Symbol.for("react.memo"):60115,I=d?Symbol.for("react.lazy"):60116;d=function(){};var Ma=function(a){for(var b=
arguments.length,f=Array(1<b?b-1:0),c=1;c<b;c++)f[c-1]=arguments[c];var n=0;b="Warning: "+a.replace(/%s/g,function(){return f[n++]});"undefined"!==typeof console&&console.warn(b);try{throw Error(b);}catch(Xa){}},Na=d=function(a,b){if(void 0===b)throw Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!a){for(var f=arguments.length,c=Array(2<f?f-2:0),n=2;n<f;n++)c[n-2]=arguments[n];Ma.apply(void 0,[b].concat(c))}},ma=!1;b.typeOf=a;b.AsyncMode=f;b.ConcurrentMode=
n;b.ContextConsumer=l;b.ContextProvider=p;b.Element=h;b.ForwardRef=v;b.Fragment=k;b.Lazy=I;b.Memo=x;b.Portal=r;b.Profiler=q;b.StrictMode=m;b.Suspense=u;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===k||a===n||a===q||a===m||a===u||"object"===typeof a&&null!==a&&(a.$$typeof===I||a.$$typeof===x||a.$$typeof===p||a.$$typeof===l||a.$$typeof===v)};b.isAsyncMode=function(b){ma||(ma=!0,Na(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API."));
return c(b)||a(b)===f};b.isConcurrentMode=c;b.isContextConsumer=function(b){return a(b)===l};b.isContextProvider=function(b){return a(b)===p};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===h};b.isForwardRef=function(b){return a(b)===v};b.isFragment=function(b){return a(b)===k};b.isLazy=function(b){return a(b)===I};b.isMemo=function(b){return a(b)===x};b.isPortal=function(b){return a(b)===r};b.isProfiler=function(b){return a(b)===q};b.isStrictMode=function(b){return a(b)===
m};b.isSuspense=function(b){return a(b)===u}})()});R(na);var oa=D(function(a){a.exports=na}),pa=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,Qa=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(g){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(a);for(var g,d=1;d<arguments.length;d++){var h=Object(arguments[d]);for(var r in h)Oa.call(h,r)&&(c[r]=h[r]);if(pa){g=pa(h);for(var k=0;k<g.length;k++)Pa.call(h,g[k])&&(c[g[k]]=h[g[k]])}}return c},K=function(){},L={},ua=Function.call.bind(Object.prototype.hasOwnProperty);
K=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};J.resetWarningCache=function(){L={}};var Ra=Function.call.bind(Object.prototype.hasOwnProperty),C=function(){};C=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};var Sa=function(a,b){function c(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function g(a){this.message=a;this.stack=""}function d(a){function c(c,n,v,d,e,u,h){d=d||"<<anonymous>>";
u=u||v;if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==h){if(b)throw c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),c.name="Invariant Violation",c;"undefined"!==typeof console&&(h=d+":"+v,!f[h]&&3>l&&(C("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+d+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),
f[h]=!0,l++))}return null==n[v]?c?null===n[v]?new g("The "+e+" `"+u+"` is marked as required "+("in `"+d+"`, but its value is `null`.")):new g("The "+e+" `"+u+"` is marked as required in "+("`"+d+"`, but its value is `undefined`.")):null:a(n,v,d,e,u)}var f={},l=0,d=c.bind(null,!1);d.isRequired=c.bind(null,!0);return d}function h(a){return d(function(b,c,f,d,l,e){b=b[c];return k(b)!==a?(b=m(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("`"+a+"`."))):null})}function r(b){switch(typeof b){case "number":case "string":case "undefined":return!0;
case "boolean":return!b;case "object":if(Array.isArray(b))return b.every(r);if(null===b||a(b))return!0;var c=b&&(p&&b[p]||b["@@iterator"]);var f="function"===typeof c?c:void 0;if(f)if(c=f.call(b),f!==b.entries)for(;!(b=c.next()).done;){if(!r(b.value))return!1}else for(;!(b=c.next()).done;){if((b=b.value)&&!r(b[1]))return!1}else return!1;return!0;default:return!1}}function k(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":"symbol"===b||a&&("Symbol"===a["@@toStringTag"]||
"function"===typeof Symbol&&a instanceof Symbol)?"symbol":b}function m(a){if("undefined"===typeof a||null===a)return""+a;var b=k(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function q(a){a=m(a);switch(a){case "array":case "object":return"an "+a;case "boolean":case "date":case "regexp":return"a "+a;default:return a}}var p="function"===typeof Symbol&&Symbol.iterator,l={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),
string:h("string"),symbol:h("symbol"),any:d(G),arrayOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside arrayOf.");b=b[c];if(!Array.isArray(b))return b=k(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected an array."));for(c=0;c<b.length;c++){var n=a(b,c,f,d,l+"["+c+"]","SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(n instanceof Error)return n}return null})},
element:function(){return d(function(b,c,d,l,e){b=b[c];return a(b)?null:(b=k(b),new g("Invalid "+l+" `"+e+"` of type "+("`"+b+"` supplied to `"+d+"`, expected a single ReactElement.")))})}(),elementType:function(){return d(function(a,b,c,d,l){a=a[b];return oa.isValidElementType(a)?null:(a=k(a),new g("Invalid "+d+" `"+l+"` of type "+("`"+a+"` supplied to `"+c+"`, expected a single ReactElement type.")))})}(),instanceOf:function(a){return d(function(b,c,f,d,l){if(!(b[c]instanceof a)){var n=a.name||
"<<anonymous>>";b=b[c];b=b.constructor&&b.constructor.name?b.constructor.name:"<<anonymous>>";return new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("instance of `"+n+"`."))}return null})},node:function(){return d(function(a,b,c,d,l){return r(a[b])?null:new g("Invalid "+d+" `"+l+"` supplied to "+("`"+c+"`, expected a ReactNode."))})}(),objectOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside objectOf.");
b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+d+" `"+l+"` of type "+("`"+c+"` supplied to `"+f+"`, expected an object."));for(var n in b)if(Ra(b,n)&&(c=a(b,n,f,d,l+"."+n,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"),c instanceof Error))return c;return null})},oneOf:function(a){return Array.isArray(a)?d(function(b,f,d,l,e){b=b[f];for(f=0;f<a.length;f++)if(c(b,a[f]))return null;f=JSON.stringify(a,function(a,b){return"symbol"===m(b)?String(b):b});return new g("Invalid "+l+" `"+e+"` of value `"+
String(b)+"` "+("supplied to `"+d+"`, expected one of "+f+"."))}):(1<arguments.length?C("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):C("Invalid argument supplied to oneOf, expected an array."),G)},oneOfType:function(a){if(!Array.isArray(a))return C("Invalid argument supplied to oneOfType, expected an instance of array."),G;for(var b=0;b<a.length;b++){var c=a[b];if("function"!==
typeof c)return C("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+q(c)+" at index "+b+"."),G}return d(function(b,c,f,d,l){for(var e=0;e<a.length;e++)if(null==(0,a[e])(b,c,f,d,l,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return null;return new g("Invalid "+d+" `"+l+"` supplied to "+("`"+f+"`."))})},shape:function(a){return d(function(b,c,d,l,f){b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+l+" `"+f+"` of type `"+c+"` "+("supplied to `"+d+"`, expected `object`."));
for(var e in a)if(c=a[e])if(c=c(b,e,d,l,f+"."+e,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return c;return null})},exact:function(a){return d(function(b,c,d,l,f){var e=b[c],n=k(e);if("object"!==n)return new g("Invalid "+l+" `"+f+"` of type `"+n+"` "+("supplied to `"+d+"`, expected `object`."));n=Qa({},b[c],a);for(var h in n){n=a[h];if(!n)return new g("Invalid "+l+" `"+f+"` key `"+h+"` supplied to `"+d+"`.\nBad object: "+JSON.stringify(b[c],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(a),
null,"  "));if(n=n(e,h,d,l,f+"."+h,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return n}return null})}};g.prototype=Error.prototype;l.checkPropTypes=J;l.resetWarningCache=J.resetWarningCache;return l.PropTypes=l};m=D(function(a){a.exports=Sa(oa.isElement,!0)});var Ta=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],g;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a},Ua={border:0,clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",
padding:0,overflow:"hidden",position:"absolute"},H=function(a){return la.createElement("div",Ta({style:Ua},a))},qa=D(function(a){(function(b,c){a.exports=c()})(La,function(){function a(a){if(!a)return!0;if(!d(a)||0!==a.length)for(var b in a)if(q.call(a,b))return!1;return!0}function c(a){return"number"===typeof a||"[object Number]"===t.call(a)}function g(a){return"string"===typeof a||"[object String]"===t.call(a)}function d(a){return"object"===typeof a&&"number"===typeof a.length&&"[object Array]"===
t.call(a)}function h(a){var b=parseInt(a);return b.toString()===a?b:a}function m(b,d,e,k){c(d)&&(d=[d]);if(a(d))return b;if(g(d))return m(b,d.split("."),e,k);var f=h(d[0]);if(1===d.length)return d=b[f],void 0!==d&&k||(b[f]=e),d;void 0===b[f]&&(c(f)?b[f]=[]:b[f]={});return m(b[f],d.slice(1),e,k)}function k(b,f){c(f)&&(f=[f]);if(!a(b)){if(a(f))return b;if(g(f))return k(b,f.split("."));var e=h(f[0]),l=b[e];if(1===f.length)void 0!==l&&(d(b)?b.splice(e,1):delete b[e]);else if(void 0!==b[e])return k(b[e],
f.slice(1));return b}}var t=Object.prototype.toString,q=Object.prototype.hasOwnProperty,p={ensureExists:function(a,b,c){return m(a,b,c,!0)},set:function(a,b,c,d){return m(a,b,c,d)},insert:function(a,b,c,e){var f=p.get(a,b);e=~~e;d(f)||(f=[],p.set(a,b,f));f.splice(e,0,c)},empty:function(b,f){if(a(f))return b;if(!a(b)){var e,h;if(!(e=p.get(b,f)))return b;if(g(e))return p.set(b,f,"");if("boolean"===typeof e||"[object Boolean]"===t.call(e))return p.set(b,f,!1);if(c(e))return p.set(b,f,0);if(d(e))e.length=
0;else if("object"===typeof e&&"[object Object]"===t.call(e))for(h in e)q.call(e,h)&&delete e[h];else return p.set(b,f,null)}},push:function(a,b){var c=p.get(a,b);d(c)||(c=[],p.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,b,c){for(var d,e=0,f=b.length;e<f;e++)if(void 0!==(d=p.get(a,b[e])))return d;return c},get:function(b,d,e){c(d)&&(d=[d]);if(a(d))return b;if(a(b))return e;if(g(d))return p.get(b,d.split("."),e);var f=h(d[0]);return 1===d.length?void 0===
b[f]?e:b[f]:p.get(b[f],d.slice(1),e)},del:function(a,b){return k(a,b)}};return p})});var ra=function(a){return function(b){return typeof b===a}};var Va=function(a,b){var c=1,g=b||function(a,b){return b};"-"===a[0]&&(c=-1,a=a.substr(1));return function(b,e){var d;b=g(a,qa.get(b,a));e=g(a,qa.get(e,a));b<e&&(d=-1);b>e&&(d=1);b===e&&(d=0);return d*c}};var da=function(){var a=Array.prototype.slice.call(arguments),b=a.filter(ra("string")),c=a.filter(ra("function"))[0];return function(a,d){for(var e=b.length,
g=0,k=0;0===g&&k<e;)g=Va(b[k],c)(a,d),k++;return g}};let sa="B kB MB GB TB PB EB ZB YB".split(" "),ta=(a,b)=>{let c=a;"string"===typeof b?c=a.toLocaleString(b):!0===b&&(c=a.toLocaleString());return c};var ea=(a,b)=>{if(!Number.isFinite(a))throw new TypeError(`Expected a finite number, got ${typeof a}: ${a}`);b=Object.assign({},b);if(b.signed&&0===a)return" 0 B";var c=0>a;let g=c?"-":b.signed?"+":"";c&&(a=-a);if(1>a)return a=ta(a,b.locale),g+a+" B";c=Math.min(Math.floor(Math.log10(a)/3),sa.length-
1);a=Number((a/Math.pow(1E3,c)).toPrecision(3));a=ta(a,b.locale);return g+a+" "+sa[c]},W={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V=t.createContext&&t.createContext(W),z=function(){z=Object.assign||function(a){for(var b,c=1,g=arguments.length;c<g;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};return z.apply(this,arguments)},Y=function(a){return E({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",
d:"M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM5 6.98L3.5 8.5 5 10l-.5 1L2 8.5 4.5 6l.5.98zM7.5 6L10 8.5 7.5 11l-.5-.98L8.5 8.5 7 7l.5-1z"}}]})(a)};Y.displayName="GoFileCode";var Z=function(a){return E({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}}]})(a)};Z.displayName="GoFileDirectory";var X=function(a){return E({tag:"svg",
attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}}]})(a)};X.displayName="GoFile";var ba=function(a){return E({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(a)};
ba.displayName="FaGithub";var aa=function(a){return E({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(a)};
aa.displayName="FaTwitter";var N={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},y={paddingTop:6,paddingRight:3,paddingBottom:6,paddingLeft:3,borderTop:"1px solid #eaecef"},M=w({},y,{color:"#424242",width:17,paddingRight:2,paddingLeft:10,"@media (max-width: 700px)":{paddingLeft:20}}),O=w({},y,{textAlign:"right",paddingRight:10,"@media (max-width: 700px)":{paddingRight:20}});ca.propTypes={path:m.string.isRequired,details:m.objectOf(m.shape({path:m.string.isRequired,type:m.oneOf(["directory",
"file"]).isRequired,contentType:m.string,integrity:m.string,size:m.number})).isRequired};fa.propTypes={path:m.string.isRequired,details:m.shape({contentType:m.string.isRequired,highlights:m.arrayOf(m.string),uri:m.string,integrity:m.string.isRequired,language:m.string.isRequired,size:m.number.isRequired}).isRequired};var Ja=c.css(ia(),'\nfont-family: -apple-system,\n  BlinkMacSystemFont,\n  "Segoe UI",\n  "Roboto",\n  "Oxygen",\n  "Ubuntu",\n  "Cantarell",\n  "Fira Sans",\n  "Droid Sans",\n  "Helvetica Neue",\n  sans-serif;\n',
"\nfont-family: Menlo,\n  Monaco,\n  Lucida Console,\n  Liberation Mono,\n  DejaVu Sans Mono,\n  Bitstream Vera Sans Mono,\n  Courier New,\n  monospace;\n"),Ka=c.css(ha()),Wa=m.shape({path:m.string.isRequired,type:m.oneOf(["directory","file"]).isRequired,details:m.object.isRequired});ka.propTypes={packageName:m.string.isRequired,packageVersion:m.string.isRequired,availableVersions:m.arrayOf(m.string),filename:m.string.isRequired,target:Wa.isRequired};A.hydrate(la.createElement(ka,window.__DATA__||
{}),document.getElementById("root"))})(React,ReactDOM,emotionCore);
</script></body></html>